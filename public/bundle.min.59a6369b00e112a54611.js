webpackJsonp([1,2],{148:function(e,t){"use strict";throw new Error("Module build failed: Error: ENOENT: no such file or directory, open '/Users/julianjorgensen/sites/rmc/node_modules/redux/es/index.js'")},15:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.closeCart=t.openCart=t.updateCartItem=t.updateCartItemsCount=t.updateCartSubtotal=t.addToCart=t.startAddorUpdateCartItem=void 0;var a=n(24),o=r(a),l=(t.startAddorUpdateCartItem=function(e,t){return function(n,r){function a(e){return o.lineItems.filter(function(t){return t.variant_id===e})[0]}var o=r().cart,s=void 0;s=e.variant_id?e.variant_id:e.id;var f=a(s);n(f?i(f,parseInt(t)):l(e,t)),n(c()),n(u(t))}},t.addToCart=function(e,t){return function(n,r){o.default.cart.createLineItemsFromVariants({variant:e,quantity:t}).then(function(e){var t=e.lineItems;n({type:"UPDATE_CART_ITEMS",updatedCartItems:t}),n(s())}).catch(function(e){console.log("Failed to addToCart",e)})}}),c=t.updateCartSubtotal=function(){return function(e,t){var n=o.default.cart.subtotal;e({type:"UPDATE_CART_SUBTOTAL",newSubtotal:n})}},u=t.updateCartItemsCount=function(e){return function(t,n){var r=n().cart,a=parseInt(r.lineItemsCount)+parseInt(e);console.log("new quantity: ",e),console.log("old quantity: ",r.lineItemsCount),console.log("updatedCartItemsCount: ",a),t({type:"UPDATE_CART_ITEMS_COUNT",updatedCartItemsCount:a}),t(parseInt(a)<1?f():s())}},i=t.updateCartItem=function(e,t){return function(n,r){var a=r().cart,l=e.quantity+t,c=[];a.lineItems.forEach(function(t){if(e.id===t.id){if(l>0){var n=[];n=t,n.quantity=l,c.push(n)}}else c.push(t)}),o.default.cart.updateLineItem(e.id,l).then(function(){n({type:"UPDATE_CART_ITEMS",updatedCartItems:c})})}},s=t.openCart=function(){return{type:"OPEN_CART"}},f=t.closeCart=function(){return{type:"CLOSE_CART"}}},150:function(e,t){throw new Error("Module parse failed: /Users/julianjorgensen/sites/rmc/app/styles/app.scss Unexpected character '@' (1:0)\nYou may need an appropriate loader to handle this file type.\n| @import \"base/variables\";\n| \n| // foundation")},151:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){R.default.set({page:e.pathname}),R.default.pageview(e.pathname)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),l=r(o),c=n(12),u=n(16),i=(r(u),n(159)),s=r(i),f=n(158),d=r(f),p=n(160),m=r(p),h=n(84),y=r(h),b=n(155),v=r(b),_=n(83),E=r(_),O=n(161),w=r(O),g=n(167),C=r(g),N=n(166),j=r(N),P=n(165),T=r(P),k=n(163),I=r(k),A=n(164),S=r(A),M=n(272),R=r(M),x=n(8);x.connect,n(49).configure();c.browserHistory.listen(function(e){a(e),window.scrollTo(0,0)}),t.default=l.default.createElement(c.Router,{history:c.browserHistory},l.default.createElement(c.Route,{path:"/",component:s.default},l.default.createElement(c.IndexRoute,{path:"/",component:d.default}),l.default.createElement(c.Route,{path:"products",component:m.default}),l.default.createElement(c.Route,{path:"product/:productId",component:y.default}),l.default.createElement(c.Route,{path:"collections",component:v.default}),l.default.createElement(c.Route,{path:"collection/:collectionId",component:E.default}),l.default.createElement(c.Route,{path:"my-city",component:m.default}),l.default.createElement(c.Route,{path:"upload",component:w.default}),l.default.createElement(c.Route,{path:"order-status",component:C.default}),l.default.createElement(c.Route,{path:"map",component:j.default}),l.default.createElement(c.Route,{path:"login",component:T.default}),l.default.createElement(c.Route,{path:"about",component:I.default}),l.default.createElement(c.Route,{path:"contact",component:S.default})))},153:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(51),f=r(s),d=n(8),p=d.connect,m=n(15),h=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.item,r=(e.incrementLineItem,e.quantity),a=function(e){t(m.startAddorUpdateCartItem(n,parseInt(e)))};return i.default.createElement("div",{className:"cart-item"},i.default.createElement("div",{className:"cart-item__img",style:{backgroundImage:"url("+n.imageVariants[2].src+")"}}),i.default.createElement("div",{className:"cart-item__content"},i.default.createElement("div",{className:"cart-item__content-row"},i.default.createElement("div",{className:"cart-item__variant-title"},n.variant_title),i.default.createElement("span",{className:"cart-item__title"},n.title)),i.default.createElement("div",{className:"cart-item__content-row"},i.default.createElement("div",{className:"cart-item__quantity-container"},i.default.createElement("button",{className:"btn--seamless quantity-decrement",type:"button",onClick:function(){a(-1)}},i.default.createElement("span",null,"-"),i.default.createElement("span",{className:"hide"},"Decrement")),i.default.createElement("input",{value:r,className:"cart-item__quantity",type:"number",min:"0",readOnly:!0}),i.default.createElement("button",{className:"btn--seamless quantity-increment",type:"button",onClick:function(){a(1)}},i.default.createElement("span",null,"+"),i.default.createElement("span",{className:"hide"},"Increment"))),i.default.createElement("span",{className:"cart-item__price"},f.default.asMoney(n.price*r)))))}}]),t}(i.default.Component);t.default=p(function(e){return{cart:e.cart}})(h)},154:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(12),f=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.id;return i.default.createElement("div",{className:"collection-item"},i.default.createElement("div",{className:"collection-item-inner"},i.default.createElement("h2",{className:"text-center"},i.default.createElement(s.Link,{to:"/collection/"+n},t))))}}]),t}(i.default.Component);e.exports=f},155:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(83),f=(r(s),n(154)),d=r(f),p=n(8),m=p.connect,h=(n(47),function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props.collections;return e.length>0?i.default.createElement("div",{className:"row"},e.map(function(e){return i.default.createElement(d.default,{key:e.collection_id,id:e.collection_id,title:e.title})})):i.default.createElement("div",null,"Loading collections...")}}]),t}(i.default.Component));t.default=m(function(e){return{collections:e.collections.all}})(h)},156:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(12),f=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){return i.default.createElement("footer",{id:"site-footer"},i.default.createElement("nav",{className:"footer-nav"},i.default.createElement("li",null,i.default.createElement(s.Link,{to:"/about",activeClassName:"active"},"About")),i.default.createElement("li",null,i.default.createElement(s.Link,{to:"/products",activeClassName:"active"},"Shop All")),i.default.createElement("li",null,i.default.createElement(s.Link,{to:"/contact",activeClassName:"active"},"Contact")),i.default.createElement("li",null,i.default.createElement(s.Link,{to:"/upload",activeClassName:"active"},"Upload Design"))),i.default.createElement("p",null,"Lorem ipsum dolar sit amit. Sed dono avec."))}}]),t}(i.default.Component);e.exports=f},157:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(12),f=n(8),d=f.connect,p=n(15),m=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.cartItems;return i.default.createElement("header",{id:"site-header"},i.default.createElement("ul",{className:"mini-nav"},i.default.createElement("li",{className:"mini-nav-item"},i.default.createElement(s.Link,{to:"/about",activeClassName:"active"},"About")),i.default.createElement("li",{className:"mini-nav-item"},i.default.createElement(s.Link,{to:"/order-status",activeClassName:"active"},"Order Status")),i.default.createElement("li",{className:"mini-nav-item"},i.default.createElement(s.Link,{to:"/map",activeClassName:"active"},"Map")),i.default.createElement("li",{className:"mini-nav-item"},i.default.createElement(s.Link,{to:"/login",activeClassName:"active"},"Login")),i.default.createElement("li",{className:"mini-nav-item mini-nav-item-cart",onClick:function(){t(p.openCart())}},i.default.createElement("i",{className:"fa fa-shopping-cart"})," ",n>0?"["+n+"]":"")),i.default.createElement("div",{id:"site-logo"},i.default.createElement(s.IndexLink,{to:"/",activeClassName:"active",activeStyle:{fontWeight:"bold"}},i.default.createElement("img",{src:"/images/logo.png"}))),i.default.createElement("nav",{id:"site-nav"},i.default.createElement("li",{className:"site-nav-item"},i.default.createElement(s.Link,{to:"/products",activeClassName:"active"},"Shop")),i.default.createElement("li",{className:"site-nav-item"},i.default.createElement(s.Link,{to:"/my-city",activeClassName:"active"},"My City")),i.default.createElement("li",{className:"site-nav-item"},i.default.createElement(s.Link,{to:"/categories",activeClassName:"active"},"Categories")),i.default.createElement("div",{id:"site-nav-upload"},i.default.createElement(s.Link,{to:"/upload"},i.default.createElement("img",{src:"/images/upload.png"})))))}}]),t}(i.default.Component);t.default=d(function(e){return{cartItems:e.cart.lineItemsCount}})(m)},158:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(313),f=r(s),d=n(12),p=n(50),m=r(p),h=n(85),y=r(h),b=n(8),v=b.connect,_=n(15),E=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"handleAddToCart",value:function(e){var t=this.props.dispatch;t(_.startAddorUpdateCartItem(e.selectedVariant,1))}},{key:"render",value:function(){var e=this,t=this.props.products;t=t.slice(0,12);var n={className:"center products-carousel",infinite:!0,centerPadding:"60px",autoplay:!0,slidesToShow:4,speed:500,arrows:!1,lazyLoad:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};return t.length>0?i.default.createElement("div",null,i.default.createElement(f.default,n,t.map(function(e,t){return i.default.createElement("div",{key:t,className:"products-carousel-item"},i.default.createElement(d.Link,{to:"/product/"+e.attrs.product_id},i.default.createElement("div",{className:"product-item-image",style:{backgroundImage:"url("+e.selectedVariant.imageVariants[5].src+")"}})))})),i.default.createElement("section",{className:"section-callout"},i.default.createElement("div",{className:"container"},i.default.createElement("h4",{className:"section-headline"},"Show your pride. Display your talents. ",i.default.createElement("span",{className:"font-white"},"Rep your city.")),i.default.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam semper nulla vel elit gravida, vel placerat turpis convallis. Praesent eu lorem suscipit, gravida leo sed, luctus erat. Nullam consectetur, tortor a facilisis lobortis, velit massa mattis risus, eget imperdiet velit arcu non mauris. Mauris bibendum bibendum ligula, nec maximus sapien porta non."),i.default.createElement("div",{className:"section-callout__cta-items"},i.default.createElement(d.Link,{to:"/products"},i.default.createElement("img",{src:"/images/button-shop.png",alt:"Shop now"})),i.default.createElement("div",{className:"search-box"},i.default.createElement("i",{className:"fa fa-search"}),i.default.createElement("input",{tyep:"text",placeholder:"Keyword Search"})),i.default.createElement(d.Link,{to:"/upload"},i.default.createElement("img",{src:"/images/button-upload.png",alt:"Shop now"}))))),i.default.createElement("div",{className:"container"},i.default.createElement("h3",{className:"products-grid-title"},"What's hot / What's new"),i.default.createElement("div",{className:"products-grid"},t.map(function(t){return i.default.createElement(y.default,{key:t.key,addToCart:function(){return e.handleAddToCart(t)},id:t.attrs.product_id,title:t.attrs.title,image:t.selectedVariant.imageVariants[5].src})})))):i.default.createElement(m.default,null)}}]),t}(i.default.Component);t.default=v(function(e){return{products:e.products.all}})(E)},159:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(157),f=r(s),d=n(156),p=r(d),m=n(16),h=r(m),y=n(162),b=r(y),v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={title:"",content:""},n}return l(t,e),c(t,[{key:"render",value:function(){var e={title:"Rep Your City",description:"Rep Your City description",meta:{charset:"utf-8"},auto:{ograph:!0}},t=this.props.location.pathname.substr(1).split("/");return i.default.createElement("div",{id:"main",className:"page-"+(t[0]?t[0]+" subpage":"home")},i.default.createElement(h.default,e),i.default.createElement(f.default,null),i.default.createElement("div",{id:"main-container"},i.default.createElement(b.default,null),this.props.children),i.default.createElement(p.default,null))}}]),t}(i.default.Component);e.exports=v},160:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(50),f=r(s),d=n(85),p=r(d),m=n(8),h=m.connect,y=n(15),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"handleAddToCart",value:function(e){var t=this.props.dispatch;t(y.startAddorUpdateCartItem(e.selectedVariant,1))}},{key:"render",value:function(){var e=this,t=this.props.products;return t.length>0?i.default.createElement("div",{className:"container"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"small-12 medium-3 columns"},i.default.createElement("nav",{className:"products-nav"},i.default.createElement("h4",{className:"products-nav__headline"},"Categories"),i.default.createElement("ul",null,i.default.createElement("li",null,"City / state"),i.default.createElement("li",null,"Sports"),i.default.createElement("li",null,"Hobbies"),i.default.createElement("li",null,"Music"),i.default.createElement("li",null,"Animals"),i.default.createElement("li",null,"Show all")),i.default.createElement("h4",{className:"products-nav__headline"},"Style"),i.default.createElement("div",{className:"products-nav__search"},i.default.createElement("input",{type:"text",placeholder:"Select style"}),i.default.createElement("button",{type:"submit",className:"products-nav__search-button"},i.default.createElement("i",{className:"fa fa-search"}))),i.default.createElement("h4",{className:"products-nav__headline"},"Search"),i.default.createElement("div",{className:"products-nav__search"},i.default.createElement("input",{type:"text",placeholder:"Enter keywords"}),i.default.createElement("button",{type:"submit",className:"products-nav__search-button"},i.default.createElement("i",{className:"fa fa-search"}))))),i.default.createElement("div",{className:"small-12 medium-9 column"},i.default.createElement("div",{className:"products-grid"},t.map(function(t){return i.default.createElement(p.default,{key:t.key,addToCart:function(){return e.handleAddToCart(t)},id:t.attrs.product_id,title:t.attrs.title,image:t.selectedVariant.imageVariants[4].src})}))))):i.default.createElement(f.default,null)}}]),t}(i.default.Component);t.default=h(function(e){return{products:e.products.all}})(b)},161:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=(n(12),n(8)),f=s.connect,d=(n(48),n(15),function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){this.props.dispatch;return i.default.createElement("div",{className:"container text-center"},i.default.createElement("img",{src:"/images/upload-placeholder.png"}))}}]),t}(i.default.Component));t.default=f(function(e){return{activeProduct:e.products.active}})(d)},162:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(24),f=r(s),d=n(153),p=r(d),m=n(51),h=r(m),y=n(8),b=y.connect,v=n(15),_=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.handleCheckout();return e}return l(t,e),c(t,[{key:"componentWillMount",value:function(){this.dispatch=this.props.dispatch}},{key:"handleCloseCart",value:function(){this.dispatch(v.closeCart())}},{key:"handleCheckout",value:function(){window.open(f.default.cart.checkoutUrl,"_self")}},{key:"render",value:function(){var e=this.props.cart,t=e.isOpen,n=e.lineItems,r=(e.lineItemCount,e.subtotal),a=function(){if(n.length>0)return n.map(function(e){return i.default.createElement(p.default,{key:e.id,item:e,quantity:e.quantity})})};return i.default.createElement("div",{className:"cart "+(t?"js-active":"")},i.default.createElement("div",{className:"cart-section cart-section--top"},i.default.createElement("h2",{className:"cart-title"},"Your cart: ",t),i.default.createElement("button",{className:"btn--close"},i.default.createElement("div",{onClick:this.handleCloseCart.bind(this)},"×"),i.default.createElement("span",{className:"hide"},"Close"))),i.default.createElement("div",{className:"cart-form"},i.default.createElement("div",{className:"cart-item-container cart-section"},i.default.createElement("div",null,a())),i.default.createElement("div",{className:"cart-bottom"},i.default.createElement("div",{className:"cart-info clearfix cart-section"},i.default.createElement("div",{className:"type--caps cart-info__total cart-info__small"},"Total"),i.default.createElement("div",{className:"cart-info__pricing"},i.default.createElement("span",{className:"cart-info__small cart-info__total"},"USD"),i.default.createElement("span",{className:"pricing pricing--no-padding"},h.default.asMoney(r)))),i.default.createElement("div",{className:"cart-actions-container cart-section type--center"},i.default.createElement("div",{className:"cart-discount-notice cart-info__small"},"Shipping and discount codes are added at checkout."),i.default.createElement("input",{type:"submit",className:"btn btn--cart-checkout",id:"checkout",name:"checkout",value:"Checkout",onClick:this.handleCheckout})))))}}]),t}(i.default.Component);t.default=b(function(e){return{cart:e.cart}})(_)},163:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(16),f=(r(s),function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){return i.default.createElement("section",{className:"section"},i.default.createElement("div",{className:"container"},i.default.createElement("h1",null,"About us")))}}]),t}(i.default.Component));e.exports=f},164:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(16),f=(r(s),function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){return i.default.createElement("section",{className:"section"},i.default.createElement("div",{className:"container"},i.default.createElement("h1",null,"Contact")))}}]),t}(i.default.Component));e.exports=f},165:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(16),f=(r(s),function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){return i.default.createElement("section",{className:"section"},i.default.createElement("div",{className:"container"},i.default.createElement("h1",null,"Login"),i.default.createElement("form",null,i.default.createElement("input",{type:"text",placeholder:"Email"}),i.default.createElement("input",{type:"password",placeholder:"Password"}),i.default.createElement("input",{type:"submit",className:"button",value:"Login"}))))}}]),t}(i.default.Component));e.exports=f},166:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(16),f=(r(s),function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){return i.default.createElement("section",{className:"section"},i.default.createElement("div",{className:"container"},i.default.createElement("h1",null,"Map page")))}}]),t}(i.default.Component));e.exports=f},167:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(16),f=(r(s),function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"render",value:function(){return i.default.createElement("section",{className:"section"},i.default.createElement("div",{className:"container"},i.default.createElement("h1",null,"Order Status page")))}}]),t}(i.default.Component));e.exports=f},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.productsReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:[],active:null},t=arguments[1];switch(t.type){case"ADD_PRODUCTS":return r({},e,{all:t.products});case"SET_ACTIVE_PRODUCT":return r({},e,{active:r({},e.active,{fetched:!0,options:t.options})});case"CLEAR_ACTIVE_PRODUCT":return r({},e,{active:null});case"UPDATE_ACTIVE_PRODUCT_OPTIONS":return r({},e,{active:r({},e.active,{options:t.options})});default:return e}},t.collectionsReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:[],active:null},t=arguments[1];switch(t.type){case"ADD_COLLECTIONS":return r({},e,{all:t.collections});case"SET_ACTIVE_COLLECTION":return r({},e,{active:t.parsedCollection});default:return e}},t.cartReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,lineItems:[]},t=arguments[1];switch(t.type){case"SET_INITIAL_CART_STATE":return r({},t.localCart);case"UPDATE_CART_ITEMS":return r({},e,{lineItems:t.updatedCartItems});case"UPDATE_CART_ITEMS_COUNT":return r({},e,{lineItemsCount:t.updatedCartItemsCount});case"UPDATE_CART_SUBTOTAL":return r({},e,{subtotal:t.newSubtotal});case"OPEN_CART":return r({},e,{isOpen:!0});case"CLOSE_CART":return r({},e,{isOpen:!1});default:return e}},t.navReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showClose:!1,showNav:!1},t=arguments[1];switch(t.type){case"TOGGLE_NAV_ICON":return r({},e,{showClose:!e.showClose,showNav:e.showNav});case"TOGGLE_NAV":return r({},e,{showClose:!e.showClose,showNav:!e.showNav});case"CLOSE_NAV":return r({},e,{showClose:!1,showNav:!1});default:return e}}},24:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(n(0),n(335)),l=(n(49).configure(),function(){function e(){r(this,e),this.client=o.buildClient({apiKey:"e0ab8cf9b5a30cee2616bf151a56c763",domain:"rmc-preview.myshopify.com",appId:"6"}),this.cart={}}return a(e,[{key:"createCart",value:function(){var e=this;return new Promise(function(t,n){e.client.createCart().then(function(n){localStorage.setItem("lastCartId",n.id),console.log("created new cart",n),e.cart=n;var r={isOpen:!1,lineItemsCount:0,lineItems:[],subtotal:0};t(r)})})}},{key:"restoreCart",value:function(){var e=this;return new Promise(function(t,n){e.client.fetchCart(localStorage.getItem("lastCartId")).then(function(n){e.cart=n;var r={isOpen:!1,lineItemsCount:n.lineItemCount,lineItems:n.lineItems,subtotal:n.subtotal};t(r)})})}}]),e}());t.default=new l},272:function(e,t){throw new Error("Module build failed: Error: ENOENT: no such file or directory, open '/Users/julianjorgensen/sites/rmc/node_modules/react-ga/src/index.js'")},283:function(e,t){throw new Error("Module build failed: Error: ENOENT: no such file or directory, open '/Users/julianjorgensen/sites/rmc/node_modules/react-modal/lib/index.js'")},313:function(e,t){"use strict";throw new Error("Module build failed: Error: ENOENT: no such file or directory, open '/Users/julianjorgensen/sites/rmc/node_modules/react-slick/lib/index.js'")},330:function(e,t){"use strict";throw new Error("Module build failed: Error: ENOENT: no such file or directory, open '/Users/julianjorgensen/sites/rmc/node_modules/redux-thunk/lib/index.js'")},335:function(e,t){"use strict";throw new Error("Module build failed: Error: ENOENT: no such file or directory, open '/Users/julianjorgensen/sites/rmc/node_modules/shopify-buy/lib/shopify.js'")},343:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(0),o=r(a),l=n(17),c=r(l),u=n(8),i=n(24),s=r(i);n(150);var f=n(151),d=r(f),p=(n(15),n(48)),m=n(47),h=n(49).configure();h.subscribe(function(){var e=h.getState();console.log("New state",e)}),h.dispatch(p.startAddProducts()),h.dispatch(m.startAddCollections()),localStorage.getItem("lastCartId")?s.default.restoreCart().then(function(e){h.dispatch({type:"SET_INITIAL_CART_STATE",localCart:e})}):s.default.createCart().then(function(e){h.dispatch({type:"SET_INITIAL_CART_STATE",localCart:e})}),c.default.render(o.default.createElement(u.Provider,{store:h},d.default),document.getElementById("app"))},47:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addCollections=t.startAddCollections=t.setActiveCollection=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(24),l=r(o),c=(t.setActiveCollection=function(e){return function(t){return l.default.client.fetchCollection(e).then(function(e){var n=e||{},r=a({},n);t({type:"SET_ACTIVE_COLLECTION",parsedCollection:r})})}},t.startAddCollections=function(){return function(e){return l.default.client.fetchAllCollections().then(function(t){var n=t||{},r=[];Object.keys(n).forEach(function(e){r.push(a({key:e},n[e]))}),e(c(r))})}},t.addCollections=function(e){return{type:"ADD_COLLECTIONS",collections:e}})},48:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateActiveProductOptions=t.clearActiveProduct=t.setActiveProduct=t.preloadProductImages=t.addProducts=t.startAddProducts=void 0;var a=n(24),o=r(a),l=(t.startAddProducts=function(){return function(e){return o.default.client.fetchAllProducts().then(function(t){var n=t||{},r=n.map(function(e,t){var n=[];return n=e,n.key=t,n});e(l(r)),e(c())})}},t.addProducts=function(e){return{type:"ADD_PRODUCTS",products:e}}),c=t.preloadProductImages=function(){return function(e,t){var n=t().products.all,r=[];n.map(function(e,t){return r[t]=new Image,r[t].src=e.selectedVariant.imageVariants[4].src,r[t]})}};t.setActiveProduct=function(e){return{type:"SET_ACTIVE_PRODUCT",options:e}},t.clearActiveProduct=function(){return{type:"CLEAR_ACTIVE_PRODUCT"}},t.updateActiveProductOptions=function(e){return{type:"UPDATE_ACTIVE_PRODUCT_OPTIONS",options:e}}},49:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0;var o=n(148),l=a(o),c=n(330),u=r(c),i=n(168);t.configure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.combineReducers({products:i.productsReducer,collections:i.collectionsReducer,cart:i.cartReducer,nav:i.navReducer}),n=l.createStore(t,e,l.compose(l.applyMiddleware(u.default),window.devToolsExtension?window.devToolsExtension():function(e){return e}));return n}},50:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return l.default.createElement("div",{className:"loader"},l.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x fa-fw"}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(0),l=r(o)},51:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return a(e,[{key:"asMoney",value:function(e,t,n,r,a){t=t||"$",n=n||",",r=r||".",a=a||".";var o=new RegExp("(\\d)(?=(\\d{3})+\\.)","g");return t+parseFloat(e,10).toFixed(2).replace(a,r).replace(o,"$1"+n).toString()}}]),e}();t.default=new o},83:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(8),f=s.connect,d=n(47),p=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return l(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this.props.dispatch;e(d.setActiveCollection(this.props.params.collectionId))}},{key:"render",value:function(){var e=void 0;if(e=this.props.collection){var t=(this.props.dispatch,e),n=(t.collection_id,t.title);return i.default.createElement("div",{className:"collection-index"},i.default.createElement("h1",{className:"text-center"},n))}return i.default.createElement("div",null,"Loading collection...")}}]),t}(i.default.Component);t.default=f(function(e){return{collection:e.collections.active}})(p)},84:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(12),f=n(51),d=r(f),p=n(283),m=r(p),h=n(24),y=r(h),b=n(50),v=r(b),_=n(8),E=_.connect,O=n(48),w=n(15),g=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={modalIsOpen:!1},e.openModal=e.openModal.bind(e),e.closeModal=e.closeModal.bind(e);return e}return l(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this;this.dispatch=this.props.dispatch,y.default.client.fetchProduct(this.props.params.productId).then(function(t){var n=t||{};e.product=n,e.dispatch(O.setActiveProduct(n.options))})}},{key:"componentWillUnmount",value:function(){this.dispatch(O.clearActiveProduct())}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"handleOptionChange",value:function(e,t){this.product.options.filter(function(t){return t.name===e})[0].selected=t,this.dispatch(O.updateActiveProductOptions(this.product.options))}},{key:"render",value:function(){var e=this,t=void 0;if(t=this.product){var n=this.props.dispatch,r=t.attrs,a=(r.product_id,r.title),o=(r.images,r.options,t),l=o.description,c=o.selectedVariant,u=o.selectedVariantImage,f=function(){return i.default.createElement("div",{className:"product-options"},t.options.map(function(t,n){if("Size"!=t.name&&"Title"!=t.name)return i.default.createElement("select",{key:n,name:t.name,value:t.selected,onChange:function(n){e.handleOptionChange(t.name,n.target.value)}},t.values.map(function(e,t){return i.default.createElement("option",{key:t,value:e},e)}))}))},p=function(){return t.options.map(function(t,n){if("Size"==t.name)return i.default.createElement("ul",{key:n,className:"product-sizes"},t.values.map(function(n,r){return i.default.createElement("li",{key:r,className:"product-size "+(t.selected===n?"selected":""),onClick:function(){e.handleOptionChange(t.name,n)}},n)}))})};return console.log("activeProduct: ",t),i.default.createElement("div",{className:"container"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"small-12 medium-8 column"},i.default.createElement("button",{onClick:s.browserHistory.goBack,className:"button hollow"},"‹ Back to products"),i.default.createElement("p",{className:"text-center"},i.default.createElement("img",{src:u.src,alt:""}))),i.default.createElement("div",{className:"small-12 medium-4 column"},i.default.createElement("h1",{className:"product-title"},a),i.default.createElement("div",{className:"product-info"},i.default.createElement("h5",{className:"product-info__headline"},"Artist"),i.default.createElement("p",null,"JWISH88"),i.default.createElement("h5",{className:"product-info__headline"},"Description"),i.default.createElement("div",{dangerouslySetInnerHTML:{__html:l}}),f(),p(),i.default.createElement("div",{className:"product-price"},d.default.asMoney(c.price)),i.default.createElement("div",{className:"product-charity"},i.default.createElement("input",{type:"text",placeholder:"Choose Charity"}),i.default.createElement("button",{type:"submit",className:"product-charity__button"},i.default.createElement("i",{className:"fa fa-caret-right"})),i.default.createElement("div",{className:"product-charity__more-info",onClick:this.openModal},i.default.createElement("i",{className:"fa fa-info-circle"})," ",i.default.createElement("a",{href:"#"},"more info")),i.default.createElement(m.default,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,contentLabel:"more info",closeTimeoutMS:200,className:"ReactModal__Content"},i.default.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque egestas, nibh sed tristique ornare, nunc dui sollicitudin elit, id consectetur odio lectus eu nulla. Proin dapibus convallis urna sit amet dictum. Ut porttitor ligula at purus auctor molestie. Etiam velit nibh, porttitor at ipsum mattis, consectetur egestas arcu. Donec pellentesque augue sit amet elementum facilisis. Aenean semper malesuada ligula faucibus sollicitudin. Curabitur ut lorem ac erat porta lacinia pulvinar et risus."),i.default.createElement("p",null,"Sed at nulla dolor. Ut quis quam finibus, efficitur mi sed, sollicitudin urna. Nunc vel tortor commodo, mollis est eu, blandit massa. Vivamus sed mi vitae sem commodo consectetur eu in sem. Donec ut facilisis odio. Nullam id elementum eros, non tempus tortor. Nullam in mattis felis. Praesent bibendum blandit ante, et elementum metus consectetur vitae."),i.default.createElement("button",{className:"close-modal-icon",onClick:this.closeModal},i.default.createElement("i",{className:"fa fa-times"})))),i.default.createElement("button",{onClick:function(){n(w.startAddorUpdateCartItem(t.selectedVariant,1))},className:"button large add-to-cart"},"Add To Cart"),i.default.createElement("img",{src:"/images/credit-cards.png",alt:"Accepted credit cards"})))))}return i.default.createElement(v.default,null)}}]),t}(i.default.Component);t.default=E(function(e){return{activeProduct:e.products.active}})(g)},85:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=r(u),s=n(12),f=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.id,r=e.image;return i.default.createElement("div",{className:"product-item"},i.default.createElement("div",{className:"product-item-inner"},i.default.createElement(s.Link,{to:"/product/"+n},i.default.createElement("div",{className:"product-item-image",style:{backgroundImage:"url("+r+")"}})),i.default.createElement("hr",null),i.default.createElement("h6",{className:"product-item-title"},i.default.createElement(s.Link,{to:"/product/"+n},t)),i.default.createElement("div",{className:"author"},i.default.createElement("div",{className:"author__photo",style:{backgroundImage:"url("+r+")"}}),i.default.createElement("div",{className:"author__info"},i.default.createElement(s.Link,{to:"/author/"},i.default.createElement("div",{className:"author__name"},"James88"),i.default.createElement("div",{className:"author__location"},"Canton Ohio"))))))}}]),t}(i.default.Component);e.exports=f}},[343]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLm1pbi41OWE2MzY5YjAwZTExMmE1NDYxMS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvYWN0aW9ucy9jYXJ0QWN0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL3JvdXRlci9yb3V0ZXIuanN4Iiwid2VicGFjazovLy8uL2FwcC9jb250YWluZXJzL0NhcnQtaXRlbS5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2NvbnRhaW5lcnMvQ29sbGVjdGlvbkl0ZW0uanN4Iiwid2VicGFjazovLy8uL2FwcC9jb250YWluZXJzL0NvbGxlY3Rpb25zLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY29udGFpbmVycy9Gb290ZXIuanN4Iiwid2VicGFjazovLy8uL2FwcC9jb250YWluZXJzL0hlYWRlci5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2NvbnRhaW5lcnMvSW5kZXguanN4Iiwid2VicGFjazovLy8uL2FwcC9jb250YWluZXJzL01haW4uanN4Iiwid2VicGFjazovLy8uL2FwcC9jb250YWluZXJzL1Byb2R1Y3RzLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY29udGFpbmVycy9VcGxvYWQuanN4Iiwid2VicGFjazovLy8uL2FwcC9jb250YWluZXJzL2NhcnQuanN4Iiwid2VicGFjazovLy8uL2FwcC9wcmVzZW50YXRpb25hbC9BYm91dC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL3ByZXNlbnRhdGlvbmFsL0NvbnRhY3QuanN4Iiwid2VicGFjazovLy8uL2FwcC9wcmVzZW50YXRpb25hbC9Mb2dpbi5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL3ByZXNlbnRhdGlvbmFsL01hcC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL3ByZXNlbnRhdGlvbmFsL09yZGVyU3RhdHVzLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvcmVkdWNlcnMvcmVkdWNlcnMuanN4Iiwid2VicGFjazovLy8uL2FwcC9hcGkvc2hvcGlmeUFQSS5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2FwcC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2FjdGlvbnMvY29sbGVjdGlvbkFjdGlvbnMuanN4Iiwid2VicGFjazovLy8uL2FwcC9hY3Rpb25zL3Byb2R1Y3RBY3Rpb25zLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvc3RvcmUvY29uZmlndXJlU3RvcmUuanN4Iiwid2VicGFjazovLy8uL2FwcC9wcmVzZW50YXRpb25hbC9Mb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3V0aWxzL2Zvcm1hdC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2NvbnRhaW5lcnMvQ29sbGVjdGlvbi5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2NvbnRhaW5lcnMvUHJvZHVjdC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2NvbnRhaW5lcnMvUHJvZHVjdEl0ZW0uanN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjE0OCIsIm1vZHVsZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJFcnJvciIsIjE1IiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiY2xvc2VDYXJ0Iiwib3BlbkNhcnQiLCJ1cGRhdGVDYXJ0SXRlbSIsInVwZGF0ZUNhcnRJdGVtc0NvdW50IiwidXBkYXRlQ2FydFN1YnRvdGFsIiwiYWRkVG9DYXJ0Iiwic3RhcnRBZGRvclVwZGF0ZUNhcnRJdGVtIiwidW5kZWZpbmVkIiwiX3Nob3BpZnlBUEkiLCJfc2hvcGlmeUFQSTIiLCJwcm9kdWN0VmFyaWFudCIsInF1YW50aXR5IiwiZGlzcGF0Y2giLCJnZXRTdGF0ZSIsImZpbmRDYXJ0SXRlbUJ5VmFyaWFudElkIiwidmFyaWFudElkIiwiY2FydCIsImxpbmVJdGVtcyIsImZpbHRlciIsIml0ZW0iLCJ2YXJpYW50X2lkIiwiaWQiLCJjYXJ0TGluZUl0ZW0iLCJwYXJzZUludCIsImNyZWF0ZUxpbmVJdGVtc0Zyb21WYXJpYW50cyIsInZhcmlhbnQiLCJ0aGVuIiwidXBkYXRlZENhcnQiLCJ1cGRhdGVkQ2FydEl0ZW1zIiwidHlwZSIsImNhdGNoIiwiZXJyb3JzIiwiY29uc29sZSIsImxvZyIsIm5ld1N1YnRvdGFsIiwic3VidG90YWwiLCJ1cGRhdGVkQ2FydEl0ZW1zQ291bnQiLCJsaW5lSXRlbXNDb3VudCIsInNlbGVjdGVkQ2FydEl0ZW0iLCJ1cGRhdGVkUXVhbnRpdHkiLCJmb3JFYWNoIiwiY2FydEl0ZW0iLCJ1cGRhdGVkQ2FydEl0ZW0iLCJwdXNoIiwidXBkYXRlTGluZUl0ZW0iLCIxNTAiLCIxNTEiLCJsb2dQYWdlVmlldyIsImxvY2F0aW9uIiwiX3JlYWN0R2EyIiwic2V0IiwicGFnZSIsInBhdGhuYW1lIiwicGFnZXZpZXciLCJfcmVhY3QiLCJfcmVhY3QyIiwiX3JlYWN0Um91dGVyIiwiX3JlYWN0RG9jdW1lbnRNZXRhIiwiX01haW4iLCJfTWFpbjIiLCJfSW5kZXgiLCJfSW5kZXgyIiwiX1Byb2R1Y3RzIiwiX1Byb2R1Y3RzMiIsIl9Qcm9kdWN0IiwiX1Byb2R1Y3QyIiwiX0NvbGxlY3Rpb25zIiwiX0NvbGxlY3Rpb25zMiIsIl9Db2xsZWN0aW9uIiwiX0NvbGxlY3Rpb24yIiwiX1VwbG9hZCIsIl9VcGxvYWQyIiwiX09yZGVyU3RhdHVzIiwiX09yZGVyU3RhdHVzMiIsIl9NYXAiLCJfTWFwMiIsIl9Mb2dpbiIsIl9Mb2dpbjIiLCJfQWJvdXQiLCJfQWJvdXQyIiwiX0NvbnRhY3QiLCJfQ29udGFjdDIiLCJfcmVhY3RHYSIsIl9yZXF1aXJlIiwiY29ubmVjdCIsImNvbmZpZ3VyZSIsImJyb3dzZXJIaXN0b3J5IiwibGlzdGVuIiwid2luZG93Iiwic2Nyb2xsVG8iLCJjcmVhdGVFbGVtZW50IiwiUm91dGVyIiwiaGlzdG9yeSIsIlJvdXRlIiwicGF0aCIsImNvbXBvbmVudCIsIkluZGV4Um91dGUiLCIxNTMiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiY2FsbCIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2Zvcm1hdCIsIl9mb3JtYXQyIiwiYWN0aW9ucyIsIkNhcnRJdGVtIiwiX1JlYWN0JENvbXBvbmVudCIsInRoaXMiLCJnZXRQcm90b3R5cGVPZiIsIl9wcm9wcyIsImluY3JlbWVudExpbmVJdGVtIiwiY2hhbmdlUXVhbnRpdHkiLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImltYWdlVmFyaWFudHMiLCJzcmMiLCJ2YXJpYW50X3RpdGxlIiwidGl0bGUiLCJvbkNsaWNrIiwibWluIiwicmVhZE9ubHkiLCJhc01vbmV5IiwicHJpY2UiLCJDb21wb25lbnQiLCJzdGF0ZSIsIjE1NCIsIkNvbGxlY3Rpb25JdGVtIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJMaW5rIiwidG8iLCIxNTUiLCJfQ29sbGVjdGlvbkl0ZW0iLCJfQ29sbGVjdGlvbkl0ZW0yIiwiQ29sbGVjdGlvbnMiLCJjb2xsZWN0aW9ucyIsIm1hcCIsImNvbGxlY3Rpb24iLCJjb2xsZWN0aW9uX2lkIiwiYWxsIiwiMTU2IiwiRm9vdGVyIiwiYWN0aXZlQ2xhc3NOYW1lIiwiMTU3IiwiY2FydEFjdGlvbnMiLCJIZWFkZXIiLCJjYXJ0SXRlbXMiLCJJbmRleExpbmsiLCJhY3RpdmVTdHlsZSIsImZvbnRXZWlnaHQiLCIxNTgiLCJfcmVhY3RTbGljayIsIl9yZWFjdFNsaWNrMiIsIl9Mb2FkZXIiLCJfTG9hZGVyMiIsIl9Qcm9kdWN0SXRlbSIsIl9Qcm9kdWN0SXRlbTIiLCJJbmRleCIsInByb2R1Y3QiLCJzZWxlY3RlZFZhcmlhbnQiLCJfdGhpczIiLCJwcm9kdWN0cyIsInNsaWNlIiwic2V0dGluZ3MiLCJpbmZpbml0ZSIsImNlbnRlclBhZGRpbmciLCJhdXRvcGxheSIsInNsaWRlc1RvU2hvdyIsInNwZWVkIiwiYXJyb3dzIiwibGF6eUxvYWQiLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNsaWRlc1RvU2Nyb2xsIiwiaW5pdGlhbFNsaWRlIiwiaW5kZXgiLCJhdHRycyIsInByb2R1Y3RfaWQiLCJhbHQiLCJ0eWVwIiwicGxhY2Vob2xkZXIiLCJoYW5kbGVBZGRUb0NhcnQiLCJpbWFnZSIsIjE1OSIsIl9IZWFkZXIiLCJfSGVhZGVyMiIsIl9Gb290ZXIiLCJfRm9vdGVyMiIsIl9yZWFjdERvY3VtZW50TWV0YTIiLCJfY2FydCIsIl9jYXJ0MiIsIk1haW4iLCJfdGhpcyIsImNvbnRlbnQiLCJtZXRhIiwiZGVzY3JpcHRpb24iLCJjaGFyc2V0IiwiYXV0byIsIm9ncmFwaCIsInBhZ2VOYW1lIiwic3Vic3RyIiwic3BsaXQiLCJjaGlsZHJlbiIsIjE2MCIsIlByb2R1Y3RzIiwiMTYxIiwiVXBsb2FkIiwiYWN0aXZlUHJvZHVjdCIsImFjdGl2ZSIsIjE2MiIsIl9DYXJ0SXRlbSIsIl9DYXJ0SXRlbTIiLCJDYXJ0IiwiaGFuZGxlQ2hlY2tvdXQiLCJvcGVuIiwiY2hlY2tvdXRVcmwiLCJfcHJvcHMkY2FydCIsImlzT3BlbiIsImxpbmVJdGVtQ291bnQiLCJyZW5kZXJMaW5lSXRlbXMiLCJsaW5lSXRlbSIsImhhbmRsZUNsb3NlQ2FydCIsImJpbmQiLCJuYW1lIiwiMTYzIiwiQWJvdXQiLCIxNjQiLCJDb250YWN0IiwiMTY1IiwiTG9naW4iLCIxNjYiLCJNYXAiLCIxNjciLCJPcmRlclN0YXR1cyIsIjE2OCIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiaGFzT3duUHJvcGVydHkiLCJwcm9kdWN0c1JlZHVjZXIiLCJhY3Rpb24iLCJmZXRjaGVkIiwib3B0aW9ucyIsImNvbGxlY3Rpb25zUmVkdWNlciIsInBhcnNlZENvbGxlY3Rpb24iLCJjYXJ0UmVkdWNlciIsImxvY2FsQ2FydCIsIm5hdlJlZHVjZXIiLCJzaG93Q2xvc2UiLCJzaG93TmF2IiwiMjQiLCJTaG9waWZ5QnV5Iiwic2hvcGlmeUFQSSIsImNsaWVudCIsImJ1aWxkQ2xpZW50IiwiYXBpS2V5IiwiZG9tYWluIiwiYXBwSWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNyZWF0ZUNhcnQiLCJuZXdDYXJ0IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImZldGNoQ2FydCIsImdldEl0ZW0iLCJyZW1vdGVDYXJ0IiwiMjcyIiwiMjgzIiwiMzEzIiwiMzMwIiwiMzM1IiwiMzQzIiwiX3JlYWN0RG9tIiwiX3JlYWN0RG9tMiIsIl9yZWFjdFJlZHV4IiwiX3JvdXRlciIsIl9yb3V0ZXIyIiwicHJvZHVjdEFjdGlvbnMiLCJjb2xsZWN0aW9uQWN0aW9ucyIsInN0b3JlIiwic3Vic2NyaWJlIiwic3RhcnRBZGRQcm9kdWN0cyIsInN0YXJ0QWRkQ29sbGVjdGlvbnMiLCJyZXN0b3JlQ2FydCIsInJlbmRlciIsIlByb3ZpZGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIjQ3IiwiYWRkQ29sbGVjdGlvbnMiLCJzZXRBY3RpdmVDb2xsZWN0aW9uIiwiZmV0Y2hDb2xsZWN0aW9uIiwiZGF0YSIsImZldGNoQWxsQ29sbGVjdGlvbnMiLCJwYXJzZWRDb2xsZWN0aW9ucyIsImtleXMiLCJjb2xsZWN0aW9uSWQiLCI0OCIsInVwZGF0ZUFjdGl2ZVByb2R1Y3RPcHRpb25zIiwiY2xlYXJBY3RpdmVQcm9kdWN0Iiwic2V0QWN0aXZlUHJvZHVjdCIsInByZWxvYWRQcm9kdWN0SW1hZ2VzIiwiYWRkUHJvZHVjdHMiLCJmZXRjaEFsbFByb2R1Y3RzIiwicGFyc2VkUHJvZHVjdHMiLCJ1cGRhdGVkUHJvZHVjdCIsImltYWdlcyIsIkltYWdlIiwiNDkiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIm5ld09iaiIsIl9yZWR1eCIsInJlZHV4IiwiX3JlZHV4VGh1bmsiLCJfcmVkdXhUaHVuazIiLCJfcmVkdWNlcnMiLCJpbml0aWFsU3RhdGUiLCJyZWR1Y2VyIiwiY29tYmluZVJlZHVjZXJzIiwibmF2IiwiY3JlYXRlU3RvcmUiLCJjb21wb3NlIiwiYXBwbHlNaWRkbGV3YXJlIiwiZGV2VG9vbHNFeHRlbnNpb24iLCJmIiwiNTAiLCJMb2FkZXIiLCI1MSIsIkZvcm1hdCIsImFtb3VudCIsImN1cnJlbmN5IiwidGhvdXNhbmRTZXBhcmF0b3IiLCJkZWNpbWFsU2VwYXJhdG9yIiwibG9jYWxlRGVjaW1hbFNlcGFyYXRvciIsInJlZ2V4IiwiUmVnRXhwIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJyZXBsYWNlIiwidG9TdHJpbmciLCI4MyIsIkNvbGxlY3Rpb24iLCJwYXJhbXMiLCJfY29sbGVjdGlvbiIsIjg0IiwiX3JlYWN0TW9kYWwiLCJfcmVhY3RNb2RhbDIiLCJQcm9kdWN0IiwibW9kYWxJc09wZW4iLCJvcGVuTW9kYWwiLCJjbG9zZU1vZGFsIiwiZmV0Y2hQcm9kdWN0IiwicHJvZHVjdElkIiwic2V0U3RhdGUiLCJvcHRpb25OYW1lIiwib3B0aW9uIiwic2VsZWN0ZWQiLCJfdGhpczMiLCJfYWN0aXZlUHJvZHVjdCRhdHRycyIsIl9hY3RpdmVQcm9kdWN0Iiwic2VsZWN0ZWRWYXJpYW50SW1hZ2UiLCJyZW5kZXJPcHRpb25zIiwib25DaGFuZ2UiLCJldmVudCIsImhhbmRsZU9wdGlvbkNoYW5nZSIsInZhbHVlcyIsInJlbmRlclNpemVzIiwib3B0aW9uc0luZGV4IiwiZ29CYWNrIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJocmVmIiwib25SZXF1ZXN0Q2xvc2UiLCJjb250ZW50TGFiZWwiLCJjbG9zZVRpbWVvdXRNUyIsIjg1IiwiUHJvZHVjdEl0ZW0iXSwibWFw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R0FBQTNELFFBQUE4RixjQUFBLE9BQUsrQyxVQUFVLGdCQUNibEYsRUFBQTNELFFBQUE4RixjQUFBLE9BQUsrQyxVQUFVLHNCQUNibEYsRUFBQTNELFFBQUE4RixjQUFBbEMsRUFBQW1HLE1BQU1DLEdBQUEsWUFBZ0J2SSxHQUFNa0MsRUFBQTNELFFBQUE4RixjQUFBLE9BQUsrQyxVQUFVLHFCQUFxQkMsT0FBUUMsZ0JBQWlCLE9BQVNxRSxFQUFRLFFBQzFHekosRUFBQTNELFFBQUE4RixjQUFBLFdBQ0FuQyxFQUFBM0QsUUFBQThGLGNBQUEsTUFBSStDLFVBQVUsc0JBQXFCbEYsRUFBQTNELFFBQUE4RixjQUFBbEMsRUFBQW1HLE1BQU1DLEdBQUEsWUFBZ0J2SSxHQUFPMEgsSUFDaEV4RixFQUFBM0QsUUFBQThGLGNBQUEsT0FBSytDLFVBQVUsVUFDYmxGLEVBQUEzRCxRQUFBOEYsY0FBQSxPQUFLK0MsVUFBVSxnQkFBZ0JDLE9BQVFDLGdCQUFpQixPQUFTcUUsRUFBUSxPQUN6RXpKLEVBQUEzRCxRQUFBOEYsY0FBQSxPQUFLK0MsVUFBVSxnQkFDYmxGLEVBQUEzRCxRQUFBOEYsY0FBQWxDLEVBQUFtRyxNQUFNQyxHQUFBLFlBQ0pyRyxFQUFBM0QsUUFBQThGLGNBQUEsT0FBSytDLFVBQVUsZ0JBQWYsV0FDQWxGLEVBQUEzRCxRQUFBOEYsY0FBQSxPQUFLK0MsVUFBVSxvQkFBZix3QjVCdTVGUDJRLEc0QnQ2RmlCN1YsRUFBQTNELFFBQU15SixVQTBCaENsSyxHQUFPSSxRQUFVNlosSzVCbTVGZCIsImZpbGUiOiJidW5kbGUubWluLjU5YTYzNjliMDBlMTEyYTU0NjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFsxLDJdLHtcblxuLyoqKi8gMTQ4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnRocm93IG5ldyBFcnJvcihcIk1vZHVsZSBidWlsZCBmYWlsZWQ6IEVycm9yOiBFTk9FTlQ6IG5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnksIG9wZW4gJy9Vc2Vycy9qdWxpYW5qb3JnZW5zZW4vc2l0ZXMvcm1jL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9pbmRleC5qcydcIik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2xvc2VDYXJ0ID0gZXhwb3J0cy5vcGVuQ2FydCA9IGV4cG9ydHMudXBkYXRlQ2FydEl0ZW0gPSBleHBvcnRzLnVwZGF0ZUNhcnRJdGVtc0NvdW50ID0gZXhwb3J0cy51cGRhdGVDYXJ0U3VidG90YWwgPSBleHBvcnRzLmFkZFRvQ2FydCA9IGV4cG9ydHMuc3RhcnRBZGRvclVwZGF0ZUNhcnRJdGVtID0gdW5kZWZpbmVkO1xuXG52YXIgX3Nob3BpZnlBUEkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblxudmFyIF9zaG9waWZ5QVBJMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nob3BpZnlBUEkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgc3RhcnRBZGRvclVwZGF0ZUNhcnRJdGVtID0gZXhwb3J0cy5zdGFydEFkZG9yVXBkYXRlQ2FydEl0ZW0gPSBmdW5jdGlvbiBzdGFydEFkZG9yVXBkYXRlQ2FydEl0ZW0ocHJvZHVjdFZhcmlhbnQsIHF1YW50aXR5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gsIGdldFN0YXRlKSB7XG4gICAgdmFyIGNhcnQgPSBnZXRTdGF0ZSgpLmNhcnQ7XG4gICAgdmFyIHZhcmlhbnRJZCA9IHZvaWQgMDtcblxuICAgIC8vIGFzc2lnbiB2YXJpYW50IGlkIGJhc2VkIG9uIGlzIHByb2R1Y3Qgb3IgY2FydCBsaW5lIGl0ZW1cbiAgICBpZiAocHJvZHVjdFZhcmlhbnQudmFyaWFudF9pZCkge1xuICAgICAgdmFyaWFudElkID0gcHJvZHVjdFZhcmlhbnQudmFyaWFudF9pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyaWFudElkID0gcHJvZHVjdFZhcmlhbnQuaWQ7XG4gICAgfVxuXG4gICAgdmFyIGNhcnRMaW5lSXRlbSA9IGZpbmRDYXJ0SXRlbUJ5VmFyaWFudElkKHZhcmlhbnRJZCk7XG5cbiAgICAvLyBmdW5jdGlvbiB0byBjaGVjayBpZiBwcm9kdWN0IHZhcmlhbnQgYWxyZWFkeSBleGlzdHMgaW4gY2FydFxuICAgIGZ1bmN0aW9uIGZpbmRDYXJ0SXRlbUJ5VmFyaWFudElkKHZhcmlhbnRJZCkge1xuICAgICAgcmV0dXJuIGNhcnQubGluZUl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnaXRlbS52YXJpYW50X2lkOiAnLCBpdGVtLnZhcmlhbnRfaWQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygndmFyaWFudElkOiAnLCB2YXJpYW50SWQpO1xuICAgICAgICByZXR1cm4gaXRlbS52YXJpYW50X2lkID09PSB2YXJpYW50SWQ7XG4gICAgICB9KVswXTtcbiAgICB9XG5cbiAgICBpZiAoY2FydExpbmVJdGVtKSB7XG4gICAgICBkaXNwYXRjaCh1cGRhdGVDYXJ0SXRlbShjYXJ0TGluZUl0ZW0sIHBhcnNlSW50KHF1YW50aXR5KSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwYXRjaChhZGRUb0NhcnQocHJvZHVjdFZhcmlhbnQsIHF1YW50aXR5KSk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIHRoZSBjYXJ0IHN1YnRvdGFsXG4gICAgZGlzcGF0Y2godXBkYXRlQ2FydFN1YnRvdGFsKCkpO1xuXG4gICAgLy8gIHVwZGF0ZSB0aGUgY2FydCBpdGVtcyBjb3VudFxuICAgIGRpc3BhdGNoKHVwZGF0ZUNhcnRJdGVtc0NvdW50KHF1YW50aXR5KSk7XG4gIH07XG59O1xuXG4vLyBhZGQgcHJvZHVjdCB0byBjYXJ0XG52YXIgYWRkVG9DYXJ0ID0gZXhwb3J0cy5hZGRUb0NhcnQgPSBmdW5jdGlvbiBhZGRUb0NhcnQocHJvZHVjdFZhcmlhbnQsIHF1YW50aXR5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gsIGdldFN0YXRlKSB7XG4gICAgX3Nob3BpZnlBUEkyLmRlZmF1bHQuY2FydC5jcmVhdGVMaW5lSXRlbXNGcm9tVmFyaWFudHMoeyB2YXJpYW50OiBwcm9kdWN0VmFyaWFudCwgcXVhbnRpdHk6IHF1YW50aXR5IH0pLnRoZW4oZnVuY3Rpb24gKHVwZGF0ZWRDYXJ0KSB7XG4gICAgICB2YXIgdXBkYXRlZENhcnRJdGVtcyA9IHVwZGF0ZWRDYXJ0LmxpbmVJdGVtcztcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1VQREFURV9DQVJUX0lURU1TJywgdXBkYXRlZENhcnRJdGVtczogdXBkYXRlZENhcnRJdGVtcyB9KTtcbiAgICAgIGRpc3BhdGNoKG9wZW5DYXJ0KCkpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gYWRkVG9DYXJ0JywgZXJyb3JzKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8vIHVwZGF0ZSBjYXJ0IHN1YnRvdGFsXG52YXIgdXBkYXRlQ2FydFN1YnRvdGFsID0gZXhwb3J0cy51cGRhdGVDYXJ0U3VidG90YWwgPSBmdW5jdGlvbiB1cGRhdGVDYXJ0U3VidG90YWwoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gsIGdldFN0YXRlKSB7XG4gICAgdmFyIG5ld1N1YnRvdGFsID0gX3Nob3BpZnlBUEkyLmRlZmF1bHQuY2FydC5zdWJ0b3RhbDtcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdVUERBVEVfQ0FSVF9TVUJUT1RBTCcsIG5ld1N1YnRvdGFsOiBuZXdTdWJ0b3RhbCB9KTtcbiAgfTtcbn07XG5cbi8vIHVwZGF0ZSBjYXJ0IGl0ZW1zIGNvdW50XG52YXIgdXBkYXRlQ2FydEl0ZW1zQ291bnQgPSBleHBvcnRzLnVwZGF0ZUNhcnRJdGVtc0NvdW50ID0gZnVuY3Rpb24gdXBkYXRlQ2FydEl0ZW1zQ291bnQocXVhbnRpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCwgZ2V0U3RhdGUpIHtcbiAgICB2YXIgY2FydCA9IGdldFN0YXRlKCkuY2FydDtcbiAgICB2YXIgdXBkYXRlZENhcnRJdGVtc0NvdW50ID0gcGFyc2VJbnQoY2FydC5saW5lSXRlbXNDb3VudCkgKyBwYXJzZUludChxdWFudGl0eSk7XG4gICAgY29uc29sZS5sb2coJ25ldyBxdWFudGl0eTogJywgcXVhbnRpdHkpO1xuICAgIGNvbnNvbGUubG9nKCdvbGQgcXVhbnRpdHk6ICcsIGNhcnQubGluZUl0ZW1zQ291bnQpO1xuICAgIGNvbnNvbGUubG9nKCd1cGRhdGVkQ2FydEl0ZW1zQ291bnQ6ICcsIHVwZGF0ZWRDYXJ0SXRlbXNDb3VudCk7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiAnVVBEQVRFX0NBUlRfSVRFTVNfQ09VTlQnLCB1cGRhdGVkQ2FydEl0ZW1zQ291bnQ6IHVwZGF0ZWRDYXJ0SXRlbXNDb3VudCB9KTtcblxuICAgIGlmIChwYXJzZUludCh1cGRhdGVkQ2FydEl0ZW1zQ291bnQpIDwgMSkge1xuICAgICAgZGlzcGF0Y2goY2xvc2VDYXJ0KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwYXRjaChvcGVuQ2FydCgpKTtcbiAgICB9XG4gIH07XG59O1xuXG4vLyB1cGRhdGUgYSBjYXJ0IGl0ZW1cbnZhciB1cGRhdGVDYXJ0SXRlbSA9IGV4cG9ydHMudXBkYXRlQ2FydEl0ZW0gPSBmdW5jdGlvbiB1cGRhdGVDYXJ0SXRlbShzZWxlY3RlZENhcnRJdGVtLCBxdWFudGl0eSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoLCBnZXRTdGF0ZSkge1xuICAgIHZhciBjYXJ0ID0gZ2V0U3RhdGUoKS5jYXJ0O1xuICAgIHZhciB1cGRhdGVkUXVhbnRpdHkgPSBzZWxlY3RlZENhcnRJdGVtLnF1YW50aXR5ICsgcXVhbnRpdHk7XG4gICAgdmFyIHVwZGF0ZWRDYXJ0SXRlbXMgPSBbXTtcblxuICAgIC8vIGlmIHRoZSBuZXcgcXVhbnRpdHkgaXMgbW9yZSB0aGFuIDAsIGtlZXAgaXQgaW4gdGhlIG5ldyBhcnJheVxuICAgIGNhcnQubGluZUl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGNhcnRJdGVtKSB7XG4gICAgICBpZiAoc2VsZWN0ZWRDYXJ0SXRlbS5pZCA9PT0gY2FydEl0ZW0uaWQpIHtcbiAgICAgICAgaWYgKHVwZGF0ZWRRdWFudGl0eSA+IDApIHtcbiAgICAgICAgICB2YXIgdXBkYXRlZENhcnRJdGVtID0gW107XG5cbiAgICAgICAgICAvLyBjbG9uZSB0aGUgbGluZSBpdGVtXG4gICAgICAgICAgdXBkYXRlZENhcnRJdGVtID0gY2FydEl0ZW07XG5cbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIHF1YW50aXR5IG9mIHRoZSBuZXcgY2xvbmVcbiAgICAgICAgICB1cGRhdGVkQ2FydEl0ZW0ucXVhbnRpdHkgPSB1cGRhdGVkUXVhbnRpdHk7XG5cbiAgICAgICAgICAvLyByZXR1cm4gdGhlIHVwZGF0ZWQgY2FydCBpdGVtXG4gICAgICAgICAgdXBkYXRlZENhcnRJdGVtcy5wdXNoKHVwZGF0ZWRDYXJ0SXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJldHVybiB0aGUgdW5tb2RpZmllZCBpdGVtXG4gICAgICAgIHVwZGF0ZWRDYXJ0SXRlbXMucHVzaChjYXJ0SXRlbSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB1cGRhdGUgdGhlIHNob3BpZnkgY2FydCBhcGkgc2luZ2xldG9uXG4gICAgX3Nob3BpZnlBUEkyLmRlZmF1bHQuY2FydC51cGRhdGVMaW5lSXRlbShzZWxlY3RlZENhcnRJdGVtLmlkLCB1cGRhdGVkUXVhbnRpdHkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLy8gdXBkYXRlIHRoZSBsb2NhbCBjYXJ0IGl0ZW1zIChpbiByZWR1eCBzdG9yZSlcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1VQREFURV9DQVJUX0lURU1TJywgdXBkYXRlZENhcnRJdGVtczogdXBkYXRlZENhcnRJdGVtcyB9KTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8vIG9wZW4gY2FydFxudmFyIG9wZW5DYXJ0ID0gZXhwb3J0cy5vcGVuQ2FydCA9IGZ1bmN0aW9uIG9wZW5DYXJ0KCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdPUEVOX0NBUlQnXG4gIH07XG59O1xuXG4vLyBjbG9zZSBjYXJ0XG52YXIgY2xvc2VDYXJ0ID0gZXhwb3J0cy5jbG9zZUNhcnQgPSBmdW5jdGlvbiBjbG9zZUNhcnQoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0NMT1NFX0NBUlQnXG4gIH07XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTUwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG50aHJvdyBuZXcgRXJyb3IoXCJNb2R1bGUgcGFyc2UgZmFpbGVkOiAvVXNlcnMvanVsaWFuam9yZ2Vuc2VuL3NpdGVzL3JtYy9hcHAvc3R5bGVzL2FwcC5zY3NzIFVuZXhwZWN0ZWQgY2hhcmFjdGVyICdAJyAoMTowKVxcbllvdSBtYXkgbmVlZCBhbiBhcHByb3ByaWF0ZSBsb2FkZXIgdG8gaGFuZGxlIHRoaXMgZmlsZSB0eXBlLlxcbnwgQGltcG9ydCBcXFwiYmFzZS92YXJpYWJsZXNcXFwiO1xcbnwgXFxufCAvLyBmb3VuZGF0aW9uXCIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTUxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIF9yZWFjdERvY3VtZW50TWV0YSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG52YXIgX3JlYWN0RG9jdW1lbnRNZXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9jdW1lbnRNZXRhKTtcblxudmFyIF9NYWluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTkpO1xuXG52YXIgX01haW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWFpbik7XG5cbnZhciBfSW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1OCk7XG5cbnZhciBfSW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5kZXgpO1xuXG52YXIgX1Byb2R1Y3RzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjApO1xuXG52YXIgX1Byb2R1Y3RzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Byb2R1Y3RzKTtcblxudmFyIF9Qcm9kdWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cbnZhciBfUHJvZHVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qcm9kdWN0KTtcblxudmFyIF9Db2xsZWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU1KTtcblxudmFyIF9Db2xsZWN0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2xsZWN0aW9ucyk7XG5cbnZhciBfQ29sbGVjdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oODMpO1xuXG52YXIgX0NvbGxlY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sbGVjdGlvbik7XG5cbnZhciBfVXBsb2FkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjEpO1xuXG52YXIgX1VwbG9hZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9VcGxvYWQpO1xuXG52YXIgX09yZGVyU3RhdHVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXG52YXIgX09yZGVyU3RhdHVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09yZGVyU3RhdHVzKTtcblxudmFyIF9NYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cbnZhciBfTWFwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01hcCk7XG5cbnZhciBfTG9naW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cbnZhciBfTG9naW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9naW4pO1xuXG52YXIgX0Fib3V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjMpO1xuXG52YXIgX0Fib3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Fib3V0KTtcblxudmFyIF9Db250YWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXG52YXIgX0NvbnRhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFjdCk7XG5cbnZhciBfcmVhY3RHYSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcyKTtcblxudmFyIF9yZWFjdEdhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0R2EpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLFxuICAgIGNvbm5lY3QgPSBfcmVxdWlyZS5jb25uZWN0O1xuXG52YXIgc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KS5jb25maWd1cmUoKTtcblxuLy8gUmVhY3RHQS5pbml0aWFsaXplKCdVQS02MjQxODI1LTknKTsgLy8gaW5pdGlhbGl6ZSBHb29nbGUgQW5hbHl0aWNzXG5cbmZ1bmN0aW9uIGxvZ1BhZ2VWaWV3KGxvY2F0aW9uKSB7XG4gIF9yZWFjdEdhMi5kZWZhdWx0LnNldCh7IHBhZ2U6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICBfcmVhY3RHYTIuZGVmYXVsdC5wYWdldmlldyhsb2NhdGlvbi5wYXRobmFtZSk7XG59XG5cbl9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gIGxvZ1BhZ2VWaWV3KGxvY2F0aW9uKTtcblxuICAvLyBzY3JvbGwgdG8gdG9wIHdoZW4gY2hhbmdpbmcgcGFnZVxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gIF9yZWFjdFJvdXRlci5Sb3V0ZXIsXG4gIHsgaGlzdG9yeTogX3JlYWN0Um91dGVyLmJyb3dzZXJIaXN0b3J5IH0sXG4gIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIF9yZWFjdFJvdXRlci5Sb3V0ZSxcbiAgICB7IHBhdGg6ICcvJywgY29tcG9uZW50OiBfTWFpbjIuZGVmYXVsdCB9LFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5JbmRleFJvdXRlLCB7IHBhdGg6ICcvJywgY29tcG9uZW50OiBfSW5kZXgyLmRlZmF1bHQgfSksXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyLlJvdXRlLCB7IHBhdGg6ICdwcm9kdWN0cycsIGNvbXBvbmVudDogX1Byb2R1Y3RzMi5kZWZhdWx0IH0pLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiAncHJvZHVjdC86cHJvZHVjdElkJywgY29tcG9uZW50OiBfUHJvZHVjdDIuZGVmYXVsdCB9KSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogJ2NvbGxlY3Rpb25zJywgY29tcG9uZW50OiBfQ29sbGVjdGlvbnMyLmRlZmF1bHQgfSksXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyLlJvdXRlLCB7IHBhdGg6ICdjb2xsZWN0aW9uLzpjb2xsZWN0aW9uSWQnLCBjb21wb25lbnQ6IF9Db2xsZWN0aW9uMi5kZWZhdWx0IH0pLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiAnbXktY2l0eScsIGNvbXBvbmVudDogX1Byb2R1Y3RzMi5kZWZhdWx0IH0pLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiAndXBsb2FkJywgY29tcG9uZW50OiBfVXBsb2FkMi5kZWZhdWx0IH0pLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiAnb3JkZXItc3RhdHVzJywgY29tcG9uZW50OiBfT3JkZXJTdGF0dXMyLmRlZmF1bHQgfSksXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyLlJvdXRlLCB7IHBhdGg6ICdtYXAnLCBjb21wb25lbnQ6IF9NYXAyLmRlZmF1bHQgfSksXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyLlJvdXRlLCB7IHBhdGg6ICdsb2dpbicsIGNvbXBvbmVudDogX0xvZ2luMi5kZWZhdWx0IH0pLFxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZSwgeyBwYXRoOiAnYWJvdXQnLCBjb21wb25lbnQ6IF9BYm91dDIuZGVmYXVsdCB9KSxcbiAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogJ2NvbnRhY3QnLCBjb21wb25lbnQ6IF9Db250YWN0Mi5kZWZhdWx0IH0pXG4gIClcbik7XG5cbi8vIGNvbnN0IGNvbXBvbmVudFJvdXRlcyA9IHtcbi8vICAgY29tcG9uZW50OiAnTWFpbicsXG4vLyAgIHBhdGg6ICcvJyxcbi8vICAgaW5kZXhSb3V0ZTogeyBjb21wb25lbnQ6ICdJbmRleCcgfSxcbi8vICAgY2hpbGRSb3V0ZXM6IFtcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAnY29sbGVjdGlvbnMnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdDb2xsZWN0aW9ucycpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAnY29sbGVjdGlvbi86Y29sbGVjdGlvbklkJyxcbi8vICAgICAgIGdldENvbXBvbmVudChsb2NhdGlvbiwgY2IpIHtcbi8vICAgICAgICAgU3lzdGVtLmltcG9ydCgnQ29sbGVjdGlvbicpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAncHJvZHVjdHMnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdQcm9kdWN0cycpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAncHJvZHVjdC9wcm9kdWN0SWQnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdQcm9kdWN0Jylcbi8vICAgICAgICAgICAudGhlbihtb2R1bGUgPT4gY2IobnVsbCwgbW9kdWxlLmRlZmF1bHQpKTtcbi8vICAgICAgIH1cbi8vICAgICB9LFxuLy8gICAgIHtcbi8vICAgICAgIHBhdGg6ICdteS1jaXR5Jyxcbi8vICAgICAgIGdldENvbXBvbmVudChsb2NhdGlvbiwgY2IpIHtcbi8vICAgICAgICAgU3lzdGVtLmltcG9ydCgnUHJvZHVjdHMnKVxuLy8gICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiBjYihudWxsLCBtb2R1bGUuZGVmYXVsdCkpO1xuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAge1xuLy8gICAgICAgcGF0aDogJ2Fib3V0Jyxcbi8vICAgICAgIGdldENvbXBvbmVudChsb2NhdGlvbiwgY2IpIHtcbi8vICAgICAgICAgU3lzdGVtLmltcG9ydCgnQWJvdXQnKVxuLy8gICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiBjYihudWxsLCBtb2R1bGUuZGVmYXVsdCkpO1xuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAge1xuLy8gICAgICAgcGF0aDogJ2NvbnRhY3QnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdDb250YWN0Jylcbi8vICAgICAgICAgICAudGhlbihtb2R1bGUgPT4gY2IobnVsbCwgbW9kdWxlLmRlZmF1bHQpKTtcbi8vICAgICAgIH1cbi8vICAgICB9LFxuLy8gICAgIHtcbi8vICAgICAgIHBhdGg6ICd1cGxvYWQnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdVcGxvYWQnKVxuLy8gICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiBjYihudWxsLCBtb2R1bGUuZGVmYXVsdCkpO1xuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAge1xuLy8gICAgICAgcGF0aDogJ21hcCcsXG4vLyAgICAgICBnZXRDb21wb25lbnQobG9jYXRpb24sIGNiKSB7XG4vLyAgICAgICAgIFN5c3RlbS5pbXBvcnQoJ01hcCcpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAnbG9naW4nLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdMb2dpbicpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAnb3JkZXItc3RhdHVzJyxcbi8vICAgICAgIGdldENvbXBvbmVudChsb2NhdGlvbiwgY2IpIHtcbi8vICAgICAgICAgU3lzdGVtLmltcG9ydCgnT3JkZXJTdGF0dXMnKVxuLy8gICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiBjYihudWxsLCBtb2R1bGUuZGVmYXVsdCkpO1xuLy8gICAgICAgfVxuLy8gICAgIH1cbi8vICAgXVxuLy8gfTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE1Mzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2Zvcm1hdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXG52YXIgX2Zvcm1hdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mb3JtYXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCksXG4gICAgY29ubmVjdCA9IF9yZXF1aXJlLmNvbm5lY3Q7XG5cbnZhciBhY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBDYXJ0SXRlbSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDYXJ0SXRlbSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FydEl0ZW0oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcnRJdGVtKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2FydEl0ZW0uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDYXJ0SXRlbSkpLmNhbGwodGhpcykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhcnRJdGVtLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGRpc3BhdGNoID0gX3Byb3BzLmRpc3BhdGNoLFxuICAgICAgICAgIGl0ZW0gPSBfcHJvcHMuaXRlbSxcbiAgICAgICAgICBpbmNyZW1lbnRMaW5lSXRlbSA9IF9wcm9wcy5pbmNyZW1lbnRMaW5lSXRlbSxcbiAgICAgICAgICBxdWFudGl0eSA9IF9wcm9wcy5xdWFudGl0eTtcblxuXG4gICAgICB2YXIgY2hhbmdlUXVhbnRpdHkgPSBmdW5jdGlvbiBjaGFuZ2VRdWFudGl0eShxdWFudGl0eSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnY2FydCBJdGVtIG9iamVjdDogJywgaXRlbSk7XG4gICAgICAgIGRpc3BhdGNoKGFjdGlvbnMuc3RhcnRBZGRvclVwZGF0ZUNhcnRJdGVtKGl0ZW0sIHBhcnNlSW50KHF1YW50aXR5KSkpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdjYXJ0LWl0ZW0nIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ2NhcnQtaXRlbV9faW1nJywgc3R5bGU6IHsgYmFja2dyb3VuZEltYWdlOiAndXJsKCcgKyBpdGVtLmltYWdlVmFyaWFudHNbMl0uc3JjICsgJyknIH0gfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY2FydC1pdGVtX19jb250ZW50JyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NhcnQtaXRlbV9fY29udGVudC1yb3cnIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY2FydC1pdGVtX192YXJpYW50LXRpdGxlJyB9LFxuICAgICAgICAgICAgICBpdGVtLnZhcmlhbnRfdGl0bGVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NhcnQtaXRlbV9fdGl0bGUnIH0sXG4gICAgICAgICAgICAgIGl0ZW0udGl0bGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NhcnQtaXRlbV9fY29udGVudC1yb3cnIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY2FydC1pdGVtX19xdWFudGl0eS1jb250YWluZXInIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdidXR0b24nLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0bi0tc2VhbWxlc3MgcXVhbnRpdHktZGVjcmVtZW50JyxcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlUXVhbnRpdHkoLTEpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgJy0nXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaGlkZScgfSxcbiAgICAgICAgICAgICAgICAgICdEZWNyZW1lbnQnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHF1YW50aXR5LFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2NhcnQtaXRlbV9fcXVhbnRpdHknLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgIG1pbjogJzAnLFxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdidG4tLXNlYW1sZXNzIHF1YW50aXR5LWluY3JlbWVudCcsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVF1YW50aXR5KDEpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgJysnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaGlkZScgfSxcbiAgICAgICAgICAgICAgICAgICdJbmNyZW1lbnQnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjYXJ0LWl0ZW1fX3ByaWNlJyB9LFxuICAgICAgICAgICAgICBfZm9ybWF0Mi5kZWZhdWx0LmFzTW9uZXkoaXRlbS5wcmljZSAqIHF1YW50aXR5KVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FydEl0ZW07XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjb25uZWN0KGZ1bmN0aW9uIChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGNhcnQ6IHN0YXRlLmNhcnRcbiAgfTtcbn0pKENhcnRJdGVtKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE1NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIENvbGxlY3Rpb25JdGVtID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbGxlY3Rpb25JdGVtLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDb2xsZWN0aW9uSXRlbSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sbGVjdGlvbkl0ZW0pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb2xsZWN0aW9uSXRlbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbGxlY3Rpb25JdGVtKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ29sbGVjdGlvbkl0ZW0sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMudGl0bGUsXG4gICAgICAgICAgaWQgPSBfcHJvcHMuaWQ7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdjb2xsZWN0aW9uLWl0ZW0nIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sbGVjdGlvbi1pdGVtLWlubmVyJyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2gyJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndGV4dC1jZW50ZXInIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG4gICAgICAgICAgICAgIHsgdG86ICcvY29sbGVjdGlvbi8nICsgaWQgfSxcbiAgICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvbGxlY3Rpb25JdGVtO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb2xsZWN0aW9uSXRlbTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE1NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0NvbGxlY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcblxudmFyIF9Db2xsZWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbGxlY3Rpb24pO1xuXG52YXIgX0NvbGxlY3Rpb25JdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTQpO1xuXG52YXIgX0NvbGxlY3Rpb25JdGVtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbGxlY3Rpb25JdGVtKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLFxuICAgIGNvbm5lY3QgPSBfcmVxdWlyZS5jb25uZWN0O1xuXG52YXIgYWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXG52YXIgQ29sbGVjdGlvbnMgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ29sbGVjdGlvbnMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbGxlY3Rpb25zKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsZWN0aW9ucyk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENvbGxlY3Rpb25zLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29sbGVjdGlvbnMpKS5jYWxsKHRoaXMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb2xsZWN0aW9ucywgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgY29sbGVjdGlvbnMgPSB0aGlzLnByb3BzLmNvbGxlY3Rpb25zO1xuXG5cbiAgICAgIGlmIChjb2xsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JvdycgfSxcbiAgICAgICAgICBjb2xsZWN0aW9ucy5tYXAoZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQ29sbGVjdGlvbkl0ZW0yLmRlZmF1bHQsIHsga2V5OiBjb2xsZWN0aW9uLmNvbGxlY3Rpb25faWQsIGlkOiBjb2xsZWN0aW9uLmNvbGxlY3Rpb25faWQsIHRpdGxlOiBjb2xsZWN0aW9uLnRpdGxlIH0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAnTG9hZGluZyBjb2xsZWN0aW9ucy4uLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29sbGVjdGlvbnM7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjb25uZWN0KGZ1bmN0aW9uIChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGNvbGxlY3Rpb25zOiBzdGF0ZS5jb2xsZWN0aW9ucy5hbGxcbiAgfTtcbn0pKENvbGxlY3Rpb25zKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE1Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEZvb3RlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhGb290ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEZvb3RlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9vdGVyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRm9vdGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRm9vdGVyKSkuY2FsbCh0aGlzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRm9vdGVyLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2Zvb3RlcicsXG4gICAgICAgIHsgaWQ6ICdzaXRlLWZvb3RlcicgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ25hdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdmb290ZXItbmF2JyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG4gICAgICAgICAgICAgIHsgdG86ICcvYWJvdXQnLCBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnIH0sXG4gICAgICAgICAgICAgICdBYm91dCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG4gICAgICAgICAgICAgIHsgdG86ICcvcHJvZHVjdHMnLCBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnIH0sXG4gICAgICAgICAgICAgICdTaG9wIEFsbCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG4gICAgICAgICAgICAgIHsgdG86ICcvY29udGFjdCcsIGFjdGl2ZUNsYXNzTmFtZTogJ2FjdGl2ZScgfSxcbiAgICAgICAgICAgICAgJ0NvbnRhY3QnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuICAgICAgICAgICAgICB7IHRvOiAnL3VwbG9hZCcsIGFjdGl2ZUNsYXNzTmFtZTogJ2FjdGl2ZScgfSxcbiAgICAgICAgICAgICAgJ1VwbG9hZCBEZXNpZ24nXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAncCcsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAnTG9yZW0gaXBzdW0gZG9sYXIgc2l0IGFtaXQuIFNlZCBkb25vIGF2ZWMuJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGb290ZXI7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZvb3RlcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE1Nzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KSxcbiAgICBjb25uZWN0ID0gX3JlcXVpcmUuY29ubmVjdDtcblxudmFyIGNhcnRBY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBIZWFkZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoSGVhZGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBIZWFkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRlcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEhlYWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEhlYWRlcikpLmNhbGwodGhpcykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEhlYWRlciwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBkaXNwYXRjaCA9IF9wcm9wcy5kaXNwYXRjaCxcbiAgICAgICAgICBjYXJ0SXRlbXMgPSBfcHJvcHMuY2FydEl0ZW1zO1xuXG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2hlYWRlcicsXG4gICAgICAgIHsgaWQ6ICdzaXRlLWhlYWRlcicgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3VsJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ21pbmktbmF2JyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbWluaS1uYXYtaXRlbScgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcbiAgICAgICAgICAgICAgeyB0bzogJy9hYm91dCcsIGFjdGl2ZUNsYXNzTmFtZTogJ2FjdGl2ZScgfSxcbiAgICAgICAgICAgICAgJ0Fib3V0J1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdtaW5pLW5hdi1pdGVtJyB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuICAgICAgICAgICAgICB7IHRvOiAnL29yZGVyLXN0YXR1cycsIGFjdGl2ZUNsYXNzTmFtZTogJ2FjdGl2ZScgfSxcbiAgICAgICAgICAgICAgJ09yZGVyIFN0YXR1cydcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbWluaS1uYXYtaXRlbScgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcbiAgICAgICAgICAgICAgeyB0bzogJy9tYXAnLCBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnIH0sXG4gICAgICAgICAgICAgICdNYXAnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ21pbmktbmF2LWl0ZW0nIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG4gICAgICAgICAgICAgIHsgdG86ICcvbG9naW4nLCBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnIH0sXG4gICAgICAgICAgICAgICdMb2dpbidcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbWluaS1uYXYtaXRlbSBtaW5pLW5hdi1pdGVtLWNhcnQnLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKGNhcnRBY3Rpb25zLm9wZW5DYXJ0KCkpO1xuICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaScsIHsgY2xhc3NOYW1lOiAnZmEgZmEtc2hvcHBpbmctY2FydCcgfSksXG4gICAgICAgICAgICAnICcsXG4gICAgICAgICAgICBjYXJ0SXRlbXMgPiAwID8gJ1snICsgY2FydEl0ZW1zICsgJ10nIDogJydcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgaWQ6ICdzaXRlLWxvZ28nIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmVhY3RSb3V0ZXIuSW5kZXhMaW5rLFxuICAgICAgICAgICAgeyB0bzogJy8nLCBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnLCBhY3RpdmVTdHlsZTogeyBmb250V2VpZ2h0OiAnYm9sZCcgfSB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgc3JjOiAnL2ltYWdlcy9sb2dvLnBuZycgfSlcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICduYXYnLFxuICAgICAgICAgIHsgaWQ6ICdzaXRlLW5hdicgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3NpdGUtbmF2LWl0ZW0nIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG4gICAgICAgICAgICAgIHsgdG86ICcvcHJvZHVjdHMnLCBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnIH0sXG4gICAgICAgICAgICAgICdTaG9wJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzaXRlLW5hdi1pdGVtJyB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuICAgICAgICAgICAgICB7IHRvOiAnL215LWNpdHknLCBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnIH0sXG4gICAgICAgICAgICAgICdNeSBDaXR5J1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzaXRlLW5hdi1pdGVtJyB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuICAgICAgICAgICAgICB7IHRvOiAnL2NhdGVnb3JpZXMnLCBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnIH0sXG4gICAgICAgICAgICAgICdDYXRlZ29yaWVzJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgaWQ6ICdzaXRlLW5hdi11cGxvYWQnIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG4gICAgICAgICAgICAgIHsgdG86ICcvdXBsb2FkJyB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzcmM6ICcvaW1hZ2VzL3VwbG9hZC5wbmcnIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIZWFkZXI7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjb25uZWN0KGZ1bmN0aW9uIChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGNhcnRJdGVtczogc3RhdGUuY2FydC5saW5lSXRlbXNDb3VudFxuICB9O1xufSkoSGVhZGVyKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE1ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0U2xpY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxMyk7XG5cbnZhciBfcmVhY3RTbGljazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdFNsaWNrKTtcblxudmFyIF9yZWFjdFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX0xvYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xuXG52YXIgX0xvYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2FkZXIpO1xuXG52YXIgX1Byb2R1Y3RJdGVtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cbnZhciBfUHJvZHVjdEl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvZHVjdEl0ZW0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCksXG4gICAgY29ubmVjdCA9IF9yZXF1aXJlLmNvbm5lY3Q7XG5cbnZhciBhY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBJbmRleCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhJbmRleCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSW5kZXgoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluZGV4KTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5kZXguX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbmRleCkpLmNhbGwodGhpcykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEluZGV4LCBbe1xuICAgIGtleTogJ2hhbmRsZUFkZFRvQ2FydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUFkZFRvQ2FydChwcm9kdWN0KSB7XG4gICAgICB2YXIgZGlzcGF0Y2ggPSB0aGlzLnByb3BzLmRpc3BhdGNoO1xuXG4gICAgICBkaXNwYXRjaChhY3Rpb25zLnN0YXJ0QWRkb3JVcGRhdGVDYXJ0SXRlbShwcm9kdWN0LnNlbGVjdGVkVmFyaWFudCwgMSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgcHJvZHVjdHMgPSB0aGlzLnByb3BzLnByb2R1Y3RzO1xuXG4gICAgICBwcm9kdWN0cyA9IHByb2R1Y3RzLnNsaWNlKDAsIDEyKTtcblxuICAgICAgLy8gc2xpZGVyIHNldHRpbmdzXG4gICAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgIGNsYXNzTmFtZTogJ2NlbnRlciBwcm9kdWN0cy1jYXJvdXNlbCcsXG4gICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICBjZW50ZXJQYWRkaW5nOiAnNjBweCcsXG4gICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXG4gICAgICAgIHNwZWVkOiA1MDAsXG4gICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgIGxhenlMb2FkOiB0cnVlLFxuICAgICAgICByZXNwb25zaXZlOiBbe1xuICAgICAgICAgIGJyZWFrcG9pbnQ6IDEwMjQsXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAzLFxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBicmVha3BvaW50OiA2MDAsXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAyLFxuICAgICAgICAgICAgaW5pdGlhbFNsaWRlOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgYnJlYWtwb2ludDogNDgwLFxuICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMVxuICAgICAgICAgIH1cbiAgICAgICAgfV1cbiAgICAgIH07XG5cbiAgICAgIGlmIChwcm9kdWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0U2xpY2syLmRlZmF1bHQsXG4gICAgICAgICAgICBzZXR0aW5ncyxcbiAgICAgICAgICAgIHByb2R1Y3RzLm1hcChmdW5jdGlvbiAocHJvZHVjdCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsga2V5OiBpbmRleCwgY2xhc3NOYW1lOiAncHJvZHVjdHMtY2Fyb3VzZWwtaXRlbScgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuICAgICAgICAgICAgICAgICAgeyB0bzogJy9wcm9kdWN0LycgKyBwcm9kdWN0LmF0dHJzLnByb2R1Y3RfaWQgfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ3Byb2R1Y3QtaXRlbS1pbWFnZScsIHN0eWxlOiB7IGJhY2tncm91bmRJbWFnZTogJ3VybCgnICsgcHJvZHVjdC5zZWxlY3RlZFZhcmlhbnQuaW1hZ2VWYXJpYW50c1s1XS5zcmMgKyAnKScgfSB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdzZWN0aW9uJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc2VjdGlvbi1jYWxsb3V0JyB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbnRhaW5lcicgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2g0JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3NlY3Rpb24taGVhZGxpbmUnIH0sXG4gICAgICAgICAgICAgICAgJ1Nob3cgeW91ciBwcmlkZS4gRGlzcGxheSB5b3VyIHRhbGVudHMuICcsXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2ZvbnQtd2hpdGUnIH0sXG4gICAgICAgICAgICAgICAgICAnUmVwIHlvdXIgY2l0eS4nXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAncCcsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gTnVsbGFtIHNlbXBlciBudWxsYSB2ZWwgZWxpdCBncmF2aWRhLCB2ZWwgcGxhY2VyYXQgdHVycGlzIGNvbnZhbGxpcy4gUHJhZXNlbnQgZXUgbG9yZW0gc3VzY2lwaXQsIGdyYXZpZGEgbGVvIHNlZCwgbHVjdHVzIGVyYXQuIE51bGxhbSBjb25zZWN0ZXR1ciwgdG9ydG9yIGEgZmFjaWxpc2lzIGxvYm9ydGlzLCB2ZWxpdCBtYXNzYSBtYXR0aXMgcmlzdXMsIGVnZXQgaW1wZXJkaWV0IHZlbGl0IGFyY3Ugbm9uIG1hdXJpcy4gTWF1cmlzIGJpYmVuZHVtIGJpYmVuZHVtIGxpZ3VsYSwgbmVjIG1heGltdXMgc2FwaWVuIHBvcnRhIG5vbi4nXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc2VjdGlvbi1jYWxsb3V0X19jdGEtaXRlbXMnIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuTGluayxcbiAgICAgICAgICAgICAgICAgIHsgdG86ICcvcHJvZHVjdHMnIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzcmM6ICcvaW1hZ2VzL2J1dHRvbi1zaG9wLnBuZycsIGFsdDogJ1Nob3Agbm93JyB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc2VhcmNoLWJveCcgfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdmYSBmYS1zZWFyY2gnIH0pLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eWVwOiAndGV4dCcsIHBsYWNlaG9sZGVyOiAnS2V5d29yZCBTZWFyY2gnIH0pXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuICAgICAgICAgICAgICAgICAgeyB0bzogJy91cGxvYWQnIH0sXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzcmM6ICcvaW1hZ2VzL2J1dHRvbi11cGxvYWQucG5nJywgYWx0OiAnU2hvcCBub3cnIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb250YWluZXInIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2gzJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwcm9kdWN0cy1ncmlkLXRpdGxlJyB9LFxuICAgICAgICAgICAgICAnV2hhdFxcJ3MgaG90IC8gV2hhdFxcJ3MgbmV3J1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwcm9kdWN0cy1ncmlkJyB9LFxuICAgICAgICAgICAgICBwcm9kdWN0cy5tYXAoZnVuY3Rpb24gKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1Byb2R1Y3RJdGVtMi5kZWZhdWx0LCB7IGtleTogcHJvZHVjdC5rZXksIGFkZFRvQ2FydDogZnVuY3Rpb24gYWRkVG9DYXJ0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUFkZFRvQ2FydChwcm9kdWN0KTtcbiAgICAgICAgICAgICAgICAgIH0sIGlkOiBwcm9kdWN0LmF0dHJzLnByb2R1Y3RfaWQsIHRpdGxlOiBwcm9kdWN0LmF0dHJzLnRpdGxlLCBpbWFnZTogcHJvZHVjdC5zZWxlY3RlZFZhcmlhbnQuaW1hZ2VWYXJpYW50c1s1XS5zcmMgfSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkZXIyLmRlZmF1bHQsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbmRleDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNvbm5lY3QoZnVuY3Rpb24gKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdHM6IHN0YXRlLnByb2R1Y3RzLmFsbFxuICB9O1xufSkoSW5kZXgpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTU5OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTcpO1xuXG52YXIgX0hlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IZWFkZXIpO1xuXG52YXIgX0Zvb3RlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblxudmFyIF9Gb290ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRm9vdGVyKTtcblxudmFyIF9yZWFjdERvY3VtZW50TWV0YSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG52YXIgX3JlYWN0RG9jdW1lbnRNZXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9jdW1lbnRNZXRhKTtcblxudmFyIF9jYXJ0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjIpO1xuXG52YXIgX2NhcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FydCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIE1haW4gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTWFpbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTWFpbihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNYWluLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWFpbikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdGl0bGU6ICcnLFxuICAgICAgY29udGVudDogJydcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYWluLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBtZXRhID0ge1xuICAgICAgICB0aXRsZTogJ1JlcCBZb3VyIENpdHknLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1JlcCBZb3VyIENpdHkgZGVzY3JpcHRpb24nLFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgY2hhcnNldDogJ3V0Zi04J1xuICAgICAgICB9LFxuICAgICAgICBhdXRvOiB7XG4gICAgICAgICAgb2dyYXBoOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBwYWdlTmFtZSA9IHRoaXMucHJvcHMubG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyKDEpLnNwbGl0KCcvJyk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgaWQ6ICdtYWluJywgY2xhc3NOYW1lOiAncGFnZS0nICsgKHBhZ2VOYW1lWzBdID8gcGFnZU5hbWVbMF0gKyAnIHN1YnBhZ2UnIDogJ2hvbWUnKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3REb2N1bWVudE1ldGEyLmRlZmF1bHQsIG1ldGEpLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSGVhZGVyMi5kZWZhdWx0LCBudWxsKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBpZDogJ21haW4tY29udGFpbmVyJyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jYXJ0Mi5kZWZhdWx0LCBudWxsKSxcbiAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Gb290ZXIyLmRlZmF1bHQsIG51bGwpXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNYWluO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYWluO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTYwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfTG9hZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG5cbnZhciBfTG9hZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xvYWRlcik7XG5cbnZhciBfUHJvZHVjdEl0ZW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcblxudmFyIF9Qcm9kdWN0SXRlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qcm9kdWN0SXRlbSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KSxcbiAgICBjb25uZWN0ID0gX3JlcXVpcmUuY29ubmVjdDtcblxudmFyIGFjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxudmFyIFByb2R1Y3RzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFByb2R1Y3RzLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQcm9kdWN0cygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvZHVjdHMpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQcm9kdWN0cy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb2R1Y3RzKSkuY2FsbCh0aGlzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUHJvZHVjdHMsIFt7XG4gICAga2V5OiAnaGFuZGxlQWRkVG9DYXJ0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQWRkVG9DYXJ0KHByb2R1Y3QpIHtcbiAgICAgIHZhciBkaXNwYXRjaCA9IHRoaXMucHJvcHMuZGlzcGF0Y2g7XG5cbiAgICAgIGRpc3BhdGNoKGFjdGlvbnMuc3RhcnRBZGRvclVwZGF0ZUNhcnRJdGVtKHByb2R1Y3Quc2VsZWN0ZWRWYXJpYW50LCAxKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBwcm9kdWN0cyA9IHRoaXMucHJvcHMucHJvZHVjdHM7XG5cblxuICAgICAgaWYgKHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29udGFpbmVyJyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JvdycgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzbWFsbC0xMiBtZWRpdW0tMyBjb2x1bW5zJyB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnbmF2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3Byb2R1Y3RzLW5hdicgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdoNCcsXG4gICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3Byb2R1Y3RzLW5hdl9faGVhZGxpbmUnIH0sXG4gICAgICAgICAgICAgICAgICAnQ2F0ZWdvcmllcydcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ3VsJyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJ0NpdHkgLyBzdGF0ZSdcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJ1Nwb3J0cydcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJ0hvYmJpZXMnXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICdNdXNpYydcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJ0FuaW1hbHMnXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICdTaG93IGFsbCdcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2g0JyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJvZHVjdHMtbmF2X19oZWFkbGluZScgfSxcbiAgICAgICAgICAgICAgICAgICdTdHlsZSdcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3Byb2R1Y3RzLW5hdl9fc2VhcmNoJyB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiAnU2VsZWN0IHN0eWxlJyB9KSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAnc3VibWl0JywgY2xhc3NOYW1lOiAncHJvZHVjdHMtbmF2X19zZWFyY2gtYnV0dG9uJyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaScsIHsgY2xhc3NOYW1lOiAnZmEgZmEtc2VhcmNoJyB9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnaDQnLFxuICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwcm9kdWN0cy1uYXZfX2hlYWRsaW5lJyB9LFxuICAgICAgICAgICAgICAgICAgJ1NlYXJjaCdcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3Byb2R1Y3RzLW5hdl9fc2VhcmNoJyB9LFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiAnRW50ZXIga2V5d29yZHMnIH0pLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICdzdWJtaXQnLCBjbGFzc05hbWU6ICdwcm9kdWN0cy1uYXZfX3NlYXJjaC1idXR0b24nIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdmYSBmYS1zZWFyY2gnIH0pXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3NtYWxsLTEyIG1lZGl1bS05IGNvbHVtbicgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwcm9kdWN0cy1ncmlkJyB9LFxuICAgICAgICAgICAgICAgIHByb2R1Y3RzLm1hcChmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Qcm9kdWN0SXRlbTIuZGVmYXVsdCwgeyBrZXk6IHByb2R1Y3Qua2V5LCBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUFkZFRvQ2FydChwcm9kdWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgaWQ6IHByb2R1Y3QuYXR0cnMucHJvZHVjdF9pZCwgdGl0bGU6IHByb2R1Y3QuYXR0cnMudGl0bGUsIGltYWdlOiBwcm9kdWN0LnNlbGVjdGVkVmFyaWFudC5pbWFnZVZhcmlhbnRzWzRdLnNyYyB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Mb2FkZXIyLmRlZmF1bHQsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQcm9kdWN0cztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNvbm5lY3QoZnVuY3Rpb24gKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgcHJvZHVjdHM6IHN0YXRlLnByb2R1Y3RzLmFsbFxuICB9O1xufSkoUHJvZHVjdHMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTYxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLFxuICAgIGNvbm5lY3QgPSBfcmVxdWlyZS5jb25uZWN0O1xuXG52YXIgcHJvZHVjdEFjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcbnZhciBjYXJ0QWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG52YXIgVXBsb2FkID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFVwbG9hZCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVXBsb2FkKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVcGxvYWQpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChVcGxvYWQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihVcGxvYWQpKS5jYWxsKHRoaXMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhVcGxvYWQsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoID0gdGhpcy5wcm9wcy5kaXNwYXRjaDtcblxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbnRhaW5lciB0ZXh0LWNlbnRlcicgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgc3JjOiAnL2ltYWdlcy91cGxvYWQtcGxhY2Vob2xkZXIucG5nJyB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVXBsb2FkO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gY29ubmVjdChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBhY3RpdmVQcm9kdWN0OiBzdGF0ZS5wcm9kdWN0cy5hY3RpdmVcbiAgfTtcbn0pKFVwbG9hZCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNjI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zaG9waWZ5QVBJID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfc2hvcGlmeUFQSTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaG9waWZ5QVBJKTtcblxudmFyIF9DYXJ0SXRlbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUzKTtcblxudmFyIF9DYXJ0SXRlbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYXJ0SXRlbSk7XG5cbnZhciBfZm9ybWF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cbnZhciBfZm9ybWF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zvcm1hdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KSxcbiAgICBjb25uZWN0ID0gX3JlcXVpcmUuY29ubmVjdDtcblxudmFyIGFjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxudmFyIENhcnQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ2FydCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2FydCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FydCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2FydC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENhcnQpKS5jYWxsKHRoaXMpKTtcblxuICAgIHZhciBkaXNwYXRjaCA9IHZvaWQgMDtcbiAgICB2YXIgaGFuZGxlQ2hlY2tvdXQgPSBfdGhpcy5oYW5kbGVDaGVja291dCgpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDYXJ0LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2ggPSB0aGlzLnByb3BzLmRpc3BhdGNoO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZUNsb3NlQ2FydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlQ2FydCgpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goYWN0aW9ucy5jbG9zZUNhcnQoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlQ2hlY2tvdXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGVja291dCgpIHtcbiAgICAgIHdpbmRvdy5vcGVuKF9zaG9waWZ5QVBJMi5kZWZhdWx0LmNhcnQuY2hlY2tvdXRVcmwsICdfc2VsZicpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMkY2FydCA9IHRoaXMucHJvcHMuY2FydCxcbiAgICAgICAgICBpc09wZW4gPSBfcHJvcHMkY2FydC5pc09wZW4sXG4gICAgICAgICAgbGluZUl0ZW1zID0gX3Byb3BzJGNhcnQubGluZUl0ZW1zLFxuICAgICAgICAgIGxpbmVJdGVtQ291bnQgPSBfcHJvcHMkY2FydC5saW5lSXRlbUNvdW50LFxuICAgICAgICAgIHN1YnRvdGFsID0gX3Byb3BzJGNhcnQuc3VidG90YWw7XG5cbiAgICAgIHZhciByZW5kZXJMaW5lSXRlbXMgPSBmdW5jdGlvbiByZW5kZXJMaW5lSXRlbXMoKSB7XG4gICAgICAgIGlmIChsaW5lSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiBsaW5lSXRlbXMubWFwKGZ1bmN0aW9uIChsaW5lSXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DYXJ0SXRlbTIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICBrZXk6IGxpbmVJdGVtLmlkLFxuICAgICAgICAgICAgICBpdGVtOiBsaW5lSXRlbSxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IGxpbmVJdGVtLnF1YW50aXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IFwiY2FydCBcIiArIChpc09wZW4gPyAnanMtYWN0aXZlJyA6ICcnKSB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NhcnQtc2VjdGlvbiBjYXJ0LXNlY3Rpb24tLXRvcCcgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdoMicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NhcnQtdGl0bGUnIH0sXG4gICAgICAgICAgICAnWW91ciBjYXJ0OiAnLFxuICAgICAgICAgICAgaXNPcGVuXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdidXR0b24nLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidG4tLWNsb3NlJyB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xvc2VDYXJ0LmJpbmQodGhpcykgfSxcbiAgICAgICAgICAgICAgJ1xceEQ3J1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnaGlkZScgfSxcbiAgICAgICAgICAgICAgJ0Nsb3NlJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdjYXJ0LWZvcm0nIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY2FydC1pdGVtLWNvbnRhaW5lciBjYXJ0LXNlY3Rpb24nIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIHJlbmRlckxpbmVJdGVtcygpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjYXJ0LWJvdHRvbScgfSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjYXJ0LWluZm8gY2xlYXJmaXggY2FydC1zZWN0aW9uJyB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3R5cGUtLWNhcHMgY2FydC1pbmZvX190b3RhbCBjYXJ0LWluZm9fX3NtYWxsJyB9LFxuICAgICAgICAgICAgICAgICdUb3RhbCdcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjYXJ0LWluZm9fX3ByaWNpbmcnIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NhcnQtaW5mb19fc21hbGwgY2FydC1pbmZvX190b3RhbCcgfSxcbiAgICAgICAgICAgICAgICAgICdVU0QnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJpY2luZyBwcmljaW5nLS1uby1wYWRkaW5nJyB9LFxuICAgICAgICAgICAgICAgICAgX2Zvcm1hdDIuZGVmYXVsdC5hc01vbmV5KHN1YnRvdGFsKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjYXJ0LWFjdGlvbnMtY29udGFpbmVyIGNhcnQtc2VjdGlvbiB0eXBlLS1jZW50ZXInIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY2FydC1kaXNjb3VudC1ub3RpY2UgY2FydC1pbmZvX19zbWFsbCcgfSxcbiAgICAgICAgICAgICAgICAnU2hpcHBpbmcgYW5kIGRpc2NvdW50IGNvZGVzIGFyZSBhZGRlZCBhdCBjaGVja291dC4nXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3VibWl0JyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdidG4gYnRuLS1jYXJ0LWNoZWNrb3V0JyxcbiAgICAgICAgICAgICAgICBpZDogJ2NoZWNrb3V0JyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnY2hlY2tvdXQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnQ2hlY2tvdXQnLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2hlY2tvdXRcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhcnQ7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjb25uZWN0KGZ1bmN0aW9uIChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGNhcnQ6IHN0YXRlLmNhcnRcbiAgfTtcbn0pKENhcnQpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTYzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb2N1bWVudE1ldGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblxudmFyIF9yZWFjdERvY3VtZW50TWV0YTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvY3VtZW50TWV0YSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEFib3V0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFib3V0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBBYm91dCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWJvdXQpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBYm91dC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFib3V0KSkuY2FsbCh0aGlzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQWJvdXQsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc2VjdGlvbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiAnc2VjdGlvbicgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdjb250YWluZXInIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnaDEnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICdBYm91dCB1cydcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFib3V0O1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBYm91dDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE2NDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9jdW1lbnRNZXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cbnZhciBfcmVhY3REb2N1bWVudE1ldGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb2N1bWVudE1ldGEpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBDb250YWN0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbnRhY3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbnRhY3QoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRhY3QpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb250YWN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29udGFjdCkpLmNhbGwodGhpcykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbnRhY3QsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc2VjdGlvbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiAnc2VjdGlvbicgfSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdjb250YWluZXInIH0sXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnaDEnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICdDb250YWN0J1xuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29udGFjdDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udGFjdDtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE2NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9jdW1lbnRNZXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cbnZhciBfcmVhY3REb2N1bWVudE1ldGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb2N1bWVudE1ldGEpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBMb2dpbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhMb2dpbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTG9naW4oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZ2luKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTG9naW4uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2dpbikpLmNhbGwodGhpcykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExvZ2luLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NlY3Rpb24nLFxuICAgICAgICB7IGNsYXNzTmFtZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29udGFpbmVyJyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2gxJyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAnTG9naW4nXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdmb3JtJyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgcGxhY2Vob2xkZXI6ICdFbWFpbCcgfSksXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICdwYXNzd29yZCcsIHBsYWNlaG9sZGVyOiAnUGFzc3dvcmQnIH0pLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAnc3VibWl0JywgY2xhc3NOYW1lOiAnYnV0dG9uJywgdmFsdWU6ICdMb2dpbicgfSlcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvZ2luO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBMb2dpbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIDE2Njpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9jdW1lbnRNZXRhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cbnZhciBfcmVhY3REb2N1bWVudE1ldGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb2N1bWVudE1ldGEpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBNYXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTWFwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNYXAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hcCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1hcC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1hcCkpLmNhbGwodGhpcykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1hcCwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzZWN0aW9uJyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdzZWN0aW9uJyB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbnRhaW5lcicgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdoMScsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgJ01hcCBwYWdlJ1xuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWFwO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXA7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNjc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvY3VtZW50TWV0YSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG52YXIgX3JlYWN0RG9jdW1lbnRNZXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9jdW1lbnRNZXRhKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgT3JkZXJTdGF0dXMgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoT3JkZXJTdGF0dXMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE9yZGVyU3RhdHVzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPcmRlclN0YXR1cyk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE9yZGVyU3RhdHVzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoT3JkZXJTdGF0dXMpKS5jYWxsKHRoaXMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhPcmRlclN0YXR1cywgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzZWN0aW9uJyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdzZWN0aW9uJyB9LFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbnRhaW5lcicgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdoMScsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgJ09yZGVyIFN0YXR1cyBwYWdlJ1xuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT3JkZXJTdGF0dXM7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9yZGVyU3RhdHVzO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTY4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgcHJvZHVjdHNSZWR1Y2VyID0gZXhwb3J0cy5wcm9kdWN0c1JlZHVjZXIgPSBmdW5jdGlvbiBwcm9kdWN0c1JlZHVjZXIoKSB7XG4gIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogeyBhbGw6IFtdLCBhY3RpdmU6IG51bGwgfTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQUREX1BST0RVQ1RTJzpcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgYWxsOiBhY3Rpb24ucHJvZHVjdHNcbiAgICAgIH0pO1xuICAgIGNhc2UgJ1NFVF9BQ1RJVkVfUFJPRFVDVCc6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIGFjdGl2ZTogX2V4dGVuZHMoe30sIHN0YXRlLmFjdGl2ZSwge1xuICAgICAgICAgIGZldGNoZWQ6IHRydWUsXG4gICAgICAgICAgb3B0aW9uczogYWN0aW9uLm9wdGlvbnNcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIGNhc2UgJ0NMRUFSX0FDVElWRV9QUk9EVUNUJzpcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgYWN0aXZlOiBudWxsXG4gICAgICB9KTtcbiAgICBjYXNlICdVUERBVEVfQUNUSVZFX1BST0RVQ1RfT1BUSU9OUyc6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIGFjdGl2ZTogX2V4dGVuZHMoe30sIHN0YXRlLmFjdGl2ZSwge1xuICAgICAgICAgIG9wdGlvbnM6IGFjdGlvbi5vcHRpb25zXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuXG52YXIgY29sbGVjdGlvbnNSZWR1Y2VyID0gZXhwb3J0cy5jb2xsZWN0aW9uc1JlZHVjZXIgPSBmdW5jdGlvbiBjb2xsZWN0aW9uc1JlZHVjZXIoKSB7XG4gIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogeyBhbGw6IFtdLCBhY3RpdmU6IG51bGwgfTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQUREX0NPTExFQ1RJT05TJzpcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgYWxsOiBhY3Rpb24uY29sbGVjdGlvbnNcbiAgICAgIH0pO1xuICAgIGNhc2UgJ1NFVF9BQ1RJVkVfQ09MTEVDVElPTic6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIGFjdGl2ZTogYWN0aW9uLnBhcnNlZENvbGxlY3Rpb25cbiAgICAgIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5cbnZhciBjYXJ0UmVkdWNlciA9IGV4cG9ydHMuY2FydFJlZHVjZXIgPSBmdW5jdGlvbiBjYXJ0UmVkdWNlcigpIHtcbiAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7IGlzT3BlbjogZmFsc2UsIGxpbmVJdGVtczogW10gfTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgLy8gY2FzZSAnUkVTVE9SRV9QUkVWSU9VU19DQVJUJzpcbiAgICAvLyAgIHJldHVybiBhY3Rpb24ucmVtb3RlQ2FydDtcbiAgICBjYXNlICdTRVRfSU5JVElBTF9DQVJUX1NUQVRFJzpcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgYWN0aW9uLmxvY2FsQ2FydCk7XG4gICAgY2FzZSAnVVBEQVRFX0NBUlRfSVRFTVMnOlxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICBsaW5lSXRlbXM6IGFjdGlvbi51cGRhdGVkQ2FydEl0ZW1zXG4gICAgICB9KTtcbiAgICBjYXNlICdVUERBVEVfQ0FSVF9JVEVNU19DT1VOVCc6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIGxpbmVJdGVtc0NvdW50OiBhY3Rpb24udXBkYXRlZENhcnRJdGVtc0NvdW50XG4gICAgICB9KTtcbiAgICBjYXNlICdVUERBVEVfQ0FSVF9TVUJUT1RBTCc6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIHN1YnRvdGFsOiBhY3Rpb24ubmV3U3VidG90YWxcbiAgICAgIH0pO1xuICAgIGNhc2UgJ09QRU5fQ0FSVCc6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIGlzT3BlbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgY2FzZSAnQ0xPU0VfQ0FSVCc6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIGlzT3BlbjogZmFsc2VcbiAgICAgIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5cbnZhciBuYXZSZWR1Y2VyID0gZXhwb3J0cy5uYXZSZWR1Y2VyID0gZnVuY3Rpb24gbmF2UmVkdWNlcigpIHtcbiAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7IHNob3dDbG9zZTogZmFsc2UsIHNob3dOYXY6IGZhbHNlIH07XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ1RPR0dMRV9OQVZfSUNPTic6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIHNob3dDbG9zZTogIXN0YXRlLnNob3dDbG9zZSxcbiAgICAgICAgc2hvd05hdjogc3RhdGUuc2hvd05hdlxuICAgICAgfSk7XG4gICAgY2FzZSAnVE9HR0xFX05BVic6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIHNob3dDbG9zZTogIXN0YXRlLnNob3dDbG9zZSxcbiAgICAgICAgc2hvd05hdjogIXN0YXRlLnNob3dOYXZcbiAgICAgIH0pO1xuICAgIGNhc2UgJ0NMT1NFX05BVic6XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIHNob3dDbG9zZTogZmFsc2UsXG4gICAgICAgIHNob3dOYXY6IGZhbHNlXG4gICAgICB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMjQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgU2hvcGlmeUJ1eSA9IF9fd2VicGFja19yZXF1aXJlX18oMzM1KTtcbnZhciBzdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpLmNvbmZpZ3VyZSgpO1xuXG52YXIgc2hvcGlmeUFQSSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gc2hvcGlmeUFQSSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgc2hvcGlmeUFQSSk7XG5cbiAgICB0aGlzLmNsaWVudCA9IFNob3BpZnlCdXkuYnVpbGRDbGllbnQoe1xuICAgICAgYXBpS2V5OiAnZTBhYjhjZjliNWEzMGNlZTI2MTZiZjE1MWE1NmM3NjMnLFxuICAgICAgZG9tYWluOiAncm1jLXByZXZpZXcubXlzaG9waWZ5LmNvbScsXG4gICAgICBhcHBJZDogJzYnXG4gICAgfSk7XG4gICAgdGhpcy5jYXJ0ID0ge307XG4gIH1cblxuICBfY3JlYXRlQ2xhc3Moc2hvcGlmeUFQSSwgW3tcbiAgICBrZXk6ICdjcmVhdGVDYXJ0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQ2FydCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIF90aGlzLmNsaWVudC5jcmVhdGVDYXJ0KCkudGhlbihmdW5jdGlvbiAobmV3Q2FydCkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYXN0Q2FydElkJywgbmV3Q2FydC5pZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZWQgbmV3IGNhcnQnLCBuZXdDYXJ0KTtcbiAgICAgICAgICAvLyBzZXQgc2luZ2xldG9uIGNhcnQgb2JqZWN0IHRvIHJlZmVyZW5jZSBzaG9waWZ5IGNhcnRcbiAgICAgICAgICBfdGhpcy5jYXJ0ID0gbmV3Q2FydDtcblxuICAgICAgICAgIC8vIHNldCBsb2NhbENhcnQgKHJlZHV4IGNvbm5lY3RlZCkgdG8ga2VlcCB0cmFjayBvZiBzdGF0ZSBjaGFuZ2VzXG4gICAgICAgICAgdmFyIGxvY2FsQ2FydCA9IHtcbiAgICAgICAgICAgIGlzT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBsaW5lSXRlbXNDb3VudDogMCxcbiAgICAgICAgICAgIGxpbmVJdGVtczogW10sXG4gICAgICAgICAgICBzdWJ0b3RhbDogMFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzb2x2ZShsb2NhbENhcnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Jlc3RvcmVDYXJ0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzdG9yZUNhcnQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgX3RoaXMyLmNsaWVudC5mZXRjaENhcnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RDYXJ0SWQnKSkudGhlbihmdW5jdGlvbiAocmVtb3RlQ2FydCkge1xuICAgICAgICAgIC8vIHNldCBzaW5nbGV0b24gY2FydCBvYmplY3QgdG8gcmVmZXJlbmNlIHNob3BpZnkgY2FydFxuICAgICAgICAgIF90aGlzMi5jYXJ0ID0gcmVtb3RlQ2FydDtcblxuICAgICAgICAgIC8vIHNldCBsb2NhbENhcnQgKHJlZHV4IGNvbm5lY3RlZCkgdG8ga2VlcCB0cmFjayBvZiBzdGF0ZSBjaGFuZ2VzXG4gICAgICAgICAgdmFyIGxvY2FsQ2FydCA9IHtcbiAgICAgICAgICAgIGlzT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBsaW5lSXRlbXNDb3VudDogcmVtb3RlQ2FydC5saW5lSXRlbUNvdW50LFxuICAgICAgICAgICAgbGluZUl0ZW1zOiByZW1vdGVDYXJ0LmxpbmVJdGVtcyxcbiAgICAgICAgICAgIHN1YnRvdGFsOiByZW1vdGVDYXJ0LnN1YnRvdGFsXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXNvbHZlKGxvY2FsQ2FydCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIHNob3BpZnlBUEk7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IG5ldyBzaG9waWZ5QVBJKCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAyNzI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnRocm93IG5ldyBFcnJvcihcIk1vZHVsZSBidWlsZCBmYWlsZWQ6IEVycm9yOiBFTk9FTlQ6IG5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnksIG9wZW4gJy9Vc2Vycy9qdWxpYW5qb3JnZW5zZW4vc2l0ZXMvcm1jL25vZGVfbW9kdWxlcy9yZWFjdC1nYS9zcmMvaW5kZXguanMnXCIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMjgzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG50aHJvdyBuZXcgRXJyb3IoXCJNb2R1bGUgYnVpbGQgZmFpbGVkOiBFcnJvcjogRU5PRU5UOiBubyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5LCBvcGVuICcvVXNlcnMvanVsaWFuam9yZ2Vuc2VuL3NpdGVzL3JtYy9ub2RlX21vZHVsZXMvcmVhY3QtbW9kYWwvbGliL2luZGV4LmpzJ1wiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMxMzpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG50aHJvdyBuZXcgRXJyb3IoXCJNb2R1bGUgYnVpbGQgZmFpbGVkOiBFcnJvcjogRU5PRU5UOiBubyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5LCBvcGVuICcvVXNlcnMvanVsaWFuam9yZ2Vuc2VuL3NpdGVzL3JtYy9ub2RlX21vZHVsZXMvcmVhY3Qtc2xpY2svbGliL2luZGV4LmpzJ1wiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMzMDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG50aHJvdyBuZXcgRXJyb3IoXCJNb2R1bGUgYnVpbGQgZmFpbGVkOiBFcnJvcjogRU5PRU5UOiBubyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5LCBvcGVuICcvVXNlcnMvanVsaWFuam9yZ2Vuc2VuL3NpdGVzL3JtYy9ub2RlX21vZHVsZXMvcmVkdXgtdGh1bmsvbGliL2luZGV4LmpzJ1wiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDMzNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG50aHJvdyBuZXcgRXJyb3IoXCJNb2R1bGUgYnVpbGQgZmFpbGVkOiBFcnJvcjogRU5PRU5UOiBubyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5LCBvcGVuICcvVXNlcnMvanVsaWFuam9yZ2Vuc2VuL3NpdGVzL3JtYy9ub2RlX21vZHVsZXMvc2hvcGlmeS1idXkvbGliL3Nob3BpZnkuanMnXCIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzQzOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfc2hvcGlmeUFQSSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG52YXIgX3Nob3BpZnlBUEkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hvcGlmeUFQSSk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMTUwKTtcblxudmFyIF9yb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MSk7XG5cbnZhciBfcm91dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjYXJ0QWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIHByb2R1Y3RBY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG52YXIgY29sbGVjdGlvbkFjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcbnZhciBzdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpLmNvbmZpZ3VyZSgpO1xuXG5cbi8vIHN1YnNjcmliZSB0byB0aGUgcmVkdXggc3RvcmVcbnN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnNvbGUubG9nKCdOZXcgc3RhdGUnLCBzdGF0ZSk7XG59KTtcblxuLy8gYWRkIHByb2R1Y3RzIGFuZCBjb2xsZWN0aW9ucyB0byBzdG9yZVxuc3RvcmUuZGlzcGF0Y2gocHJvZHVjdEFjdGlvbnMuc3RhcnRBZGRQcm9kdWN0cygpKTtcbnN0b3JlLmRpc3BhdGNoKGNvbGxlY3Rpb25BY3Rpb25zLnN0YXJ0QWRkQ29sbGVjdGlvbnMoKSk7XG5cbi8vIGNyZWF0ZSBzaG9waWZ5IGNhcnQgaW5zdGFuY2UgYmFzZWQgb24gbGFzdCBzZXNzaW9uIChiYXNlZCBvbiBsb2NhbFN0b3JhZ2UpXG5pZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RDYXJ0SWQnKSkge1xuICBfc2hvcGlmeUFQSTIuZGVmYXVsdC5yZXN0b3JlQ2FydCgpLnRoZW4oZnVuY3Rpb24gKGxvY2FsQ2FydCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1NFVF9JTklUSUFMX0NBUlRfU1RBVEUnLCBsb2NhbENhcnQ6IGxvY2FsQ2FydCB9KTtcbiAgfSk7XG59IGVsc2Uge1xuICBfc2hvcGlmeUFQSTIuZGVmYXVsdC5jcmVhdGVDYXJ0KCkudGhlbihmdW5jdGlvbiAobG9jYWxDYXJ0KSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0lOSVRJQUxfQ0FSVF9TVEFURScsIGxvY2FsQ2FydDogbG9jYWxDYXJ0IH0pO1xuICB9KTtcbn1cblxuLy8gQXBwIGNzc1xuLy8gcmVxdWlyZSgnc3R5bGUhY3NzIXNhc3MhYXBwbGljYXRpb25TdHlsZXMnKVxuXG5fcmVhY3REb20yLmRlZmF1bHQucmVuZGVyKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICBfcmVhY3RSZWR1eC5Qcm92aWRlcixcbiAgeyBzdG9yZTogc3RvcmUgfSxcbiAgX3JvdXRlcjIuZGVmYXVsdFxuKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5hZGRDb2xsZWN0aW9ucyA9IGV4cG9ydHMuc3RhcnRBZGRDb2xsZWN0aW9ucyA9IGV4cG9ydHMuc2V0QWN0aXZlQ29sbGVjdGlvbiA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9zaG9waWZ5QVBJID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfc2hvcGlmeUFQSTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaG9waWZ5QVBJKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHNldEFjdGl2ZUNvbGxlY3Rpb24gPSBleHBvcnRzLnNldEFjdGl2ZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiBzZXRBY3RpdmVDb2xsZWN0aW9uKGlkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcbiAgICByZXR1cm4gX3Nob3BpZnlBUEkyLmRlZmF1bHQuY2xpZW50LmZldGNoQ29sbGVjdGlvbihpZCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdmFyIGNvbGxlY3Rpb24gPSBkYXRhIHx8IHt9O1xuICAgICAgdmFyIHBhcnNlZENvbGxlY3Rpb24gPSBfZXh0ZW5kcyh7fSwgY29sbGVjdGlvbik7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfQUNUSVZFX0NPTExFQ1RJT04nLCBwYXJzZWRDb2xsZWN0aW9uOiBwYXJzZWRDb2xsZWN0aW9uIH0pO1xuICAgIH0pO1xuICB9O1xufTtcblxuLy8gQWRkIGNvbGxlY3Rpb25zIHRvIHN0b3JlXG52YXIgc3RhcnRBZGRDb2xsZWN0aW9ucyA9IGV4cG9ydHMuc3RhcnRBZGRDb2xsZWN0aW9ucyA9IGZ1bmN0aW9uIHN0YXJ0QWRkQ29sbGVjdGlvbnMoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcbiAgICByZXR1cm4gX3Nob3BpZnlBUEkyLmRlZmF1bHQuY2xpZW50LmZldGNoQWxsQ29sbGVjdGlvbnMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgY29sbGVjdGlvbnMgPSBkYXRhIHx8IHt9O1xuICAgICAgdmFyIHBhcnNlZENvbGxlY3Rpb25zID0gW107XG5cbiAgICAgIE9iamVjdC5rZXlzKGNvbGxlY3Rpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2xsZWN0aW9uSWQpIHtcbiAgICAgICAgcGFyc2VkQ29sbGVjdGlvbnMucHVzaChfZXh0ZW5kcyh7XG4gICAgICAgICAga2V5OiBjb2xsZWN0aW9uSWRcbiAgICAgICAgfSwgY29sbGVjdGlvbnNbY29sbGVjdGlvbklkXSkpO1xuICAgICAgfSk7XG5cbiAgICAgIGRpc3BhdGNoKGFkZENvbGxlY3Rpb25zKHBhcnNlZENvbGxlY3Rpb25zKSk7XG4gICAgfSk7XG4gIH07XG59O1xuXG52YXIgYWRkQ29sbGVjdGlvbnMgPSBleHBvcnRzLmFkZENvbGxlY3Rpb25zID0gZnVuY3Rpb24gYWRkQ29sbGVjdGlvbnMoY29sbGVjdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQUREX0NPTExFQ1RJT05TJyxcbiAgICBjb2xsZWN0aW9uczogY29sbGVjdGlvbnNcbiAgfTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0ODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudXBkYXRlQWN0aXZlUHJvZHVjdE9wdGlvbnMgPSBleHBvcnRzLmNsZWFyQWN0aXZlUHJvZHVjdCA9IGV4cG9ydHMuc2V0QWN0aXZlUHJvZHVjdCA9IGV4cG9ydHMucHJlbG9hZFByb2R1Y3RJbWFnZXMgPSBleHBvcnRzLmFkZFByb2R1Y3RzID0gZXhwb3J0cy5zdGFydEFkZFByb2R1Y3RzID0gdW5kZWZpbmVkO1xuXG52YXIgX3Nob3BpZnlBUEkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblxudmFyIF9zaG9waWZ5QVBJMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nob3BpZnlBUEkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBBZGQgcHJvZHVjdHMgdG8gc3RvcmVcbnZhciBzdGFydEFkZFByb2R1Y3RzID0gZXhwb3J0cy5zdGFydEFkZFByb2R1Y3RzID0gZnVuY3Rpb24gc3RhcnRBZGRQcm9kdWN0cygpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuICAgIHJldHVybiBfc2hvcGlmeUFQSTIuZGVmYXVsdC5jbGllbnQuZmV0Y2hBbGxQcm9kdWN0cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZhciBwcm9kdWN0cyA9IGRhdGEgfHwge307XG4gICAgICB2YXIgcGFyc2VkUHJvZHVjdHMgPSBwcm9kdWN0cy5tYXAoZnVuY3Rpb24gKHByb2R1Y3QsIGluZGV4KSB7XG4gICAgICAgIHZhciB1cGRhdGVkUHJvZHVjdCA9IFtdO1xuICAgICAgICB1cGRhdGVkUHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgICAgIHVwZGF0ZWRQcm9kdWN0LmtleSA9IGluZGV4O1xuICAgICAgICByZXR1cm4gdXBkYXRlZFByb2R1Y3Q7XG4gICAgICB9KTtcblxuICAgICAgZGlzcGF0Y2goYWRkUHJvZHVjdHMocGFyc2VkUHJvZHVjdHMpKTtcbiAgICAgIGRpc3BhdGNoKHByZWxvYWRQcm9kdWN0SW1hZ2VzKCkpO1xuICAgIH0pO1xuICB9O1xufTtcblxudmFyIGFkZFByb2R1Y3RzID0gZXhwb3J0cy5hZGRQcm9kdWN0cyA9IGZ1bmN0aW9uIGFkZFByb2R1Y3RzKHByb2R1Y3RzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0FERF9QUk9EVUNUUycsXG4gICAgcHJvZHVjdHM6IHByb2R1Y3RzXG4gIH07XG59O1xuXG52YXIgcHJlbG9hZFByb2R1Y3RJbWFnZXMgPSBleHBvcnRzLnByZWxvYWRQcm9kdWN0SW1hZ2VzID0gZnVuY3Rpb24gcHJlbG9hZFByb2R1Y3RJbWFnZXMoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gsIGdldFN0YXRlKSB7XG4gICAgdmFyIHByb2R1Y3RzID0gZ2V0U3RhdGUoKS5wcm9kdWN0cy5hbGw7XG4gICAgdmFyIGltYWdlcyA9IFtdO1xuICAgIHByb2R1Y3RzLm1hcChmdW5jdGlvbiAocHJvZHVjdCwgaW5kZXgpIHtcbiAgICAgIGltYWdlc1tpbmRleF0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlc1tpbmRleF0uc3JjID0gcHJvZHVjdC5zZWxlY3RlZFZhcmlhbnQuaW1hZ2VWYXJpYW50c1s0XS5zcmM7XG4gICAgICByZXR1cm4gaW1hZ2VzW2luZGV4XTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8vIHNldCBhY3RpdmUgcHJvZHVjdFxudmFyIHNldEFjdGl2ZVByb2R1Y3QgPSBleHBvcnRzLnNldEFjdGl2ZVByb2R1Y3QgPSBmdW5jdGlvbiBzZXRBY3RpdmVQcm9kdWN0KG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnU0VUX0FDVElWRV9QUk9EVUNUJyxcbiAgICBvcHRpb25zOiBvcHRpb25zXG4gIH07XG59O1xuXG4vLyBjbGVhciBhY3RpdmUgcHJvZHVjdCBmcm9tIHJlZHV4XG52YXIgY2xlYXJBY3RpdmVQcm9kdWN0ID0gZXhwb3J0cy5jbGVhckFjdGl2ZVByb2R1Y3QgPSBmdW5jdGlvbiBjbGVhckFjdGl2ZVByb2R1Y3QoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0NMRUFSX0FDVElWRV9QUk9EVUNUJ1xuICB9O1xufTtcblxuLy8gdXBkYXRlIGFjdGl2ZSBwcm9kdWN0IG9wdGlvblxudmFyIHVwZGF0ZUFjdGl2ZVByb2R1Y3RPcHRpb25zID0gZXhwb3J0cy51cGRhdGVBY3RpdmVQcm9kdWN0T3B0aW9ucyA9IGZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZVByb2R1Y3RPcHRpb25zKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnVVBEQVRFX0FDVElWRV9QUk9EVUNUX09QVElPTlMnLFxuICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgfTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA0OTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY29uZmlndXJlID0gdW5kZWZpbmVkO1xuXG52YXIgX3JlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO1xuXG52YXIgcmVkdXggPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcmVkdXgpO1xuXG52YXIgX3JlZHV4VGh1bmsgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMCk7XG5cbnZhciBfcmVkdXhUaHVuazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eFRodW5rKTtcblxudmFyIF9yZWR1Y2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxudmFyIGNvbmZpZ3VyZSA9IGV4cG9ydHMuY29uZmlndXJlID0gZnVuY3Rpb24gY29uZmlndXJlKCkge1xuICB2YXIgaW5pdGlhbFN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICB2YXIgcmVkdWNlciA9IHJlZHV4LmNvbWJpbmVSZWR1Y2Vycyh7XG4gICAgcHJvZHVjdHM6IF9yZWR1Y2Vycy5wcm9kdWN0c1JlZHVjZXIsXG4gICAgY29sbGVjdGlvbnM6IF9yZWR1Y2Vycy5jb2xsZWN0aW9uc1JlZHVjZXIsXG4gICAgY2FydDogX3JlZHVjZXJzLmNhcnRSZWR1Y2VyLFxuICAgIG5hdjogX3JlZHVjZXJzLm5hdlJlZHVjZXJcbiAgfSk7XG5cbiAgdmFyIHN0b3JlID0gcmVkdXguY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCByZWR1eC5jb21wb3NlKHJlZHV4LmFwcGx5TWlkZGxld2FyZShfcmVkdXhUaHVuazIuZGVmYXVsdCksIHdpbmRvdy5kZXZUb29sc0V4dGVuc2lvbiA/IHdpbmRvdy5kZXZUb29sc0V4dGVuc2lvbigpIDogZnVuY3Rpb24gKGYpIHtcbiAgICByZXR1cm4gZjtcbiAgfSkpO1xuXG4gIHJldHVybiBzdG9yZTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyA1MDpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IExvYWRlcjtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBMb2FkZXIoKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBcImRpdlwiLFxuICAgIHsgY2xhc3NOYW1lOiBcImxvYWRlclwiIH0sXG4gICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpXCIsIHsgY2xhc3NOYW1lOiBcImZhIGZhLWNpcmNsZS1vLW5vdGNoIGZhLXNwaW4gZmEtM3ggZmEtZndcIiB9KVxuICApO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gNTE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBGb3JtYXQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZvcm1hdCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9ybWF0KTtcbiAgfVxuXG4gIC8vIGZvcm1hdCBhbW91bnQgYXMgY3VycmVuY3lcblxuXG4gIF9jcmVhdGVDbGFzcyhGb3JtYXQsIFt7XG4gICAga2V5OiAnYXNNb25leScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFzTW9uZXkoYW1vdW50LCBjdXJyZW5jeSwgdGhvdXNhbmRTZXBhcmF0b3IsIGRlY2ltYWxTZXBhcmF0b3IsIGxvY2FsZURlY2ltYWxTZXBhcmF0b3IpIHtcbiAgICAgIGN1cnJlbmN5ID0gY3VycmVuY3kgfHwgJyQnO1xuICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSB0aG91c2FuZFNlcGFyYXRvciB8fCAnLCc7XG4gICAgICBkZWNpbWFsU2VwYXJhdG9yID0gZGVjaW1hbFNlcGFyYXRvciB8fCAnLic7XG4gICAgICBsb2NhbGVEZWNpbWFsU2VwYXJhdG9yID0gbG9jYWxlRGVjaW1hbFNlcGFyYXRvciB8fCAnLic7XG4gICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCcoXFxcXGQpKD89KFxcXFxkezN9KStcXFxcLiknLCAnZycpO1xuXG4gICAgICByZXR1cm4gY3VycmVuY3kgKyBwYXJzZUZsb2F0KGFtb3VudCwgMTApLnRvRml4ZWQoMikucmVwbGFjZShsb2NhbGVEZWNpbWFsU2VwYXJhdG9yLCBkZWNpbWFsU2VwYXJhdG9yKS5yZXBsYWNlKHJlZ2V4LCAnJDEnICsgdGhvdXNhbmRTZXBhcmF0b3IpLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZvcm1hdDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gbmV3IEZvcm1hdCgpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gODM6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLFxuICAgIGNvbm5lY3QgPSBfcmVxdWlyZS5jb25uZWN0O1xuXG52YXIgYWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXG52YXIgQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb2xsZWN0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDb2xsZWN0aW9uKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsZWN0aW9uKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ29sbGVjdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbGxlY3Rpb24pKS5jYWxsKHRoaXMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb2xsZWN0aW9uLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHZhciBkaXNwYXRjaCA9IHRoaXMucHJvcHMuZGlzcGF0Y2g7XG5cbiAgICAgIGRpc3BhdGNoKGFjdGlvbnMuc2V0QWN0aXZlQ29sbGVjdGlvbih0aGlzLnByb3BzLnBhcmFtcy5jb2xsZWN0aW9uSWQpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgY29sbGVjdGlvbiA9IHZvaWQgMDtcbiAgICAgIGNvbGxlY3Rpb24gPSB0aGlzLnByb3BzLmNvbGxlY3Rpb247XG4gICAgICBpZiAoY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgZGlzcGF0Y2ggPSB0aGlzLnByb3BzLmRpc3BhdGNoO1xuICAgICAgICB2YXIgX2NvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgY29sbGVjdGlvbl9pZCA9IF9jb2xsZWN0aW9uLmNvbGxlY3Rpb25faWQsXG4gICAgICAgICAgICB0aXRsZSA9IF9jb2xsZWN0aW9uLnRpdGxlO1xuXG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sbGVjdGlvbi1pbmRleCcgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdoMScsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3RleHQtY2VudGVyJyB9LFxuICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAnTG9hZGluZyBjb2xsZWN0aW9uLi4uJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb2xsZWN0aW9uO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gY29ubmVjdChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBjb2xsZWN0aW9uOiBzdGF0ZS5jb2xsZWN0aW9ucy5hY3RpdmVcbiAgfTtcbn0pKENvbGxlY3Rpb24pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gODQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG52YXIgX2Zvcm1hdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXG52YXIgX2Zvcm1hdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mb3JtYXQpO1xuXG52YXIgX3JlYWN0TW9kYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4Myk7XG5cbnZhciBfcmVhY3RNb2RhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdE1vZGFsKTtcblxudmFyIF9zaG9waWZ5QVBJID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbnZhciBfc2hvcGlmeUFQSTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaG9waWZ5QVBJKTtcblxudmFyIF9Mb2FkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblxudmFyIF9Mb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTG9hZGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLFxuICAgIGNvbm5lY3QgPSBfcmVxdWlyZS5jb25uZWN0O1xuXG52YXIgcHJvZHVjdEFjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcbnZhciBjYXJ0QWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG52YXIgUHJvZHVjdCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQcm9kdWN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQcm9kdWN0KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm9kdWN0KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQcm9kdWN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJvZHVjdCkpLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBtb2RhbElzT3BlbjogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMub3Blbk1vZGFsID0gX3RoaXMub3Blbk1vZGFsLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmNsb3NlTW9kYWwgPSBfdGhpcy5jbG9zZU1vZGFsLmJpbmQoX3RoaXMpO1xuXG4gICAgdmFyIGRpc3BhdGNoID0gdm9pZCAwO1xuICAgIHZhciBwcm9kdWN0ID0gdm9pZCAwO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQcm9kdWN0LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLmRpc3BhdGNoID0gdGhpcy5wcm9wcy5kaXNwYXRjaDtcblxuICAgICAgX3Nob3BpZnlBUEkyLmRlZmF1bHQuY2xpZW50LmZldGNoUHJvZHVjdCh0aGlzLnByb3BzLnBhcmFtcy5wcm9kdWN0SWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHByb2R1Y3QgPSBkYXRhIHx8IHt9O1xuICAgICAgICBfdGhpczIucHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgICAgIF90aGlzMi5kaXNwYXRjaChwcm9kdWN0QWN0aW9ucy5zZXRBY3RpdmVQcm9kdWN0KHByb2R1Y3Qub3B0aW9ucykpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2gocHJvZHVjdEFjdGlvbnMuY2xlYXJBY3RpdmVQcm9kdWN0KCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Nsb3NlTW9kYWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsSXNPcGVuOiBmYWxzZSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvcGVuTW9kYWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuTW9kYWwoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgbW9kYWxJc09wZW46IHRydWUgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlT3B0aW9uQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlT3B0aW9uQ2hhbmdlKG9wdGlvbk5hbWUsIHZhbHVlKSB7XG4gICAgICAvLyB1cGRhdGUgcHJvZHVjdCBvcHRpb25zIGluIHRoZSBTaG9waWZ5IHNpbmdsZXRvblxuICAgICAgdGhpcy5wcm9kdWN0Lm9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbi5uYW1lID09PSBvcHRpb25OYW1lO1xuICAgICAgfSlbMF0uc2VsZWN0ZWQgPSB2YWx1ZTtcblxuICAgICAgLy8gdXBkYXRlIHByb2R1Y3Qgb3B0aW9uc1xuICAgICAgdGhpcy5kaXNwYXRjaChwcm9kdWN0QWN0aW9ucy51cGRhdGVBY3RpdmVQcm9kdWN0T3B0aW9ucyh0aGlzLnByb2R1Y3Qub3B0aW9ucykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgYWN0aXZlUHJvZHVjdCA9IHZvaWQgMDtcbiAgICAgIGFjdGl2ZVByb2R1Y3QgPSB0aGlzLnByb2R1Y3Q7XG4gICAgICBpZiAoYWN0aXZlUHJvZHVjdCkge1xuICAgICAgICB2YXIgZGlzcGF0Y2ggPSB0aGlzLnByb3BzLmRpc3BhdGNoO1xuICAgICAgICB2YXIgX2FjdGl2ZVByb2R1Y3QkYXR0cnMgPSBhY3RpdmVQcm9kdWN0LmF0dHJzLFxuICAgICAgICAgICAgcHJvZHVjdF9pZCA9IF9hY3RpdmVQcm9kdWN0JGF0dHJzLnByb2R1Y3RfaWQsXG4gICAgICAgICAgICB0aXRsZSA9IF9hY3RpdmVQcm9kdWN0JGF0dHJzLnRpdGxlLFxuICAgICAgICAgICAgaW1hZ2VzID0gX2FjdGl2ZVByb2R1Y3QkYXR0cnMuaW1hZ2VzLFxuICAgICAgICAgICAgb3B0aW9ucyA9IF9hY3RpdmVQcm9kdWN0JGF0dHJzLm9wdGlvbnM7XG4gICAgICAgIHZhciBfYWN0aXZlUHJvZHVjdCA9IGFjdGl2ZVByb2R1Y3QsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IF9hY3RpdmVQcm9kdWN0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgc2VsZWN0ZWRWYXJpYW50ID0gX2FjdGl2ZVByb2R1Y3Quc2VsZWN0ZWRWYXJpYW50LFxuICAgICAgICAgICAgc2VsZWN0ZWRWYXJpYW50SW1hZ2UgPSBfYWN0aXZlUHJvZHVjdC5zZWxlY3RlZFZhcmlhbnRJbWFnZTtcblxuXG4gICAgICAgIHZhciByZW5kZXJPcHRpb25zID0gZnVuY3Rpb24gcmVuZGVyT3B0aW9ucygpIHtcbiAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJvZHVjdC1vcHRpb25zJyB9LFxuICAgICAgICAgICAgYWN0aXZlUHJvZHVjdC5vcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uLCBpbmRleCkge1xuICAgICAgICAgICAgICBpZiAob3B0aW9uLm5hbWUgIT0gXCJTaXplXCIgJiYgb3B0aW9uLm5hbWUgIT0gXCJUaXRsZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICB7IGtleTogaW5kZXgsIG5hbWU6IG9wdGlvbi5uYW1lLCB2YWx1ZTogb3B0aW9uLnNlbGVjdGVkLCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuaGFuZGxlT3B0aW9uQ2hhbmdlKG9wdGlvbi5uYW1lLCBldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAnb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICB7IGtleTogaW5kZXgsIHZhbHVlOiB2YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVuZGVyU2l6ZXMgPSBmdW5jdGlvbiByZW5kZXJTaXplcygpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aXZlUHJvZHVjdC5vcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uLCBvcHRpb25zSW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb24ubmFtZSA9PSBcIlNpemVcIikge1xuICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3VsJyxcbiAgICAgICAgICAgICAgICB7IGtleTogb3B0aW9uc0luZGV4LCBjbGFzc05hbWU6ICdwcm9kdWN0LXNpemVzJyB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncHJvZHVjdC1zaXplICcgKyAob3B0aW9uLnNlbGVjdGVkID09PSB2YWx1ZSA/ICdzZWxlY3RlZCcgOiAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5oYW5kbGVPcHRpb25DaGFuZ2Uob3B0aW9uLm5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2FjdGl2ZVByb2R1Y3Q6ICcsIGFjdGl2ZVByb2R1Y3QpO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbnRhaW5lcicgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdyb3cnIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc21hbGwtMTIgbWVkaXVtLTggY29sdW1uJyB9LFxuICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5nb0JhY2ssIGNsYXNzTmFtZTogJ2J1dHRvbiBob2xsb3cnIH0sXG4gICAgICAgICAgICAgICAgJ1xcdTIwMzkgQmFjayB0byBwcm9kdWN0cydcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAndGV4dC1jZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgc3JjOiBzZWxlY3RlZFZhcmlhbnRJbWFnZS5zcmMsIGFsdDogJycgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzbWFsbC0xMiBtZWRpdW0tNCBjb2x1bW4nIH0sXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdoMScsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwcm9kdWN0LXRpdGxlJyB9LFxuICAgICAgICAgICAgICAgIHRpdGxlXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJvZHVjdC1pbmZvJyB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2g1JyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJvZHVjdC1pbmZvX19oZWFkbGluZScgfSxcbiAgICAgICAgICAgICAgICAgICdBcnRpc3QnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAnSldJU0g4OCdcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2g1JyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJvZHVjdC1pbmZvX19oZWFkbGluZScgfSxcbiAgICAgICAgICAgICAgICAgICdEZXNjcmlwdGlvbidcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogZGVzY3JpcHRpb24gfSB9KSxcbiAgICAgICAgICAgICAgICByZW5kZXJPcHRpb25zKCksXG4gICAgICAgICAgICAgICAgcmVuZGVyU2l6ZXMoKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwcm9kdWN0LXByaWNlJyB9LFxuICAgICAgICAgICAgICAgICAgX2Zvcm1hdDIuZGVmYXVsdC5hc01vbmV5KHNlbGVjdGVkVmFyaWFudC5wcmljZSlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3Byb2R1Y3QtY2hhcml0eScgfSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCBwbGFjZWhvbGRlcjogJ0Nob29zZSBDaGFyaXR5JyB9KSxcbiAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAnc3VibWl0JywgY2xhc3NOYW1lOiAncHJvZHVjdC1jaGFyaXR5X19idXR0b24nIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpJywgeyBjbGFzc05hbWU6ICdmYSBmYS1jYXJldC1yaWdodCcgfSlcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJvZHVjdC1jaGFyaXR5X19tb3JlLWluZm8nLCBvbkNsaWNrOiB0aGlzLm9wZW5Nb2RhbCB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaScsIHsgY2xhc3NOYW1lOiAnZmEgZmEtaW5mby1jaXJjbGUnIH0pLFxuICAgICAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgICB7IGhyZWY6ICcjJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICdtb3JlIGluZm8nXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0TW9kYWwyLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBpc09wZW46IHRoaXMuc3RhdGUubW9kYWxJc09wZW4sXG4gICAgICAgICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U6IHRoaXMuY2xvc2VNb2RhbCxcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50TGFiZWw6ICdtb3JlIGluZm8nLFxuICAgICAgICAgICAgICAgICAgICAgIGNsb3NlVGltZW91dE1TOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnUmVhY3RNb2RhbF9fQ29udGVudCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQuIFBlbGxlbnRlc3F1ZSBlZ2VzdGFzLCBuaWJoIHNlZCB0cmlzdGlxdWUgb3JuYXJlLCBudW5jIGR1aSBzb2xsaWNpdHVkaW4gZWxpdCwgaWQgY29uc2VjdGV0dXIgb2RpbyBsZWN0dXMgZXUgbnVsbGEuIFByb2luIGRhcGlidXMgY29udmFsbGlzIHVybmEgc2l0IGFtZXQgZGljdHVtLiBVdCBwb3J0dGl0b3IgbGlndWxhIGF0IHB1cnVzIGF1Y3RvciBtb2xlc3RpZS4gRXRpYW0gdmVsaXQgbmliaCwgcG9ydHRpdG9yIGF0IGlwc3VtIG1hdHRpcywgY29uc2VjdGV0dXIgZWdlc3RhcyBhcmN1LiBEb25lYyBwZWxsZW50ZXNxdWUgYXVndWUgc2l0IGFtZXQgZWxlbWVudHVtIGZhY2lsaXNpcy4gQWVuZWFuIHNlbXBlciBtYWxlc3VhZGEgbGlndWxhIGZhdWNpYnVzIHNvbGxpY2l0dWRpbi4gQ3VyYWJpdHVyIHV0IGxvcmVtIGFjIGVyYXQgcG9ydGEgbGFjaW5pYSBwdWx2aW5hciBldCByaXN1cy4nXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICdTZWQgYXQgbnVsbGEgZG9sb3IuIFV0IHF1aXMgcXVhbSBmaW5pYnVzLCBlZmZpY2l0dXIgbWkgc2VkLCBzb2xsaWNpdHVkaW4gdXJuYS4gTnVuYyB2ZWwgdG9ydG9yIGNvbW1vZG8sIG1vbGxpcyBlc3QgZXUsIGJsYW5kaXQgbWFzc2EuIFZpdmFtdXMgc2VkIG1pIHZpdGFlIHNlbSBjb21tb2RvIGNvbnNlY3RldHVyIGV1IGluIHNlbS4gRG9uZWMgdXQgZmFjaWxpc2lzIG9kaW8uIE51bGxhbSBpZCBlbGVtZW50dW0gZXJvcywgbm9uIHRlbXB1cyB0b3J0b3IuIE51bGxhbSBpbiBtYXR0aXMgZmVsaXMuIFByYWVzZW50IGJpYmVuZHVtIGJsYW5kaXQgYW50ZSwgZXQgZWxlbWVudHVtIG1ldHVzIGNvbnNlY3RldHVyIHZpdGFlLidcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjbG9zZS1tb2RhbC1pY29uJywgb25DbGljazogdGhpcy5jbG9zZU1vZGFsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2knLCB7IGNsYXNzTmFtZTogJ2ZhIGZhLXRpbWVzJyB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGNhcnRBY3Rpb25zLnN0YXJ0QWRkb3JVcGRhdGVDYXJ0SXRlbShhY3RpdmVQcm9kdWN0LnNlbGVjdGVkVmFyaWFudCwgMSkpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdidXR0b24gbGFyZ2UgYWRkLXRvLWNhcnQnIH0sXG4gICAgICAgICAgICAgICAgICAnQWRkIFRvIENhcnQnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW1nJywgeyBzcmM6ICcvaW1hZ2VzL2NyZWRpdC1jYXJkcy5wbmcnLCBhbHQ6ICdBY2NlcHRlZCBjcmVkaXQgY2FyZHMnIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0xvYWRlcjIuZGVmYXVsdCwgbnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByb2R1Y3Q7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjb25uZWN0KGZ1bmN0aW9uIChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGFjdGl2ZVByb2R1Y3Q6IHN0YXRlLnByb2R1Y3RzLmFjdGl2ZVxuICB9O1xufSkoUHJvZHVjdCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyA4NTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFByb2R1Y3RJdGVtID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFByb2R1Y3RJdGVtLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQcm9kdWN0SXRlbSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvZHVjdEl0ZW0pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQcm9kdWN0SXRlbS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb2R1Y3RJdGVtKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUHJvZHVjdEl0ZW0sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMudGl0bGUsXG4gICAgICAgICAgaWQgPSBfcHJvcHMuaWQsXG4gICAgICAgICAgaW1hZ2UgPSBfcHJvcHMuaW1hZ2U7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdwcm9kdWN0LWl0ZW0nIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJvZHVjdC1pdGVtLWlubmVyJyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG4gICAgICAgICAgICB7IHRvOiAnL3Byb2R1Y3QvJyArIGlkIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdwcm9kdWN0LWl0ZW0taW1hZ2UnLCBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJyArIGltYWdlICsgJyknIH0gfSlcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdocicsIG51bGwpLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2g2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncHJvZHVjdC1pdGVtLXRpdGxlJyB9LFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5MaW5rLFxuICAgICAgICAgICAgICB7IHRvOiAnL3Byb2R1Y3QvJyArIGlkIH0sXG4gICAgICAgICAgICAgIHRpdGxlXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdhdXRob3InIH0sXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdhdXRob3JfX3Bob3RvJywgc3R5bGU6IHsgYmFja2dyb3VuZEltYWdlOiAndXJsKCcgKyBpbWFnZSArICcpJyB9IH0pLFxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2F1dGhvcl9faW5mbycgfSxcbiAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX3JlYWN0Um91dGVyLkxpbmssXG4gICAgICAgICAgICAgICAgeyB0bzogJy9hdXRob3IvJyB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2F1dGhvcl9fbmFtZScgfSxcbiAgICAgICAgICAgICAgICAgICdKYW1lczg4J1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYXV0aG9yX19sb2NhdGlvbicgfSxcbiAgICAgICAgICAgICAgICAgICdDYW50b24gT2hpbydcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByb2R1Y3RJdGVtO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9kdWN0SXRlbTtcblxuLyoqKi8gfSlcblxufSxbMzQzXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGJ1bmRsZS5taW4uNTlhNjM2OWIwMGUxMTJhNTQ2MTEuanMiLCJpbXBvcnQgc2hvcGlmeUFQSSBmcm9tICdzaG9waWZ5QVBJJztcblxuZXhwb3J0IHZhciBzdGFydEFkZG9yVXBkYXRlQ2FydEl0ZW0gPSAocHJvZHVjdFZhcmlhbnQsIHF1YW50aXR5KSA9PiB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgbGV0IGNhcnQgPSBnZXRTdGF0ZSgpLmNhcnQ7XG4gICAgbGV0IHZhcmlhbnRJZDtcblxuICAgIC8vIGFzc2lnbiB2YXJpYW50IGlkIGJhc2VkIG9uIGlzIHByb2R1Y3Qgb3IgY2FydCBsaW5lIGl0ZW1cbiAgICBpZihwcm9kdWN0VmFyaWFudC52YXJpYW50X2lkKXtcbiAgICAgIHZhcmlhbnRJZCA9IHByb2R1Y3RWYXJpYW50LnZhcmlhbnRfaWQ7XG4gICAgfWVsc2V7XG4gICAgICB2YXJpYW50SWQgPSBwcm9kdWN0VmFyaWFudC5pZDtcbiAgICB9XG5cbiAgICBsZXQgY2FydExpbmVJdGVtID0gZmluZENhcnRJdGVtQnlWYXJpYW50SWQodmFyaWFudElkKTtcblxuICAgIC8vIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHByb2R1Y3QgdmFyaWFudCBhbHJlYWR5IGV4aXN0cyBpbiBjYXJ0XG4gICAgZnVuY3Rpb24gZmluZENhcnRJdGVtQnlWYXJpYW50SWQodmFyaWFudElkKSB7XG4gICAgICByZXR1cm4gY2FydC5saW5lSXRlbXMuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdpdGVtLnZhcmlhbnRfaWQ6ICcsIGl0ZW0udmFyaWFudF9pZCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd2YXJpYW50SWQ6ICcsIHZhcmlhbnRJZCk7XG4gICAgICAgIHJldHVybiAoaXRlbS52YXJpYW50X2lkID09PSB2YXJpYW50SWQpO1xuICAgICAgfSlbMF07XG4gICAgfVxuXG4gICAgaWYgKGNhcnRMaW5lSXRlbSkge1xuICAgICAgZGlzcGF0Y2godXBkYXRlQ2FydEl0ZW0oY2FydExpbmVJdGVtLCBwYXJzZUludChxdWFudGl0eSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGF0Y2goYWRkVG9DYXJ0KHByb2R1Y3RWYXJpYW50LCBxdWFudGl0eSkpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0aGUgY2FydCBzdWJ0b3RhbFxuICAgIGRpc3BhdGNoKHVwZGF0ZUNhcnRTdWJ0b3RhbCgpKTtcblxuICAgIC8vICB1cGRhdGUgdGhlIGNhcnQgaXRlbXMgY291bnRcbiAgICBkaXNwYXRjaCh1cGRhdGVDYXJ0SXRlbXNDb3VudChxdWFudGl0eSkpO1xuICB9XG59O1xuXG4vLyBhZGQgcHJvZHVjdCB0byBjYXJ0XG5leHBvcnQgdmFyIGFkZFRvQ2FydCA9IChwcm9kdWN0VmFyaWFudCwgcXVhbnRpdHkpID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBzaG9waWZ5QVBJLmNhcnQuY3JlYXRlTGluZUl0ZW1zRnJvbVZhcmlhbnRzKHsgdmFyaWFudDogcHJvZHVjdFZhcmlhbnQsIHF1YW50aXR5OiBxdWFudGl0eSB9KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZWRDYXJ0KSB7XG4gICAgICBsZXQgdXBkYXRlZENhcnRJdGVtcyA9IHVwZGF0ZWRDYXJ0LmxpbmVJdGVtcztcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1VQREFURV9DQVJUX0lURU1TJywgdXBkYXRlZENhcnRJdGVtcyB9KTtcbiAgICAgIGRpc3BhdGNoKG9wZW5DYXJ0KCkpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gYWRkVG9DYXJ0JywgZXJyb3JzKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gdXBkYXRlIGNhcnQgc3VidG90YWxcbmV4cG9ydCB2YXIgdXBkYXRlQ2FydFN1YnRvdGFsID0gKCkgPT4ge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGxldCBuZXdTdWJ0b3RhbCA9IHNob3BpZnlBUEkuY2FydC5zdWJ0b3RhbDtcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdVUERBVEVfQ0FSVF9TVUJUT1RBTCcsIG5ld1N1YnRvdGFsIH0pO1xuICB9XG59O1xuXG4vLyB1cGRhdGUgY2FydCBpdGVtcyBjb3VudFxuZXhwb3J0IHZhciB1cGRhdGVDYXJ0SXRlbXNDb3VudCA9IChxdWFudGl0eSkgPT4ge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGxldCBjYXJ0ID0gZ2V0U3RhdGUoKS5jYXJ0O1xuICAgIGxldCB1cGRhdGVkQ2FydEl0ZW1zQ291bnQgPSBwYXJzZUludChjYXJ0LmxpbmVJdGVtc0NvdW50KSArIHBhcnNlSW50KHF1YW50aXR5KTtcbiAgICBjb25zb2xlLmxvZygnbmV3IHF1YW50aXR5OiAnLCBxdWFudGl0eSk7XG4gICAgY29uc29sZS5sb2coJ29sZCBxdWFudGl0eTogJywgY2FydC5saW5lSXRlbXNDb3VudCk7XG4gICAgY29uc29sZS5sb2coJ3VwZGF0ZWRDYXJ0SXRlbXNDb3VudDogJywgdXBkYXRlZENhcnRJdGVtc0NvdW50KTtcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdVUERBVEVfQ0FSVF9JVEVNU19DT1VOVCcsIHVwZGF0ZWRDYXJ0SXRlbXNDb3VudCB9KTtcblxuICAgIGlmKHBhcnNlSW50KHVwZGF0ZWRDYXJ0SXRlbXNDb3VudCkgPCAxKSB7XG4gICAgICBkaXNwYXRjaChjbG9zZUNhcnQoKSk7XG4gICAgfWVsc2V7XG4gICAgICBkaXNwYXRjaChvcGVuQ2FydCgpKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHVwZGF0ZSBhIGNhcnQgaXRlbVxuZXhwb3J0IHZhciB1cGRhdGVDYXJ0SXRlbSA9IChzZWxlY3RlZENhcnRJdGVtLCBxdWFudGl0eSkgPT4ge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGxldCBjYXJ0ID0gZ2V0U3RhdGUoKS5jYXJ0O1xuICAgIGxldCB1cGRhdGVkUXVhbnRpdHkgPSBzZWxlY3RlZENhcnRJdGVtLnF1YW50aXR5ICsgcXVhbnRpdHk7XG4gICAgbGV0IHVwZGF0ZWRDYXJ0SXRlbXMgPSBbXTtcblxuICAgIC8vIGlmIHRoZSBuZXcgcXVhbnRpdHkgaXMgbW9yZSB0aGFuIDAsIGtlZXAgaXQgaW4gdGhlIG5ldyBhcnJheVxuICAgIGNhcnQubGluZUl0ZW1zLmZvckVhY2goKGNhcnRJdGVtKSA9PiB7XG4gICAgICBpZiAoc2VsZWN0ZWRDYXJ0SXRlbS5pZCA9PT0gY2FydEl0ZW0uaWQpIHtcbiAgICAgICAgaWYgKHVwZGF0ZWRRdWFudGl0eSA+IDApIHtcbiAgICAgICAgICBsZXQgdXBkYXRlZENhcnRJdGVtID0gW107XG5cbiAgICAgICAgICAvLyBjbG9uZSB0aGUgbGluZSBpdGVtXG4gICAgICAgICAgdXBkYXRlZENhcnRJdGVtID0gY2FydEl0ZW07XG5cbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIHF1YW50aXR5IG9mIHRoZSBuZXcgY2xvbmVcbiAgICAgICAgICB1cGRhdGVkQ2FydEl0ZW0ucXVhbnRpdHkgPSB1cGRhdGVkUXVhbnRpdHk7XG5cbiAgICAgICAgICAvLyByZXR1cm4gdGhlIHVwZGF0ZWQgY2FydCBpdGVtXG4gICAgICAgICAgdXBkYXRlZENhcnRJdGVtcy5wdXNoKHVwZGF0ZWRDYXJ0SXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAvLyByZXR1cm4gdGhlIHVubW9kaWZpZWQgaXRlbVxuICAgICAgICB1cGRhdGVkQ2FydEl0ZW1zLnB1c2goY2FydEl0ZW0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gdXBkYXRlIHRoZSBzaG9waWZ5IGNhcnQgYXBpIHNpbmdsZXRvblxuICAgIHNob3BpZnlBUEkuY2FydC51cGRhdGVMaW5lSXRlbShzZWxlY3RlZENhcnRJdGVtLmlkLCB1cGRhdGVkUXVhbnRpdHkpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gdXBkYXRlIHRoZSBsb2NhbCBjYXJ0IGl0ZW1zIChpbiByZWR1eCBzdG9yZSlcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1VQREFURV9DQVJUX0lURU1TJywgdXBkYXRlZENhcnRJdGVtcyB9KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gb3BlbiBjYXJ0XG5leHBvcnQgdmFyIG9wZW5DYXJ0ID0gKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdPUEVOX0NBUlQnXG4gIH1cbn07XG5cbi8vIGNsb3NlIGNhcnRcbmV4cG9ydCB2YXIgY2xvc2VDYXJ0ID0gKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdDTE9TRV9DQVJUJ1xuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2FjdGlvbnMvY2FydEFjdGlvbnMuanN4IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7Um91dGUsIFJvdXRlciwgSW5kZXhSb3V0ZSwgYnJvd3Nlckhpc3Rvcnl9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5sZXQge2Nvbm5lY3R9ID0gcmVxdWlyZSgncmVhY3QtcmVkdXgnKTtcbmxldCBzdG9yZSA9IHJlcXVpcmUoJ2NvbmZpZ3VyZVN0b3JlJykuY29uZmlndXJlKCk7XG5cbmltcG9ydCBEb2N1bWVudE1ldGEgZnJvbSAncmVhY3QtZG9jdW1lbnQtbWV0YSc7XG5pbXBvcnQgTWFpbiBmcm9tICdNYWluJztcbmltcG9ydCBJbmRleCBmcm9tICdJbmRleCc7XG5pbXBvcnQgUHJvZHVjdHMgZnJvbSAnUHJvZHVjdHMnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnUHJvZHVjdCc7XG5pbXBvcnQgQ29sbGVjdGlvbnMgZnJvbSAnQ29sbGVjdGlvbnMnO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnQ29sbGVjdGlvbic7XG5pbXBvcnQgVXBsb2FkIGZyb20gJ1VwbG9hZCc7XG5pbXBvcnQgT3JkZXJTdGF0dXMgZnJvbSAnT3JkZXJTdGF0dXMnO1xuaW1wb3J0IE1hcCBmcm9tICdNYXAnO1xuaW1wb3J0IExvZ2luIGZyb20gJ0xvZ2luJztcbmltcG9ydCBBYm91dCBmcm9tICdBYm91dCc7XG5pbXBvcnQgQ29udGFjdCBmcm9tICdDb250YWN0JztcblxuaW1wb3J0IFJlYWN0R0EgZnJvbSAncmVhY3QtZ2EnO1xuLy8gUmVhY3RHQS5pbml0aWFsaXplKCdVQS02MjQxODI1LTknKTsgLy8gaW5pdGlhbGl6ZSBHb29nbGUgQW5hbHl0aWNzXG5cbmZ1bmN0aW9uIGxvZ1BhZ2VWaWV3KGxvY2F0aW9uKSB7XG4gIFJlYWN0R0Euc2V0KHsgcGFnZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gIFJlYWN0R0EucGFnZXZpZXcobG9jYXRpb24ucGF0aG5hbWUpO1xufVxuXG5icm93c2VySGlzdG9yeS5saXN0ZW4oKGxvY2F0aW9uKSA9PiB7XG4gIGxvZ1BhZ2VWaWV3KGxvY2F0aW9uKTtcblxuICAvLyBzY3JvbGwgdG8gdG9wIHdoZW4gY2hhbmdpbmcgcGFnZVxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgKFxuICA8Um91dGVyIGhpc3Rvcnk9e2Jyb3dzZXJIaXN0b3J5fT5cbiAgICA8Um91dGUgcGF0aD1cIi9cIiBjb21wb25lbnQ9e01haW59PlxuICAgICAgPEluZGV4Um91dGUgcGF0aD1cIi9cIiBjb21wb25lbnQ9e0luZGV4fSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCJwcm9kdWN0c1wiIGNvbXBvbmVudD17UHJvZHVjdHN9IC8+XG4gICAgICA8Um91dGUgcGF0aD1cInByb2R1Y3QvOnByb2R1Y3RJZFwiIGNvbXBvbmVudD17UHJvZHVjdH0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPSdjb2xsZWN0aW9ucycgY29tcG9uZW50PXtDb2xsZWN0aW9uc30gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPSdjb2xsZWN0aW9uLzpjb2xsZWN0aW9uSWQnIGNvbXBvbmVudD17Q29sbGVjdGlvbn0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwibXktY2l0eVwiIGNvbXBvbmVudD17UHJvZHVjdHN9IC8+XG4gICAgICA8Um91dGUgcGF0aD1cInVwbG9hZFwiIGNvbXBvbmVudD17VXBsb2FkfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCJvcmRlci1zdGF0dXNcIiBjb21wb25lbnQ9e09yZGVyU3RhdHVzfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCJtYXBcIiBjb21wb25lbnQ9e01hcH0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwibG9naW5cIiBjb21wb25lbnQ9e0xvZ2lufSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCJhYm91dFwiIGNvbXBvbmVudD17QWJvdXR9IC8+XG4gICAgICA8Um91dGUgcGF0aD1cImNvbnRhY3RcIiBjb21wb25lbnQ9e0NvbnRhY3R9IC8+XG4gICAgPC9Sb3V0ZT5cbiAgPC9Sb3V0ZXI+XG4pO1xuXG5cbi8vIGNvbnN0IGNvbXBvbmVudFJvdXRlcyA9IHtcbi8vICAgY29tcG9uZW50OiAnTWFpbicsXG4vLyAgIHBhdGg6ICcvJyxcbi8vICAgaW5kZXhSb3V0ZTogeyBjb21wb25lbnQ6ICdJbmRleCcgfSxcbi8vICAgY2hpbGRSb3V0ZXM6IFtcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAnY29sbGVjdGlvbnMnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdDb2xsZWN0aW9ucycpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAnY29sbGVjdGlvbi86Y29sbGVjdGlvbklkJyxcbi8vICAgICAgIGdldENvbXBvbmVudChsb2NhdGlvbiwgY2IpIHtcbi8vICAgICAgICAgU3lzdGVtLmltcG9ydCgnQ29sbGVjdGlvbicpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAncHJvZHVjdHMnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdQcm9kdWN0cycpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAncHJvZHVjdC9wcm9kdWN0SWQnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdQcm9kdWN0Jylcbi8vICAgICAgICAgICAudGhlbihtb2R1bGUgPT4gY2IobnVsbCwgbW9kdWxlLmRlZmF1bHQpKTtcbi8vICAgICAgIH1cbi8vICAgICB9LFxuLy8gICAgIHtcbi8vICAgICAgIHBhdGg6ICdteS1jaXR5Jyxcbi8vICAgICAgIGdldENvbXBvbmVudChsb2NhdGlvbiwgY2IpIHtcbi8vICAgICAgICAgU3lzdGVtLmltcG9ydCgnUHJvZHVjdHMnKVxuLy8gICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiBjYihudWxsLCBtb2R1bGUuZGVmYXVsdCkpO1xuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAge1xuLy8gICAgICAgcGF0aDogJ2Fib3V0Jyxcbi8vICAgICAgIGdldENvbXBvbmVudChsb2NhdGlvbiwgY2IpIHtcbi8vICAgICAgICAgU3lzdGVtLmltcG9ydCgnQWJvdXQnKVxuLy8gICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiBjYihudWxsLCBtb2R1bGUuZGVmYXVsdCkpO1xuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAge1xuLy8gICAgICAgcGF0aDogJ2NvbnRhY3QnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdDb250YWN0Jylcbi8vICAgICAgICAgICAudGhlbihtb2R1bGUgPT4gY2IobnVsbCwgbW9kdWxlLmRlZmF1bHQpKTtcbi8vICAgICAgIH1cbi8vICAgICB9LFxuLy8gICAgIHtcbi8vICAgICAgIHBhdGg6ICd1cGxvYWQnLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdVcGxvYWQnKVxuLy8gICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiBjYihudWxsLCBtb2R1bGUuZGVmYXVsdCkpO1xuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAge1xuLy8gICAgICAgcGF0aDogJ21hcCcsXG4vLyAgICAgICBnZXRDb21wb25lbnQobG9jYXRpb24sIGNiKSB7XG4vLyAgICAgICAgIFN5c3RlbS5pbXBvcnQoJ01hcCcpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAnbG9naW4nLFxuLy8gICAgICAgZ2V0Q29tcG9uZW50KGxvY2F0aW9uLCBjYikge1xuLy8gICAgICAgICBTeXN0ZW0uaW1wb3J0KCdMb2dpbicpXG4vLyAgICAgICAgICAgLnRoZW4obW9kdWxlID0+IGNiKG51bGwsIG1vZHVsZS5kZWZhdWx0KSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICBwYXRoOiAnb3JkZXItc3RhdHVzJyxcbi8vICAgICAgIGdldENvbXBvbmVudChsb2NhdGlvbiwgY2IpIHtcbi8vICAgICAgICAgU3lzdGVtLmltcG9ydCgnT3JkZXJTdGF0dXMnKVxuLy8gICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiBjYihudWxsLCBtb2R1bGUuZGVmYXVsdCkpO1xuLy8gICAgICAgfVxuLy8gICAgIH1cbi8vICAgXVxuLy8gfTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9yb3V0ZXIvcm91dGVyLmpzeCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRm9ybWF0IGZyb20gJ2Zvcm1hdCc7XG5sZXQgeyBjb25uZWN0IH0gPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xubGV0IGFjdGlvbnMgPSByZXF1aXJlKCdjYXJ0QWN0aW9ucycpO1xuXG5jbGFzcyBDYXJ0SXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQge2Rpc3BhdGNoLCBpdGVtLCBpbmNyZW1lbnRMaW5lSXRlbSwgcXVhbnRpdHl9ID0gdGhpcy5wcm9wcztcblxuICAgIGxldCBjaGFuZ2VRdWFudGl0eSA9IChxdWFudGl0eSkgPT4ge1xuICAgICAgLy8gY29uc29sZS5sb2coJ2NhcnQgSXRlbSBvYmplY3Q6ICcsIGl0ZW0pO1xuICAgICAgZGlzcGF0Y2goYWN0aW9ucy5zdGFydEFkZG9yVXBkYXRlQ2FydEl0ZW0oaXRlbSwgcGFyc2VJbnQocXVhbnRpdHkpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FydC1pdGVtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FydC1pdGVtX19pbWdcIiBzdHlsZT17e2JhY2tncm91bmRJbWFnZTogJ3VybCgnICsgaXRlbS5pbWFnZVZhcmlhbnRzWzJdLnNyYyArICcpJ319PjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcnQtaXRlbV9fY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FydC1pdGVtX19jb250ZW50LXJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJ0LWl0ZW1fX3ZhcmlhbnQtdGl0bGVcIj57aXRlbS52YXJpYW50X3RpdGxlfTwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FydC1pdGVtX190aXRsZVwiPntpdGVtLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcnQtaXRlbV9fY29udGVudC1yb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FydC1pdGVtX19xdWFudGl0eS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi0tc2VhbWxlc3MgcXVhbnRpdHktZGVjcmVtZW50XCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7Y2hhbmdlUXVhbnRpdHkoLTEpfX1cbiAgICAgICAgICAgICAgPjxzcGFuPi08L3NwYW4+PHNwYW4gY2xhc3NOYW1lPVwiaGlkZVwiPkRlY3JlbWVudDwvc3Bhbj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3F1YW50aXR5fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhcnQtaXRlbV9fcXVhbnRpdHlcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgIHJlYWRPbmx5XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tLXNlYW1sZXNzIHF1YW50aXR5LWluY3JlbWVudFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge2NoYW5nZVF1YW50aXR5KDEpfX1cbiAgICAgICAgICAgICAgPjxzcGFuPis8L3NwYW4+PHNwYW4gY2xhc3NOYW1lPVwiaGlkZVwiPkluY3JlbWVudDwvc3Bhbj48L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FydC1pdGVtX19wcmljZVwiPntGb3JtYXQuYXNNb25leShpdGVtLnByaWNlKnF1YW50aXR5KX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhcnQ6IHN0YXRlLmNhcnRcbiAgICB9XG4gIH1cbikoQ2FydEl0ZW0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2NvbnRhaW5lcnMvQ2FydC1pdGVtLmpzeCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge0xpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5cbmNsYXNzIENvbGxlY3Rpb25JdGVtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCB7dGl0bGUsIGlkfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2xsZWN0aW9uLWl0ZW1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2xsZWN0aW9uLWl0ZW0taW5uZXJcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj48TGluayB0bz17YC9jb2xsZWN0aW9uLyR7aWR9YH0+e3RpdGxlfTwvTGluaz48L2gyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbGxlY3Rpb25JdGVtO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2NvbnRhaW5lcnMvQ29sbGVjdGlvbkl0ZW0uanN4IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmxldCB7IGNvbm5lY3QgfSA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XG5sZXQgYWN0aW9ucyA9IHJlcXVpcmUoJ2NvbGxlY3Rpb25BY3Rpb25zJyk7XG5cbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJ0NvbGxlY3Rpb24nO1xuaW1wb3J0IENvbGxlY3Rpb25JdGVtIGZyb20gJ0NvbGxlY3Rpb25JdGVtJztcblxuY2xhc3MgQ29sbGVjdGlvbnMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHtjb2xsZWN0aW9uc30gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKGNvbGxlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAge2NvbGxlY3Rpb25zLm1hcChjb2xsZWN0aW9uID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8Q29sbGVjdGlvbkl0ZW0ga2V5PXtjb2xsZWN0aW9uLmNvbGxlY3Rpb25faWR9IGlkPXtjb2xsZWN0aW9uLmNvbGxlY3Rpb25faWR9IHRpdGxlPXtjb2xsZWN0aW9uLnRpdGxlfSAvPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+TG9hZGluZyBjb2xsZWN0aW9ucy4uLjwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIChzdGF0ZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBjb2xsZWN0aW9uczogc3RhdGUuY29sbGVjdGlvbnMuYWxsXG4gICAgfVxuICB9XG4pKENvbGxlY3Rpb25zKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9jb250YWluZXJzL0NvbGxlY3Rpb25zLmpzeCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge0xpbmssIEluZGV4TGlua30gZnJvbSAncmVhY3Qtcm91dGVyJztcblxuY2xhc3MgRm9vdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9vdGVyIGlkPVwic2l0ZS1mb290ZXJcIj5cbiAgICAgICAgPG5hdiBjbGFzc05hbWU9XCJmb290ZXItbmF2XCI+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPExpbmsgdG89XCIvYWJvdXRcIiBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIj5BYm91dDwvTGluaz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxMaW5rIHRvPVwiL3Byb2R1Y3RzXCIgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCI+U2hvcCBBbGw8L0xpbms+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8TGluayB0bz1cIi9jb250YWN0XCIgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCI+Q29udGFjdDwvTGluaz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxMaW5rIHRvPVwiL3VwbG9hZFwiIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiPlVwbG9hZCBEZXNpZ248L0xpbms+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC9uYXY+XG4gICAgICAgIDxwPkxvcmVtIGlwc3VtIGRvbGFyIHNpdCBhbWl0LiBTZWQgZG9ubyBhdmVjLjwvcD5cbiAgICAgIDwvZm9vdGVyPlxuICAgIClcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEZvb3RlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9jb250YWluZXJzL0Zvb3Rlci5qc3giLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtMaW5rLCBJbmRleExpbmt9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5sZXQge2Nvbm5lY3R9ID0gcmVxdWlyZSgncmVhY3QtcmVkdXgnKTtcbmxldCBjYXJ0QWN0aW9ucyA9IHJlcXVpcmUoJ2NhcnRBY3Rpb25zJyk7XG5cbmNsYXNzIEhlYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQge2Rpc3BhdGNoLCBjYXJ0SXRlbXN9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICA8aGVhZGVyIGlkPVwic2l0ZS1oZWFkZXJcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm1pbmktbmF2XCI+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm1pbmktbmF2LWl0ZW1cIj48TGluayB0bz1cIi9hYm91dFwiIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiPkFib3V0PC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm1pbmktbmF2LWl0ZW1cIj48TGluayB0bz1cIi9vcmRlci1zdGF0dXNcIiBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIj5PcmRlciBTdGF0dXM8L0xpbms+PC9saT5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibWluaS1uYXYtaXRlbVwiPjxMaW5rIHRvPVwiL21hcFwiIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiPk1hcDwvTGluaz48L2xpPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJtaW5pLW5hdi1pdGVtXCI+PExpbmsgdG89XCIvbG9naW5cIiBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIj5Mb2dpbjwvTGluaz48L2xpPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJtaW5pLW5hdi1pdGVtIG1pbmktbmF2LWl0ZW0tY2FydFwiIG9uQ2xpY2s9eygpPT57XG4gICAgICAgICAgICBkaXNwYXRjaChjYXJ0QWN0aW9ucy5vcGVuQ2FydCgpKTtcbiAgICAgICAgICB9fT48aSBjbGFzc05hbWU9XCJmYSBmYS1zaG9wcGluZy1jYXJ0XCI+PC9pPiB7Y2FydEl0ZW1zID4gMCA/ICdbJyArIGNhcnRJdGVtcyArICddJyA6ICcnfTwvbGk+XG4gICAgICAgIDwvdWw+XG5cbiAgICAgICAgPGRpdiBpZD1cInNpdGUtbG9nb1wiPlxuICAgICAgICAgIDxJbmRleExpbmsgdG89XCIvXCIgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCIgYWN0aXZlU3R5bGU9e3tmb250V2VpZ2h0OiAnYm9sZCd9fT48aW1nIHNyYz1cIi9pbWFnZXMvbG9nby5wbmdcIiAvPjwvSW5kZXhMaW5rPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8bmF2IGlkPVwic2l0ZS1uYXZcIj5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwic2l0ZS1uYXYtaXRlbVwiPjxMaW5rIHRvPVwiL3Byb2R1Y3RzXCIgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCI+U2hvcDwvTGluaz48L2xpPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJzaXRlLW5hdi1pdGVtXCI+PExpbmsgdG89XCIvbXktY2l0eVwiIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiPk15IENpdHk8L0xpbms+PC9saT5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwic2l0ZS1uYXYtaXRlbVwiPjxMaW5rIHRvPVwiL2NhdGVnb3JpZXNcIiBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIj5DYXRlZ29yaWVzPC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGRpdiBpZD1cInNpdGUtbmF2LXVwbG9hZFwiPlxuICAgICAgICAgICAgPExpbmsgdG89e2AvdXBsb2FkYH0+PGltZyBzcmM9XCIvaW1hZ2VzL3VwbG9hZC5wbmdcIiAvPjwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9uYXY+XG4gICAgICA8L2hlYWRlcj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhcnRJdGVtczogc3RhdGUuY2FydC5saW5lSXRlbXNDb3VudFxuICAgIH1cbiAgfVxuKShIZWFkZXIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2NvbnRhaW5lcnMvSGVhZGVyLmpzeCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU2xpZGVyIGZyb20gJ3JlYWN0LXNsaWNrJztcbmltcG9ydCB7TGlua30gZnJvbSAncmVhY3Qtcm91dGVyJztcbmxldCB7Y29ubmVjdH0gPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xubGV0IGFjdGlvbnMgPSByZXF1aXJlKCdjYXJ0QWN0aW9ucycpO1xuXG5pbXBvcnQgTG9hZGVyIGZyb20gJ0xvYWRlcic7XG5pbXBvcnQgUHJvZHVjdEl0ZW0gZnJvbSAnUHJvZHVjdEl0ZW0nO1xuXG5jbGFzcyBJbmRleCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBoYW5kbGVBZGRUb0NhcnQocHJvZHVjdCkge1xuICAgIGxldCB7ZGlzcGF0Y2h9ID0gdGhpcy5wcm9wcztcbiAgICBkaXNwYXRjaChhY3Rpb25zLnN0YXJ0QWRkb3JVcGRhdGVDYXJ0SXRlbShwcm9kdWN0LnNlbGVjdGVkVmFyaWFudCwgMSkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7cHJvZHVjdHN9ID0gdGhpcy5wcm9wcztcbiAgICBwcm9kdWN0cyA9IHByb2R1Y3RzLnNsaWNlKDAsIDEyKTtcblxuICAgIC8vIHNsaWRlciBzZXR0aW5nc1xuICAgIHZhciBzZXR0aW5ncyA9IHtcbiAgICAgIGNsYXNzTmFtZTogJ2NlbnRlciBwcm9kdWN0cy1jYXJvdXNlbCcsXG4gICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgIGNlbnRlclBhZGRpbmc6ICc2MHB4JyxcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgc2xpZGVzVG9TaG93OiA0LFxuICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgIGFycm93czogZmFsc2UsXG4gICAgICBsYXp5TG9hZDogdHJ1ZSxcbiAgICAgIHJlc3BvbnNpdmU6IFt7XG4gICAgICAgIGJyZWFrcG9pbnQ6IDEwMjQsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAzLFxuICAgICAgICAgIGluZmluaXRlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgYnJlYWtwb2ludDogNjAwLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMixcbiAgICAgICAgICBpbml0aWFsU2xpZGU6IDJcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBicmVha3BvaW50OiA0ODAsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxXG4gICAgICAgIH1cbiAgICAgIH1dXG4gICAgfTtcblxuICAgIGlmIChwcm9kdWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxTbGlkZXIgey4uLnNldHRpbmdzfT5cbiAgICAgICAgICAgIHtwcm9kdWN0cy5tYXAoKHByb2R1Y3QsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJwcm9kdWN0cy1jYXJvdXNlbC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8TGluayB0bz17YC9wcm9kdWN0LyR7cHJvZHVjdC5hdHRycy5wcm9kdWN0X2lkfWB9PjxkaXYgY2xhc3NOYW1lPVwicHJvZHVjdC1pdGVtLWltYWdlXCIgc3R5bGU9e3tiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJyArIHByb2R1Y3Quc2VsZWN0ZWRWYXJpYW50LmltYWdlVmFyaWFudHNbNV0uc3JjICsgJyknfX0+PC9kaXY+PC9MaW5rPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L1NsaWRlcj5cblxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInNlY3Rpb24tY2FsbG91dFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInNlY3Rpb24taGVhZGxpbmVcIj5TaG93IHlvdXIgcHJpZGUuIERpc3BsYXkgeW91ciB0YWxlbnRzLiA8c3BhbiBjbGFzc05hbWU9XCJmb250LXdoaXRlXCI+UmVwIHlvdXIgY2l0eS48L3NwYW4+PC9oND5cbiAgICAgICAgICAgICAgPHA+TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gTnVsbGFtIHNlbXBlciBudWxsYSB2ZWwgZWxpdCBncmF2aWRhLCB2ZWwgcGxhY2VyYXQgdHVycGlzIGNvbnZhbGxpcy4gUHJhZXNlbnQgZXUgbG9yZW0gc3VzY2lwaXQsIGdyYXZpZGEgbGVvIHNlZCwgbHVjdHVzIGVyYXQuIE51bGxhbSBjb25zZWN0ZXR1ciwgdG9ydG9yIGEgZmFjaWxpc2lzIGxvYm9ydGlzLCB2ZWxpdCBtYXNzYSBtYXR0aXMgcmlzdXMsIGVnZXQgaW1wZXJkaWV0IHZlbGl0IGFyY3Ugbm9uIG1hdXJpcy4gTWF1cmlzIGJpYmVuZHVtIGJpYmVuZHVtIGxpZ3VsYSwgbmVjIG1heGltdXMgc2FwaWVuIHBvcnRhIG5vbi48L3A+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1jYWxsb3V0X19jdGEtaXRlbXNcIj5cbiAgICAgICAgICAgICAgICA8TGluayB0bz17YC9wcm9kdWN0c2B9PjxpbWcgc3JjPVwiL2ltYWdlcy9idXR0b24tc2hvcC5wbmdcIiBhbHQ9XCJTaG9wIG5vd1wiIC8+PC9MaW5rPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWJveFwiPlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtc2VhcmNoXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eWVwPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiS2V5d29yZCBTZWFyY2hcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxMaW5rIHRvPXtgL3VwbG9hZGB9PjxpbWcgc3JjPVwiL2ltYWdlcy9idXR0b24tdXBsb2FkLnBuZ1wiIGFsdD1cIlNob3Agbm93XCIgLz48L0xpbms+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwcm9kdWN0cy1ncmlkLXRpdGxlXCI+V2hhdCdzIGhvdCAvIFdoYXQncyBuZXc8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0cy1ncmlkXCI+XG4gICAgICAgICAgICAgIHtwcm9kdWN0cy5tYXAocHJvZHVjdCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxQcm9kdWN0SXRlbSBrZXk9e3Byb2R1Y3Qua2V5fSBhZGRUb0NhcnQ9eygpID0+IHRoaXMuaGFuZGxlQWRkVG9DYXJ0KHByb2R1Y3QpfSBpZD17cHJvZHVjdC5hdHRycy5wcm9kdWN0X2lkfSB0aXRsZT17cHJvZHVjdC5hdHRycy50aXRsZX0gaW1hZ2U9e3Byb2R1Y3Quc2VsZWN0ZWRWYXJpYW50LmltYWdlVmFyaWFudHNbNV0uc3JjfSAvPlxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2R1Y3RzOiBzdGF0ZS5wcm9kdWN0cy5hbGxcbiAgICB9XG4gIH1cbikoSW5kZXgpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2NvbnRhaW5lcnMvSW5kZXguanN4IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkZXIgZnJvbSAnSGVhZGVyJztcbmltcG9ydCBGb290ZXIgZnJvbSAnRm9vdGVyJztcbmltcG9ydCBEb2N1bWVudE1ldGEgZnJvbSAncmVhY3QtZG9jdW1lbnQtbWV0YSc7XG5pbXBvcnQgQ2FydCBmcm9tICdjYXJ0JztcblxuY2xhc3MgTWFpbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB0aXRsZTogJycsXG4gICAgICBjb250ZW50OiAnJ1xuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbWV0YSA9IHtcbiAgICAgIHRpdGxlOiAnUmVwIFlvdXIgQ2l0eScsXG4gICAgICBkZXNjcmlwdGlvbjogJ1JlcCBZb3VyIENpdHkgZGVzY3JpcHRpb24nLFxuICAgICAgbWV0YToge1xuICAgICAgICBjaGFyc2V0OiAndXRmLTgnXG4gICAgICB9LFxuICAgICAgYXV0bzoge1xuICAgICAgICBvZ3JhcGg6IHRydWVcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IHBhZ2VOYW1lID0gdGhpcy5wcm9wcy5sb2NhdGlvbi5wYXRobmFtZS5zdWJzdHIoMSkuc3BsaXQoJy8nKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPVwibWFpblwiIGNsYXNzTmFtZT17YHBhZ2UtJHtwYWdlTmFtZVswXSA/IHBhZ2VOYW1lWzBdICsgJyBzdWJwYWdlJyA6ICdob21lJ31gfT5cbiAgICAgICAgPERvY3VtZW50TWV0YSB7Li4ubWV0YX0gLz5cbiAgICAgICAgPEhlYWRlciAvPlxuICAgICAgICA8ZGl2IGlkPVwibWFpbi1jb250YWluZXJcIj5cbiAgICAgICAgICA8Q2FydCAvPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEZvb3RlciAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1haW47XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvY29udGFpbmVycy9NYWluLmpzeCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5sZXQge2Nvbm5lY3R9ID0gcmVxdWlyZSgncmVhY3QtcmVkdXgnKTtcbmxldCBhY3Rpb25zID0gcmVxdWlyZSgnY2FydEFjdGlvbnMnKTtcbmltcG9ydCBMb2FkZXIgZnJvbSAnTG9hZGVyJztcbmltcG9ydCBQcm9kdWN0SXRlbSBmcm9tICdQcm9kdWN0SXRlbSc7XG5cbmNsYXNzIFByb2R1Y3RzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIGhhbmRsZUFkZFRvQ2FydChwcm9kdWN0KSB7XG4gICAgbGV0IHtkaXNwYXRjaH0gPSB0aGlzLnByb3BzO1xuICAgIGRpc3BhdGNoKGFjdGlvbnMuc3RhcnRBZGRvclVwZGF0ZUNhcnRJdGVtKHByb2R1Y3Quc2VsZWN0ZWRWYXJpYW50LCAxKSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHtwcm9kdWN0c30gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic21hbGwtMTIgbWVkaXVtLTMgY29sdW1uc1wiPlxuICAgICAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cInByb2R1Y3RzLW5hdlwiPlxuICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJwcm9kdWN0cy1uYXZfX2hlYWRsaW5lXCI+Q2F0ZWdvcmllczwvaDQ+XG4gICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgPGxpPkNpdHkgLyBzdGF0ZTwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+U3BvcnRzPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT5Ib2JiaWVzPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT5NdXNpYzwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+QW5pbWFsczwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+U2hvdyBhbGw8L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwicHJvZHVjdHMtbmF2X19oZWFkbGluZVwiPlN0eWxlPC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2R1Y3RzLW5hdl9fc2VhcmNoXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlNlbGVjdCBzdHlsZVwiIC8+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJwcm9kdWN0cy1uYXZfX3NlYXJjaC1idXR0b25cIj48aSBjbGFzc05hbWU9XCJmYSBmYS1zZWFyY2hcIj48L2k+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwicHJvZHVjdHMtbmF2X19oZWFkbGluZVwiPlNlYXJjaDwvaDQ+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0cy1uYXZfX3NlYXJjaFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBrZXl3b3Jkc1wiIC8+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJwcm9kdWN0cy1uYXZfX3NlYXJjaC1idXR0b25cIj48aSBjbGFzc05hbWU9XCJmYSBmYS1zZWFyY2hcIj48L2k+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPC9uYXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic21hbGwtMTIgbWVkaXVtLTkgY29sdW1uXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZHVjdHMtZ3JpZFwiPlxuICAgICAgICAgICAgICAgIHtwcm9kdWN0cy5tYXAocHJvZHVjdCA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gPFByb2R1Y3RJdGVtIGtleT17cHJvZHVjdC5rZXl9IGFkZFRvQ2FydD17KCkgPT4gdGhpcy5oYW5kbGVBZGRUb0NhcnQocHJvZHVjdCl9IGlkPXtwcm9kdWN0LmF0dHJzLnByb2R1Y3RfaWR9IHRpdGxlPXtwcm9kdWN0LmF0dHJzLnRpdGxlfSBpbWFnZT17cHJvZHVjdC5zZWxlY3RlZFZhcmlhbnQuaW1hZ2VWYXJpYW50c1s0XS5zcmN9IC8+XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICAoc3RhdGUpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvZHVjdHM6IHN0YXRlLnByb2R1Y3RzLmFsbFxuICAgIH1cbiAgfVxuKShQcm9kdWN0cyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvY29udGFpbmVycy9Qcm9kdWN0cy5qc3giLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xubGV0IHtjb25uZWN0fSA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XG5sZXQgcHJvZHVjdEFjdGlvbnMgPSByZXF1aXJlKCdwcm9kdWN0QWN0aW9ucycpO1xubGV0IGNhcnRBY3Rpb25zID0gcmVxdWlyZSgnY2FydEFjdGlvbnMnKTtcbmltcG9ydCB7YnJvd3Nlckhpc3Rvcnl9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5cbmNsYXNzIFVwbG9hZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQge2Rpc3BhdGNofSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPGltZyBzcmM9XCIvaW1hZ2VzL3VwbG9hZC1wbGFjZWhvbGRlci5wbmdcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIChzdGF0ZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmVQcm9kdWN0OiBzdGF0ZS5wcm9kdWN0cy5hY3RpdmVcbiAgICB9XG4gIH1cbikoVXBsb2FkKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9jb250YWluZXJzL1VwbG9hZC5qc3giLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xubGV0IHsgY29ubmVjdCB9ID0gcmVxdWlyZSgncmVhY3QtcmVkdXgnKTtcbmxldCBhY3Rpb25zID0gcmVxdWlyZSgnY2FydEFjdGlvbnMnKTtcblxuaW1wb3J0IHNob3BpZnlBUEkgZnJvbSAnc2hvcGlmeUFQSSc7XG5pbXBvcnQgQ2FydEl0ZW0gZnJvbSAnQ2FydC1pdGVtJztcblxuaW1wb3J0IEZvcm1hdCBmcm9tICdmb3JtYXQnO1xuXG5jbGFzcyBDYXJ0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuXG4gICAgbGV0IGRpc3BhdGNoO1xuICAgIGxldCBoYW5kbGVDaGVja291dCA9IHRoaXMuaGFuZGxlQ2hlY2tvdXQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmRpc3BhdGNoID0gdGhpcy5wcm9wcy5kaXNwYXRjaDtcbiAgfVxuXG4gIGhhbmRsZUNsb3NlQ2FydCgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKGFjdGlvbnMuY2xvc2VDYXJ0KCkpO1xuICB9XG5cbiAgaGFuZGxlQ2hlY2tvdXQoKSB7XG4gICAgd2luZG93Lm9wZW4oc2hvcGlmeUFQSS5jYXJ0LmNoZWNrb3V0VXJsLCAnX3NlbGYnKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQge2lzT3BlbiwgbGluZUl0ZW1zLCBsaW5lSXRlbUNvdW50LCBzdWJ0b3RhbH0gPSB0aGlzLnByb3BzLmNhcnQ7XG4gICAgbGV0IHJlbmRlckxpbmVJdGVtcyA9ICgpID0+IHtcbiAgICAgIGlmIChsaW5lSXRlbXMubGVuZ3RoID4gMCl7XG4gICAgICAgIHJldHVybiBsaW5lSXRlbXMubWFwKGxpbmVJdGVtID0+IHtcbiAgICAgICAgICByZXR1cm4gPENhcnRJdGVtXG4gICAgICAgICAgICBrZXk9e2xpbmVJdGVtLmlkfVxuICAgICAgICAgICAgaXRlbT17bGluZUl0ZW19XG4gICAgICAgICAgICBxdWFudGl0eT17bGluZUl0ZW0ucXVhbnRpdHl9XG4gICAgICAgICAgLz5cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17XCJjYXJ0IFwiICsgKGlzT3BlbiA/ICdqcy1hY3RpdmUnIDogJycgKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FydC1zZWN0aW9uIGNhcnQtc2VjdGlvbi0tdG9wXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImNhcnQtdGl0bGVcIj5Zb3VyIGNhcnQ6IHtpc09wZW59PC9oMj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi0tY2xvc2VcIj5cbiAgICAgICAgICAgIDxkaXYgb25DbGljaz17dGhpcy5oYW5kbGVDbG9zZUNhcnQuYmluZCh0aGlzKX0+w5c8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGVcIj5DbG9zZTwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJ0LWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcnQtaXRlbS1jb250YWluZXIgY2FydC1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICB7cmVuZGVyTGluZUl0ZW1zKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FydC1ib3R0b21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FydC1pbmZvIGNsZWFyZml4IGNhcnQtc2VjdGlvblwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR5cGUtLWNhcHMgY2FydC1pbmZvX190b3RhbCBjYXJ0LWluZm9fX3NtYWxsXCI+VG90YWw8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJ0LWluZm9fX3ByaWNpbmdcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjYXJ0LWluZm9fX3NtYWxsIGNhcnQtaW5mb19fdG90YWxcIj5VU0Q8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHJpY2luZyBwcmljaW5nLS1uby1wYWRkaW5nXCI+e0Zvcm1hdC5hc01vbmV5KHN1YnRvdGFsKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcnQtYWN0aW9ucy1jb250YWluZXIgY2FydC1zZWN0aW9uIHR5cGUtLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcnQtZGlzY291bnQtbm90aWNlIGNhcnQtaW5mb19fc21hbGxcIj5TaGlwcGluZyBhbmQgZGlzY291bnQgY29kZXMgYXJlIGFkZGVkIGF0IGNoZWNrb3V0LjwvZGl2PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLS1jYXJ0LWNoZWNrb3V0XCJcbiAgICAgICAgICAgICAgICBpZD1cImNoZWNrb3V0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiY2hlY2tvdXRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPVwiQ2hlY2tvdXRcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2hlY2tvdXR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhcnQ6IHN0YXRlLmNhcnRcbiAgICB9XG4gIH1cbikoQ2FydCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvY29udGFpbmVycy9jYXJ0LmpzeCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRG9jdW1lbnRNZXRhIGZyb20gJ3JlYWN0LWRvY3VtZW50LW1ldGEnO1xuXG5jbGFzcyBBYm91dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGgxPkFib3V0IHVzPC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQWJvdXQ7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvcHJlc2VudGF0aW9uYWwvQWJvdXQuanN4IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEb2N1bWVudE1ldGEgZnJvbSAncmVhY3QtZG9jdW1lbnQtbWV0YSc7XG5cbmNsYXNzIENvbnRhY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoMT5Db250YWN0PC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udGFjdDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9wcmVzZW50YXRpb25hbC9Db250YWN0LmpzeCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRG9jdW1lbnRNZXRhIGZyb20gJ3JlYWN0LWRvY3VtZW50LW1ldGEnO1xuXG5jbGFzcyBMb2dpbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGgxPkxvZ2luPC9oMT5cbiAgICAgICAgICA8Zm9ybT5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW1haWxcIiAvPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIiAvPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJidXR0b25cIiB2YWx1ZT1cIkxvZ2luXCIgLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zZWN0aW9uPlxuICAgIClcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExvZ2luO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL3ByZXNlbnRhdGlvbmFsL0xvZ2luLmpzeCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRG9jdW1lbnRNZXRhIGZyb20gJ3JlYWN0LWRvY3VtZW50LW1ldGEnO1xuXG5jbGFzcyBNYXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoMT5NYXAgcGFnZTwvaDE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zZWN0aW9uPlxuICAgIClcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9wcmVzZW50YXRpb25hbC9NYXAuanN4IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEb2N1bWVudE1ldGEgZnJvbSAncmVhY3QtZG9jdW1lbnQtbWV0YSc7XG5cbmNsYXNzIE9yZGVyU3RhdHVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDE+T3JkZXIgU3RhdHVzIHBhZ2U8L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICApXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlclN0YXR1cztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9wcmVzZW50YXRpb25hbC9PcmRlclN0YXR1cy5qc3giLCJleHBvcnQgdmFyIHByb2R1Y3RzUmVkdWNlciA9IChzdGF0ZSA9IHthbGw6IFtdLCBhY3RpdmU6IG51bGx9LCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQUREX1BST0RVQ1RTJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhbGw6IGFjdGlvbi5wcm9kdWN0c1xuICAgICAgfTtcbiAgICBjYXNlICdTRVRfQUNUSVZFX1BST0RVQ1QnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFjdGl2ZToge1xuICAgICAgICAgIC4uLnN0YXRlLmFjdGl2ZSxcbiAgICAgICAgICBmZXRjaGVkOiB0cnVlLFxuICAgICAgICAgIG9wdGlvbnM6IGFjdGlvbi5vcHRpb25zXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgY2FzZSAnQ0xFQVJfQUNUSVZFX1BST0RVQ1QnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGFjdGl2ZTogbnVsbFxuICAgICAgfTtcbiAgICBjYXNlICdVUERBVEVfQUNUSVZFX1BST0RVQ1RfT1BUSU9OUyc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYWN0aXZlOiB7XG4gICAgICAgICAgLi4uc3RhdGUuYWN0aXZlLFxuICAgICAgICAgIG9wdGlvbnM6IGFjdGlvbi5vcHRpb25zXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcblxuZXhwb3J0IHZhciBjb2xsZWN0aW9uc1JlZHVjZXIgPSAoc3RhdGUgPSB7YWxsOiBbXSwgYWN0aXZlOiBudWxsfSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ0FERF9DT0xMRUNUSU9OUyc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYWxsOiBhY3Rpb24uY29sbGVjdGlvbnNcbiAgICAgIH07XG4gICAgY2FzZSAnU0VUX0FDVElWRV9DT0xMRUNUSU9OJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhY3RpdmU6IGFjdGlvbi5wYXJzZWRDb2xsZWN0aW9uXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5cbmV4cG9ydCB2YXIgY2FydFJlZHVjZXIgPSAoc3RhdGUgPSB7aXNPcGVuOiBmYWxzZSwgbGluZUl0ZW1zOiBbXX0sIGFjdGlvbikgPT4ge1xuICBzd2l0Y2goYWN0aW9uLnR5cGUpIHtcbiAgICAvLyBjYXNlICdSRVNUT1JFX1BSRVZJT1VTX0NBUlQnOlxuICAgIC8vICAgcmV0dXJuIGFjdGlvbi5yZW1vdGVDYXJ0O1xuICAgIGNhc2UgJ1NFVF9JTklUSUFMX0NBUlRfU1RBVEUnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYWN0aW9uLmxvY2FsQ2FydFxuICAgICAgfTtcbiAgICBjYXNlICdVUERBVEVfQ0FSVF9JVEVNUyc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgbGluZUl0ZW1zOiBhY3Rpb24udXBkYXRlZENhcnRJdGVtc1xuICAgICAgfTtcbiAgICBjYXNlICdVUERBVEVfQ0FSVF9JVEVNU19DT1VOVCc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgbGluZUl0ZW1zQ291bnQ6IGFjdGlvbi51cGRhdGVkQ2FydEl0ZW1zQ291bnRcbiAgICAgIH07XG4gICAgY2FzZSAnVVBEQVRFX0NBUlRfU1VCVE9UQUwnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHN1YnRvdGFsOiBhY3Rpb24ubmV3U3VidG90YWxcbiAgICAgIH07XG4gICAgY2FzZSAnT1BFTl9DQVJUJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBpc09wZW46IHRydWVcbiAgICAgIH07XG4gICAgY2FzZSAnQ0xPU0VfQ0FSVCc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgaXNPcGVuOiBmYWxzZVxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuXG5leHBvcnQgdmFyIG5hdlJlZHVjZXIgPSAoc3RhdGUgPSB7c2hvd0Nsb3NlOiBmYWxzZSwgc2hvd05hdjogZmFsc2V9LCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ1RPR0dMRV9OQVZfSUNPTic6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgc2hvd0Nsb3NlOiAhc3RhdGUuc2hvd0Nsb3NlLFxuICAgICAgICBzaG93TmF2OiBzdGF0ZS5zaG93TmF2XG4gICAgICB9O1xuICAgIGNhc2UgJ1RPR0dMRV9OQVYnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHNob3dDbG9zZTogIXN0YXRlLnNob3dDbG9zZSxcbiAgICAgICAgc2hvd05hdjogIXN0YXRlLnNob3dOYXZcbiAgICAgIH07XG4gICAgY2FzZSAnQ0xPU0VfTkFWJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBzaG93Q2xvc2U6IGZhbHNlLFxuICAgICAgICBzaG93TmF2OiBmYWxzZVxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL3JlZHVjZXJzL3JlZHVjZXJzLmpzeCIsImxldCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5sZXQgU2hvcGlmeUJ1eSA9IHJlcXVpcmUoJ3Nob3BpZnktYnV5Jyk7XG5sZXQgc3RvcmUgPSByZXF1aXJlKCdjb25maWd1cmVTdG9yZScpLmNvbmZpZ3VyZSgpO1xuXG5jbGFzcyBzaG9waWZ5QVBJIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jbGllbnQgPSBTaG9waWZ5QnV5LmJ1aWxkQ2xpZW50KHtcbiAgICAgIGFwaUtleTogJ2UwYWI4Y2Y5YjVhMzBjZWUyNjE2YmYxNTFhNTZjNzYzJyxcbiAgICAgIGRvbWFpbjogJ3JtYy1wcmV2aWV3Lm15c2hvcGlmeS5jb20nLFxuICAgICAgYXBwSWQ6ICc2J1xuICAgIH0pO1xuICAgIHRoaXMuY2FydCA9IHt9O1xuICB9XG5cbiAgY3JlYXRlQ2FydCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5jbGllbnQuY3JlYXRlQ2FydCgpLnRoZW4oKG5ld0NhcnQpID0+IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3RDYXJ0SWQnLCBuZXdDYXJ0LmlkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZWQgbmV3IGNhcnQnLCBuZXdDYXJ0KTtcbiAgICAgICAgLy8gc2V0IHNpbmdsZXRvbiBjYXJ0IG9iamVjdCB0byByZWZlcmVuY2Ugc2hvcGlmeSBjYXJ0XG4gICAgICAgIHRoaXMuY2FydCA9IG5ld0NhcnQ7XG5cbiAgICAgICAgLy8gc2V0IGxvY2FsQ2FydCAocmVkdXggY29ubmVjdGVkKSB0byBrZWVwIHRyYWNrIG9mIHN0YXRlIGNoYW5nZXNcbiAgICAgICAgbGV0IGxvY2FsQ2FydCA9IHtcbiAgICAgICAgICBpc09wZW46IGZhbHNlLFxuICAgICAgICAgIGxpbmVJdGVtc0NvdW50OiAwLFxuICAgICAgICAgIGxpbmVJdGVtczogW10sXG4gICAgICAgICAgc3VidG90YWw6IDBcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKGxvY2FsQ2FydCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc3RvcmVDYXJ0KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmNsaWVudC5mZXRjaENhcnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RDYXJ0SWQnKSkudGhlbigocmVtb3RlQ2FydCkgPT4ge1xuICAgICAgICAvLyBzZXQgc2luZ2xldG9uIGNhcnQgb2JqZWN0IHRvIHJlZmVyZW5jZSBzaG9waWZ5IGNhcnRcbiAgICAgICAgdGhpcy5jYXJ0ID0gcmVtb3RlQ2FydDtcblxuICAgICAgICAvLyBzZXQgbG9jYWxDYXJ0IChyZWR1eCBjb25uZWN0ZWQpIHRvIGtlZXAgdHJhY2sgb2Ygc3RhdGUgY2hhbmdlc1xuICAgICAgICBsZXQgbG9jYWxDYXJ0ID0ge1xuICAgICAgICAgIGlzT3BlbjogZmFsc2UsXG4gICAgICAgICAgbGluZUl0ZW1zQ291bnQ6IHJlbW90ZUNhcnQubGluZUl0ZW1Db3VudCxcbiAgICAgICAgICBsaW5lSXRlbXM6IHJlbW90ZUNhcnQubGluZUl0ZW1zLFxuICAgICAgICAgIHN1YnRvdGFsOiByZW1vdGVDYXJ0LnN1YnRvdGFsXG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShsb2NhbENhcnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgKG5ldyBzaG9waWZ5QVBJKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9hcGkvc2hvcGlmeUFQSS5qc3giLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQge1Byb3ZpZGVyfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgc2hvcGlmeUFQSSBmcm9tICdzaG9waWZ5QVBJJztcbmltcG9ydCAnYXBwbGljYXRpb25TdHlsZXMnO1xuXG5sZXQgY2FydEFjdGlvbnMgPSByZXF1aXJlKCdjYXJ0QWN0aW9ucycpO1xubGV0IHByb2R1Y3RBY3Rpb25zID0gcmVxdWlyZSgncHJvZHVjdEFjdGlvbnMnKTtcbmxldCBjb2xsZWN0aW9uQWN0aW9ucyA9IHJlcXVpcmUoJ2NvbGxlY3Rpb25BY3Rpb25zJyk7XG5sZXQgc3RvcmUgPSByZXF1aXJlKCdjb25maWd1cmVTdG9yZScpLmNvbmZpZ3VyZSgpO1xuaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlci9yb3V0ZXIuanN4JztcblxuXG4vLyBzdWJzY3JpYmUgdG8gdGhlIHJlZHV4IHN0b3JlXG5zdG9yZS5zdWJzY3JpYmUoKCkgPT4ge1xuICBsZXQgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zb2xlLmxvZygnTmV3IHN0YXRlJywgc3RhdGUpO1xufSk7XG5cbi8vIGFkZCBwcm9kdWN0cyBhbmQgY29sbGVjdGlvbnMgdG8gc3RvcmVcbnN0b3JlLmRpc3BhdGNoKHByb2R1Y3RBY3Rpb25zLnN0YXJ0QWRkUHJvZHVjdHMoKSk7XG5zdG9yZS5kaXNwYXRjaChjb2xsZWN0aW9uQWN0aW9ucy5zdGFydEFkZENvbGxlY3Rpb25zKCkpO1xuXG4vLyBjcmVhdGUgc2hvcGlmeSBjYXJ0IGluc3RhbmNlIGJhc2VkIG9uIGxhc3Qgc2Vzc2lvbiAoYmFzZWQgb24gbG9jYWxTdG9yYWdlKVxuaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RDYXJ0SWQnKSkge1xuICBzaG9waWZ5QVBJLnJlc3RvcmVDYXJ0KCkudGhlbigobG9jYWxDYXJ0KSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0lOSVRJQUxfQ0FSVF9TVEFURScsIGxvY2FsQ2FydCB9KTtcbiAgfSk7XG59ZWxzZXtcbiAgc2hvcGlmeUFQSS5jcmVhdGVDYXJ0KCkudGhlbigobG9jYWxDYXJ0KSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0lOSVRJQUxfQ0FSVF9TVEFURScsIGxvY2FsQ2FydCB9KTtcbiAgfSk7XG59XG5cbi8vIEFwcCBjc3Ncbi8vIHJlcXVpcmUoJ3N0eWxlIWNzcyFzYXNzIWFwcGxpY2F0aW9uU3R5bGVzJylcblxuUmVhY3RET00ucmVuZGVyKFxuICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICB7cm91dGVyfVxuICA8L1Byb3ZpZGVyPixcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpXG4pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2FwcC5qc3giLCJpbXBvcnQgc2hvcGlmeUFQSSBmcm9tICdzaG9waWZ5QVBJJztcblxuZXhwb3J0IHZhciBzZXRBY3RpdmVDb2xsZWN0aW9uID0gKGlkKSA9PiB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICByZXR1cm4gc2hvcGlmeUFQSS5jbGllbnQuZmV0Y2hDb2xsZWN0aW9uKGlkKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBsZXQgY29sbGVjdGlvbiA9IGRhdGEgfHwge307XG4gICAgICBsZXQgcGFyc2VkQ29sbGVjdGlvbiA9IHsuLi5jb2xsZWN0aW9ufTtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9BQ1RJVkVfQ09MTEVDVElPTicsIHBhcnNlZENvbGxlY3Rpb24gfSk7XG4gICAgfSk7XG4gIH07XG59O1xuXG4vLyBBZGQgY29sbGVjdGlvbnMgdG8gc3RvcmVcbmV4cG9ydCB2YXIgc3RhcnRBZGRDb2xsZWN0aW9ucyA9ICgpID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIHJldHVybiBzaG9waWZ5QVBJLmNsaWVudC5mZXRjaEFsbENvbGxlY3Rpb25zKCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdmFyIGNvbGxlY3Rpb25zID0gZGF0YSB8fCB7fTtcbiAgICAgIHZhciBwYXJzZWRDb2xsZWN0aW9ucyA9IFtdO1xuXG4gICAgICBPYmplY3Qua2V5cyhjb2xsZWN0aW9ucykuZm9yRWFjaCgoY29sbGVjdGlvbklkKSA9PiB7XG4gICAgICAgIHBhcnNlZENvbGxlY3Rpb25zLnB1c2goe1xuICAgICAgICAgIGtleTogY29sbGVjdGlvbklkLFxuICAgICAgICAgIC4uLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25JZF1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgZGlzcGF0Y2goYWRkQ29sbGVjdGlvbnMocGFyc2VkQ29sbGVjdGlvbnMpKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgYWRkQ29sbGVjdGlvbnMgPSAoY29sbGVjdGlvbnMpID0+IHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQUREX0NPTExFQ1RJT05TJyxcbiAgICBjb2xsZWN0aW9uc1xuICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9hY3Rpb25zL2NvbGxlY3Rpb25BY3Rpb25zLmpzeCIsImltcG9ydCBzaG9waWZ5QVBJIGZyb20gJ3Nob3BpZnlBUEknO1xuXG4vLyBBZGQgcHJvZHVjdHMgdG8gc3RvcmVcbmV4cG9ydCB2YXIgc3RhcnRBZGRQcm9kdWN0cyA9ICgpID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIHJldHVybiBzaG9waWZ5QVBJLmNsaWVudC5mZXRjaEFsbFByb2R1Y3RzKCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgbGV0IHByb2R1Y3RzID0gZGF0YSB8fCB7fTtcbiAgICAgIGxldCBwYXJzZWRQcm9kdWN0cyA9IHByb2R1Y3RzLm1hcCgocHJvZHVjdCwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHVwZGF0ZWRQcm9kdWN0ID0gW107XG4gICAgICAgIHVwZGF0ZWRQcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgdXBkYXRlZFByb2R1Y3Qua2V5ID0gaW5kZXg7XG4gICAgICAgIHJldHVybiB1cGRhdGVkUHJvZHVjdDtcbiAgICAgIH0pO1xuXG4gICAgICBkaXNwYXRjaChhZGRQcm9kdWN0cyhwYXJzZWRQcm9kdWN0cykpO1xuICAgICAgZGlzcGF0Y2gocHJlbG9hZFByb2R1Y3RJbWFnZXMoKSk7XG4gICAgfSk7XG4gIH07XG59O1xuXG5leHBvcnQgdmFyIGFkZFByb2R1Y3RzID0gKHByb2R1Y3RzKSA9PiB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0FERF9QUk9EVUNUUycsXG4gICAgcHJvZHVjdHNcbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgcHJlbG9hZFByb2R1Y3RJbWFnZXMgPSAoKSA9PiB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgbGV0IHByb2R1Y3RzID0gZ2V0U3RhdGUoKS5wcm9kdWN0cy5hbGw7XG4gICAgbGV0IGltYWdlcyA9IFtdO1xuICAgIHByb2R1Y3RzLm1hcCgocHJvZHVjdCwgaW5kZXgpID0+IHtcbiAgICAgIGltYWdlc1tpbmRleF0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlc1tpbmRleF0uc3JjID0gcHJvZHVjdC5zZWxlY3RlZFZhcmlhbnQuaW1hZ2VWYXJpYW50c1s0XS5zcmM7XG4gICAgICByZXR1cm4gaW1hZ2VzW2luZGV4XTtcbiAgICB9KTtcbiAgfTtcbn07XG5cblxuLy8gc2V0IGFjdGl2ZSBwcm9kdWN0XG5leHBvcnQgdmFyIHNldEFjdGl2ZVByb2R1Y3QgPSAob3B0aW9ucykgPT4ge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdTRVRfQUNUSVZFX1BST0RVQ1QnLFxuICAgIG9wdGlvbnNcbiAgfTtcbn07XG5cbi8vIGNsZWFyIGFjdGl2ZSBwcm9kdWN0IGZyb20gcmVkdXhcbmV4cG9ydCB2YXIgY2xlYXJBY3RpdmVQcm9kdWN0ID0gKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdDTEVBUl9BQ1RJVkVfUFJPRFVDVCdcbiAgfTtcbn07XG5cbi8vIHVwZGF0ZSBhY3RpdmUgcHJvZHVjdCBvcHRpb25cbmV4cG9ydCB2YXIgdXBkYXRlQWN0aXZlUHJvZHVjdE9wdGlvbnMgPSAob3B0aW9ucykgPT4ge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdVUERBVEVfQUNUSVZFX1BST0RVQ1RfT1BUSU9OUycsXG4gICAgb3B0aW9uc1xuICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9hY3Rpb25zL3Byb2R1Y3RBY3Rpb25zLmpzeCIsImltcG9ydCAqIGFzIHJlZHV4IGZyb20gJ3JlZHV4JztcbmltcG9ydCB0aHVuayBmcm9tICdyZWR1eC10aHVuayc7XG5cbmltcG9ydCB7cHJvZHVjdHNSZWR1Y2VyLCBjb2xsZWN0aW9uc1JlZHVjZXIsIGNhcnRSZWR1Y2VyLCBuYXZSZWR1Y2VyfSBmcm9tICdyZWR1Y2Vycyc7XG5cbmV4cG9ydCBsZXQgY29uZmlndXJlID0gKGluaXRpYWxTdGF0ZSA9IHt9KSA9PiB7XG4gIHZhciByZWR1Y2VyID0gcmVkdXguY29tYmluZVJlZHVjZXJzKHtcbiAgICBwcm9kdWN0czogcHJvZHVjdHNSZWR1Y2VyLFxuICAgIGNvbGxlY3Rpb25zOiBjb2xsZWN0aW9uc1JlZHVjZXIsXG4gICAgY2FydDogY2FydFJlZHVjZXIsXG4gICAgbmF2OiBuYXZSZWR1Y2VyXG4gIH0pO1xuXG4gIHZhciBzdG9yZSA9IHJlZHV4LmNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgcmVkdXguY29tcG9zZShcbiAgICByZWR1eC5hcHBseU1pZGRsZXdhcmUodGh1bmspLFxuICAgIHdpbmRvdy5kZXZUb29sc0V4dGVuc2lvbiA/IHdpbmRvdy5kZXZUb29sc0V4dGVuc2lvbigpIDogZiA9PiBmXG4gICkpO1xuXG4gIHJldHVybiBzdG9yZTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvc3RvcmUvY29uZmlndXJlU3RvcmUuanN4IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9hZGVyKCl7XG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxvYWRlclwiPjxpIGNsYXNzTmFtZT1cImZhIGZhLWNpcmNsZS1vLW5vdGNoIGZhLXNwaW4gZmEtM3ggZmEtZndcIj48L2k+PC9kaXY+XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvcHJlc2VudGF0aW9uYWwvTG9hZGVyLmpzIiwiY2xhc3MgRm9ybWF0e1xuICBjb25zdHJ1Y3Rvcigpe1xuICB9XG5cbiAgLy8gZm9ybWF0IGFtb3VudCBhcyBjdXJyZW5jeVxuICBhc01vbmV5KGFtb3VudCwgY3VycmVuY3ksIHRob3VzYW5kU2VwYXJhdG9yLCBkZWNpbWFsU2VwYXJhdG9yLCBsb2NhbGVEZWNpbWFsU2VwYXJhdG9yKSB7XG4gICAgY3VycmVuY3kgPSBjdXJyZW5jeSB8fCAnJCc7XG4gICAgdGhvdXNhbmRTZXBhcmF0b3IgPSB0aG91c2FuZFNlcGFyYXRvciB8fCAnLCc7XG4gICAgZGVjaW1hbFNlcGFyYXRvciA9IGRlY2ltYWxTZXBhcmF0b3IgfHwgJy4nO1xuICAgIGxvY2FsZURlY2ltYWxTZXBhcmF0b3IgPSBsb2NhbGVEZWNpbWFsU2VwYXJhdG9yIHx8ICcuJztcbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCcoXFxcXGQpKD89KFxcXFxkezN9KStcXFxcLiknLCAnZycpO1xuXG4gICAgcmV0dXJuIGN1cnJlbmN5ICsgcGFyc2VGbG9hdChhbW91bnQsIDEwKS50b0ZpeGVkKDIpXG4gICAgICAucmVwbGFjZShsb2NhbGVEZWNpbWFsU2VwYXJhdG9yLCBkZWNpbWFsU2VwYXJhdG9yKVxuICAgICAgLnJlcGxhY2UocmVnZXgsICckMScgKyB0aG91c2FuZFNlcGFyYXRvcilcbiAgICAgIC50b1N0cmluZygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IChuZXcgRm9ybWF0KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC91dGlscy9mb3JtYXQuanN4IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmxldCB7IGNvbm5lY3QgfSA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XG5sZXQgYWN0aW9ucyA9IHJlcXVpcmUoJ2NvbGxlY3Rpb25BY3Rpb25zJyk7XG5cbmNsYXNzIENvbGxlY3Rpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKXtcbiAgICBsZXQge2Rpc3BhdGNofSA9IHRoaXMucHJvcHM7XG4gICAgZGlzcGF0Y2goYWN0aW9ucy5zZXRBY3RpdmVDb2xsZWN0aW9uKHRoaXMucHJvcHMucGFyYW1zLmNvbGxlY3Rpb25JZCkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjb2xsZWN0aW9uO1xuICAgIGNvbGxlY3Rpb24gPSB0aGlzLnByb3BzLmNvbGxlY3Rpb247XG4gICAgaWYgKGNvbGxlY3Rpb24pe1xuICAgICAgbGV0IHtkaXNwYXRjaH0gPSB0aGlzLnByb3BzO1xuICAgICAgbGV0IHtjb2xsZWN0aW9uX2lkLCB0aXRsZX0gPSBjb2xsZWN0aW9uO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbGxlY3Rpb24taW5kZXhcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57dGl0bGV9PC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PkxvYWRpbmcgY29sbGVjdGlvbi4uLjwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICAoc3RhdGUpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sbGVjdGlvbjogc3RhdGUuY29sbGVjdGlvbnMuYWN0aXZlXG4gICAgfVxuICB9XG4pKENvbGxlY3Rpb24pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2NvbnRhaW5lcnMvQ29sbGVjdGlvbi5qc3giLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xubGV0IHtjb25uZWN0fSA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XG5sZXQgcHJvZHVjdEFjdGlvbnMgPSByZXF1aXJlKCdwcm9kdWN0QWN0aW9ucycpO1xubGV0IGNhcnRBY3Rpb25zID0gcmVxdWlyZSgnY2FydEFjdGlvbnMnKTtcbmltcG9ydCB7YnJvd3Nlckhpc3Rvcnl9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgRm9ybWF0IGZyb20gJ2Zvcm1hdCc7XG5pbXBvcnQgTW9kYWwgZnJvbSAncmVhY3QtbW9kYWwnO1xuaW1wb3J0IHNob3BpZnlBUEkgZnJvbSAnc2hvcGlmeUFQSSc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ0xvYWRlcic7XG5cbmNsYXNzIFByb2R1Y3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbW9kYWxJc09wZW46IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5vcGVuTW9kYWwgPSB0aGlzLm9wZW5Nb2RhbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2xvc2VNb2RhbCA9IHRoaXMuY2xvc2VNb2RhbC5iaW5kKHRoaXMpO1xuXG4gICAgbGV0IGRpc3BhdGNoO1xuICAgIGxldCBwcm9kdWN0O1xuICB9XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCl7XG4gICAgdGhpcy5kaXNwYXRjaCA9IHRoaXMucHJvcHMuZGlzcGF0Y2g7XG5cbiAgICBzaG9waWZ5QVBJLmNsaWVudC5mZXRjaFByb2R1Y3QodGhpcy5wcm9wcy5wYXJhbXMucHJvZHVjdElkKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBsZXQgcHJvZHVjdCA9IGRhdGEgfHwge307XG4gICAgICB0aGlzLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgdGhpcy5kaXNwYXRjaChwcm9kdWN0QWN0aW9ucy5zZXRBY3RpdmVQcm9kdWN0KHByb2R1Y3Qub3B0aW9ucykpO1xuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKXtcbiAgICB0aGlzLmRpc3BhdGNoKHByb2R1Y3RBY3Rpb25zLmNsZWFyQWN0aXZlUHJvZHVjdCgpKTtcbiAgfVxuXG4gIGNsb3NlTW9kYWwoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bW9kYWxJc09wZW46IGZhbHNlfSk7XG4gIH1cblxuICBvcGVuTW9kYWwoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bW9kYWxJc09wZW46IHRydWV9KTtcbiAgfVxuXG4gIGhhbmRsZU9wdGlvbkNoYW5nZShvcHRpb25OYW1lLCB2YWx1ZSkge1xuICAgIC8vIHVwZGF0ZSBwcm9kdWN0IG9wdGlvbnMgaW4gdGhlIFNob3BpZnkgc2luZ2xldG9uXG4gICAgdGhpcy5wcm9kdWN0Lm9wdGlvbnMuZmlsdGVyKChvcHRpb24pID0+IHtcbiAgICAgIHJldHVybiBvcHRpb24ubmFtZSA9PT0gb3B0aW9uTmFtZTtcbiAgICB9KVswXS5zZWxlY3RlZCA9IHZhbHVlO1xuXG4gICAgLy8gdXBkYXRlIHByb2R1Y3Qgb3B0aW9uc1xuICAgIHRoaXMuZGlzcGF0Y2gocHJvZHVjdEFjdGlvbnMudXBkYXRlQWN0aXZlUHJvZHVjdE9wdGlvbnModGhpcy5wcm9kdWN0Lm9wdGlvbnMpKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgYWN0aXZlUHJvZHVjdDtcbiAgICBhY3RpdmVQcm9kdWN0ID0gdGhpcy5wcm9kdWN0O1xuICAgIGlmIChhY3RpdmVQcm9kdWN0KSB7XG4gICAgICBsZXQge2Rpc3BhdGNofSA9IHRoaXMucHJvcHM7XG4gICAgICBsZXQge3Byb2R1Y3RfaWQsIHRpdGxlLCBpbWFnZXMsIG9wdGlvbnN9ID0gYWN0aXZlUHJvZHVjdC5hdHRycztcbiAgICAgIGxldCB7ZGVzY3JpcHRpb24sIHNlbGVjdGVkVmFyaWFudCwgc2VsZWN0ZWRWYXJpYW50SW1hZ2V9ID0gYWN0aXZlUHJvZHVjdDtcblxuICAgICAgbGV0IHJlbmRlck9wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0LW9wdGlvbnNcIj5cbiAgICAgICAgICAgIHthY3RpdmVQcm9kdWN0Lm9wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChvcHRpb24ubmFtZSAhPSBcIlNpemVcIiAmJiBvcHRpb24ubmFtZSAhPSBcIlRpdGxlXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPHNlbGVjdCBrZXk9e2luZGV4fSBuYW1lPXtvcHRpb24ubmFtZX0gdmFsdWU9e29wdGlvbi5zZWxlY3RlZH0gb25DaGFuZ2U9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU9wdGlvbkNoYW5nZShvcHRpb24ubmFtZSwgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7b3B0aW9uLnZhbHVlcy5tYXAoKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17aW5kZXh9IHZhbHVlPXt2YWx1ZX0+e3ZhbHVlfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGxldCByZW5kZXJTaXplcyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBhY3RpdmVQcm9kdWN0Lm9wdGlvbnMubWFwKChvcHRpb24sIG9wdGlvbnNJbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5uYW1lID09IFwiU2l6ZVwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHVsIGtleT17b3B0aW9uc0luZGV4fSBjbGFzc05hbWU9XCJwcm9kdWN0LXNpemVzXCI+XG4gICAgICAgICAgICAgICAgICB7b3B0aW9uLnZhbHVlcy5tYXAoKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHByb2R1Y3Qtc2l6ZSAke29wdGlvbi5zZWxlY3RlZCA9PT0gdmFsdWUgPyAnc2VsZWN0ZWQnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVPcHRpb25DaGFuZ2Uob3B0aW9uLm5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgIDwvbGk+KTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdhY3RpdmVQcm9kdWN0OiAnLCBhY3RpdmVQcm9kdWN0KTtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbWFsbC0xMiBtZWRpdW0tOCBjb2x1bW5cIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXticm93c2VySGlzdG9yeS5nb0JhY2t9IGNsYXNzTmFtZT1cImJ1dHRvbiBob2xsb3dcIj4mbHNhcXVvOyBCYWNrIHRvIHByb2R1Y3RzPC9idXR0b24+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+PGltZyBzcmM9e3NlbGVjdGVkVmFyaWFudEltYWdlLnNyY30gYWx0PVwiXCIgLz48L3A+XG4gICAgICAgICAgICAgIHsvKiA8cD5DdXJyZW50IG9wdGlvbnM6PC9wPiAqL31cbiAgICAgICAgICAgICAgey8qIHtvcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiA8cD57b3B0aW9uLm5hbWV9PC9wPlxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAge2ltYWdlcy5tYXAoaW1hZ2UgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiA8aW1nIGtleT17aW1hZ2UuaWR9IGhlaWdodD1cIjUwXCIgd2lkdGg9XCI1MFwiIHNyYz17aW1hZ2Uuc3JjfSBhbHQ9XCJcIiAvPlxuICAgICAgICAgICAgICB9KX0gKi99XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic21hbGwtMTIgbWVkaXVtLTQgY29sdW1uXCI+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJwcm9kdWN0LXRpdGxlXCI+e3RpdGxlfTwvaDE+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZHVjdC1pbmZvXCI+XG4gICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cInByb2R1Y3QtaW5mb19faGVhZGxpbmVcIj5BcnRpc3Q8L2g1PlxuICAgICAgICAgICAgICAgIDxwPkpXSVNIODg8L3A+XG5cbiAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwicHJvZHVjdC1pbmZvX19oZWFkbGluZVwiPkRlc2NyaXB0aW9uPC9oNT5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBkZXNjcmlwdGlvbn19PjwvZGl2PlxuXG4gICAgICAgICAgICAgICAge3JlbmRlck9wdGlvbnMoKX1cblxuICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cInByb2R1Y3Qtc3R5bGVcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiU2VsZWN0IHN0eWxlXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cInByb2R1Y3Qtc3R5bGVfX2J1dHRvblwiPjxpIGNsYXNzTmFtZT1cImZhIGZhLWNhcmV0LXJpZ2h0XCI+PC9pPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cblxuICAgICAgICAgICAgICAgIHtyZW5kZXJTaXplcygpfVxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0LXByaWNlXCI+e0Zvcm1hdC5hc01vbmV5KHNlbGVjdGVkVmFyaWFudC5wcmljZSl9PC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2R1Y3QtY2hhcml0eVwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJDaG9vc2UgQ2hhcml0eVwiIC8+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJwcm9kdWN0LWNoYXJpdHlfX2J1dHRvblwiPjxpIGNsYXNzTmFtZT1cImZhIGZhLWNhcmV0LXJpZ2h0XCI+PC9pPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0LWNoYXJpdHlfX21vcmUtaW5mb1wiIG9uQ2xpY2s9e3RoaXMub3Blbk1vZGFsfT48aSBjbGFzc05hbWU9XCJmYSBmYS1pbmZvLWNpcmNsZVwiPjwvaT4gPGEgaHJlZj1cIiNcIj5tb3JlIGluZm88L2E+PC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIDxNb2RhbFxuICAgICAgICAgICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUubW9kYWxJc09wZW59XG4gICAgICAgICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmNsb3NlTW9kYWx9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMYWJlbD1cIm1vcmUgaW5mb1wiXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlVGltZW91dE1TPXsyMDB9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIlJlYWN0TW9kYWxfX0NvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgIDxwPkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQuIFBlbGxlbnRlc3F1ZSBlZ2VzdGFzLCBuaWJoIHNlZCB0cmlzdGlxdWUgb3JuYXJlLCBudW5jIGR1aSBzb2xsaWNpdHVkaW4gZWxpdCwgaWQgY29uc2VjdGV0dXIgb2RpbyBsZWN0dXMgZXUgbnVsbGEuIFByb2luIGRhcGlidXMgY29udmFsbGlzIHVybmEgc2l0IGFtZXQgZGljdHVtLiBVdCBwb3J0dGl0b3IgbGlndWxhIGF0IHB1cnVzIGF1Y3RvciBtb2xlc3RpZS4gRXRpYW0gdmVsaXQgbmliaCwgcG9ydHRpdG9yIGF0IGlwc3VtIG1hdHRpcywgY29uc2VjdGV0dXIgZWdlc3RhcyBhcmN1LiBEb25lYyBwZWxsZW50ZXNxdWUgYXVndWUgc2l0IGFtZXQgZWxlbWVudHVtIGZhY2lsaXNpcy4gQWVuZWFuIHNlbXBlciBtYWxlc3VhZGEgbGlndWxhIGZhdWNpYnVzIHNvbGxpY2l0dWRpbi4gQ3VyYWJpdHVyIHV0IGxvcmVtIGFjIGVyYXQgcG9ydGEgbGFjaW5pYSBwdWx2aW5hciBldCByaXN1cy48L3A+XG4gICAgICAgICAgICAgICAgICAgICA8cD5TZWQgYXQgbnVsbGEgZG9sb3IuIFV0IHF1aXMgcXVhbSBmaW5pYnVzLCBlZmZpY2l0dXIgbWkgc2VkLCBzb2xsaWNpdHVkaW4gdXJuYS4gTnVuYyB2ZWwgdG9ydG9yIGNvbW1vZG8sIG1vbGxpcyBlc3QgZXUsIGJsYW5kaXQgbWFzc2EuIFZpdmFtdXMgc2VkIG1pIHZpdGFlIHNlbSBjb21tb2RvIGNvbnNlY3RldHVyIGV1IGluIHNlbS4gRG9uZWMgdXQgZmFjaWxpc2lzIG9kaW8uIE51bGxhbSBpZCBlbGVtZW50dW0gZXJvcywgbm9uIHRlbXB1cyB0b3J0b3IuIE51bGxhbSBpbiBtYXR0aXMgZmVsaXMuIFByYWVzZW50IGJpYmVuZHVtIGJsYW5kaXQgYW50ZSwgZXQgZWxlbWVudHVtIG1ldHVzIGNvbnNlY3RldHVyIHZpdGFlLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2xvc2UtbW9kYWwtaWNvblwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+PGkgY2xhc3NOYW1lPVwiZmEgZmEtdGltZXNcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpPT57XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGNhcnRBY3Rpb25zLnN0YXJ0QWRkb3JVcGRhdGVDYXJ0SXRlbShhY3RpdmVQcm9kdWN0LnNlbGVjdGVkVmFyaWFudCwgMSkpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ1dHRvbiBsYXJnZSBhZGQtdG8tY2FydFwiPkFkZCBUbyBDYXJ0PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIvaW1hZ2VzL2NyZWRpdC1jYXJkcy5wbmdcIiBhbHQ9XCJBY2NlcHRlZCBjcmVkaXQgY2FyZHNcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGl2ZVByb2R1Y3Q6IHN0YXRlLnByb2R1Y3RzLmFjdGl2ZVxuICAgIH1cbiAgfVxuKShQcm9kdWN0KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9jb250YWluZXJzL1Byb2R1Y3QuanN4IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7TGlua30gZnJvbSAncmVhY3Qtcm91dGVyJztcblxuY2xhc3MgUHJvZHVjdEl0ZW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgbGV0IHt0aXRsZSwgaWQsIGltYWdlfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0LWl0ZW1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0LWl0ZW0taW5uZXJcIj5cbiAgICAgICAgICA8TGluayB0bz17YC9wcm9kdWN0LyR7aWR9YH0+PGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0LWl0ZW0taW1hZ2VcIiBzdHlsZT17e2JhY2tncm91bmRJbWFnZTogJ3VybCgnICsgaW1hZ2UgKyAnKSd9fT48L2Rpdj48L0xpbms+XG4gICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgPGg2IGNsYXNzTmFtZT1cInByb2R1Y3QtaXRlbS10aXRsZVwiPjxMaW5rIHRvPXtgL3Byb2R1Y3QvJHtpZH1gfT57dGl0bGV9PC9MaW5rPjwvaDY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdXRob3JcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXV0aG9yX19waG90b1wiIHN0eWxlPXt7YmFja2dyb3VuZEltYWdlOiAndXJsKCcgKyBpbWFnZSArICcpJ319PjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdXRob3JfX2luZm9cIj5cbiAgICAgICAgICAgICAgPExpbmsgdG8gPXtgL2F1dGhvci9gfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1dGhvcl9fbmFtZVwiPkphbWVzODg8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1dGhvcl9fbG9jYXRpb25cIj5DYW50b24gT2hpbzwvZGl2PlxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7LyogPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLmFkZFRvQ2FydH0gY2xhc3NOYW1lPVwiYnRuXCI+QWRkIFRvIENhcnQ8L2J1dHRvbj4gKi99XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvZHVjdEl0ZW07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvY29udGFpbmVycy9Qcm9kdWN0SXRlbS5qc3giXSwic291cmNlUm9vdCI6IiJ9